"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),onAppLoad=function(){var _ref16=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return AppUtils.configureApp(),Adhara.init(App),_context3.next=4,AppUtils.lazyConfigure();case 4:case"end":return _context3.stop()}},_callee3,this)}));return function(){return _ref16.apply(this,arguments)}}();function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var i18n={"common.delete.success":"{0} deleted successfully.","common.delete.failure":"Error occurred while deleting {0}. Please try again later.","common.create.success":"{0} created successfully.","common.create.failure":"Error occurred while creating {0}. Please try again later.","common.edit.success":"{0} edited successfully.","common.edit.failure":"Error occurred while editing {0}. Please try again later.","common.name":"Name","common.success":"Success","common.error":"Error","common.pending":"Pending","common.failure":"Failure","common.delete":"Delete {0}","common.edit":"Edit {0}","common.copy":"Copy {0}","common.restore":"Restore {0}","common.trash":"Trash {0}","common.del_permanent":"Delete Permanently {0}","common.proceed":"Proceed","common.all":"All","common.refresh":"Refresh","common.start_date":"Start Date","common.end_date":"End Date","common.del_message":"Are you sure? Deleted {0} cannot be retrieved!","common.generate":"Generate","common.copied":"Copied Successfully","common.upload":"Upload","common.uploaded":"Upload successful","common.uploading":"Uploading...","common.deleting":"Deleting...","auth.password.reset.success":"Password reset successful. Please login","auth.password.reset.mail":"The instructions to reset your password have been sent to your email address","auth.password.error.length":"Your password length should be 8-25 characters","auth.password.error.no_match":"Password and confirm Password don't match","auth.password.error.same_password":"Your old and new passwords should not be the same","form.title":"Title","form.description":"Description","form.enter":"Enter {0}","form.choose":"Choose {0}","folders.label":"Folders","folders.create":"New Folder","folders.update":"Edit Folder","folders.del":"Delete Folder","folders.del_message":"Sure to delete folder <b>{0}</b> <br />Document's inside the folder will be moved to <i class='wb-home'></i> home.","folders.create.success":"Folder created successfully","folders.update.success":"Folder updated successfully","folders.del.success":"Folder removed successfully.<br /> Documents moved to <i class='wb-home'></i> Home","folders.home":"Home","folders.trash":"Trash","folders.form.name":"Folder Name","document.label":"Template","documents.label":"Templates","documents.create":"Create a New Template","documents.del":"Delete document","documents.create.wysiwyg":"Create your template with our Document Builder","documents.create.success":"Template Created Successfully","documents.update.success":"Template Updated Successfully","documents.copy.success":"Template <b>{0}</b> copied successfully","documents.del.success":"Template Deleted Successfully","documents.restore.success":"Template Restored Successfully","documents.restore_message":"Template {0} will be restored to folder <b>{1}</b>","documents.form.title":"Template Title","documents.form.description":"Template Description","documents.form.output_type":"Output Type","documents.form.output_file_name":"Output File Name","documents.form.page_size":"Page Size","documents.form.orientation":"Orientation","documents.form.orientation.portrait":"Portrait","documents.form.orientation.landscape":"Landscape","documents.form.folder":"Folder","documents.form.file":"Upload a .docx Template","documents.form.document_status":"Template Status","documents.form.flatten_pdf":"Flatten PDF","documents.form.document_status_active":"Active","documents.form.document_status_test":"Test","documents.form.auto_number":"Auto Number","documents.form.header":"Header","documents.form.footer":"Footer","documents.form.margins":"Page Margins (inches)","documents.form.margin.top":"Top (0.4 in)","documents.form.margin.left":"Left (0.4 in)","documents.form.margin.right":"Right (0.4 in)","documents.form.margin.bottom":"Bottom (0.4 in)","documents.form.password":"Password","documents.form.placeholder.password":"Password for Generated Document","documents.form.dynamic_images":"Insert dynamic images","documents.form.token":"Token","documents.form.page":"Page","documents.form.width":"Width","documents.form.height":"Height","documents.form.top":"Top","documents.form.left":"Left","documents.file.preview":"Document Preview","documents.input_types.fillable_pdf":"PDF","documents.input_types.html":"HTML","documents.input_types.builder":"Builder","documents.input_types.docx":"DOCX","documents.input_types.pptx":"PPTX","documents.input_types.xlsx":"XLSX","documents.input_types.g_document":"Google Document","documents.input_types.g_presentation":"Google Slide","documents.input_types.g_spreadsheet":"Google Sheet","documents.output_types.pdf":"PDF","documents.output_types.png":"PNG","documents.output_types.html":"HTML","documents.output_types.docx":"DOCX","documents.output_types.pptx":"PPTX","documents.output_types.xlsx":"XLSX","documents.details.label":"Template Details","documents.details.tabs.editor":"Editor","documents.details.tabs.content":"Document","documents.details.tabs.timeline":"Timeline","documents.details.tabs.preferences":"Preferences","documents.details.tabs.test":"Test","documents.details.tabs.delete":"Delete","documents.details.tabs.configure":"Configure","documents.details.lhs.brief.delivery":"Delivery","documents.details.tabs.merge":"Create","documents.details.tabs.merge.integrations":"API integrations","documents.details.tabs.merge.data_capture":"Data Capture Form","documents.details.tabs.merge.zapier":"Zapier","documents.details.tabs.merge.integromat":"Integromat","documents.details.tabs.merge.batch_process":"Bulk Merge","documents.details.rhs.merge_fields.label":"Template Tokens","documents.details.rhs.reserved_tokens":"Reserved Tokens","documents.details.rhs.merge_fields.no_data":"No tokens present  in template","documents.content.save":"Save Template {0}","documents.content.no_changes":"No changes","documents.content.saving":"Saving...","documents.content.updated":"Template updated successfully","documents.content.insert_field":"Insert template token","documents.content.insert_field.name":"Enter field name","documents.content.insert_field.value":"Enter field value","documents.content.insert_field.cols":"Enter table columns","document.content.merge_field.variable":"Token","document.content.merge_field.condition":"Condition","document.content.merge_field.loop":"Loop","document.content.merge_field.table":"Table","document.content.merge_field.condition.boolean":"Boolean","document.content.merge_field.condition.expression":"Expression","document.content.merge_field.conditional.==":"Equals","document.content.merge_field.conditional.!=":"Not Equals","document.content.merge_field.conditional.>":"Greater Than","document.content.merge_field.conditional.>=":"Greater Than or Equals","document.content.merge_field.conditional.<":"Less Than","document.content.merge_field.conditional.<=":"Less Than or Equals","document.content.merge_field.loop.default":"Simple Loop","document.content.merge_field.loop.ol":"Numbered Bullets","document.content.merge_field.loop.ul":"Bullets","document.merge.another":"Submit another","document.create.test.failed":"Failed to test document. Please contact support","document.create.failed":"Failed to create document. Please contact support","template.copy":'Copy template "{0}"',"settings.label":"Settings","settings.tabs.profile":"Profile","settings.tabs.security":"Security","settings.tabs.api":"Api Settings","settings.profile.first_name":"First Name","settings.profile.last_name":"Last Name","settings.profile.company_name":"Company Name","settings.profile.timezone":"Time Zone","settings.profile.save":"Update Profile","settings.security.current_password":"Current Password","settings.security.new_password":"New Password","settings.security.confirm_password":"Confirm Password","settings.security.save":"Update Password","settings.api.your_key":"Your API Key","settings.api.no_key":"No API Key available","linked_accounts.create":"Add new account","linked_accounts.update":"Update account","linked_accounts.create.success":"Account added successfully","linked_accounts.hello_sign.token":"HelloSign access token","linked_accounts.s3.aws_access_key_id":"AWS S3 Access Key ID","linked_accounts.s3.aws_secret_access_key":"AWS S3 Secret Access Key","settings.linked_accounts.reconnect":"Reconnect","settings.linked_accounts.revoke_access":"Revoke Access","linked_accounts.del":"Revoke Access","linked_accounts.del_message":"Revoke access of your <b>{0}</b> account for <b>{1}</b>.<br />Revoking access of a linked account will delete the account and all deliveries assigned to that account.","linked_accounts.del.success":"Linked account removed successfully","reports.label":"Reports","accounts.sign_out":"Sign out","delivery.nodata":"No deliveries yet. Let's configure first delivery","delivery.add.form.title":"Configure new {0} delivery","delivery.update.form.title":"Update {0} delivery","delivery.add.new":"New delivery","delivery.add.title":"Configure new delivery","delivery.label":"Deliveries","delivery.status":"Delivery Status","delivery.more":"More Deliveries","delivery.del":"Delete delivery?","delivery.operation.enable":"Enable Delivery","delivery.operation.disable":"Disable Delivery","delivery.operation.enabled":"Delivery Enabled Successfully","delivery.operation.disabled":"Delivery Disabled Successfully","delivery.operation.add.success":"Delivery added successfully","delivery.operation.update.success":"Delivery updated successfully","delivery.del.success":"Delivery deleted successfully","delivery.generics.name":"Name","delivery.generics.criteria":"Criteria","delivery.generics.delay":"Delay Delivery by","delivery.generics.fallback_emails":"In case if delivery failure notify to","delivery.generics.default_fallback":"By default email will be sent to {0}","delivery.generics.placeholders.email":"Enter comma separated E-Mail Id's","delivery.email.label":"Email","delivery.email.delivery_description":"Create a delivery to send the generated document output as an attachment via email","delivery.email.to":"To","delivery.email.from":"From","delivery.email.subject":"Subject","delivery.email.message":"Message","delivery.email.static_attachments":"Attachments","delivery.email.bcc":"Bcc","delivery.email.cc":"Cc","delivery.email.custom_headers":"Headers","delivery.webhook.label":"Webhook","delivery.webhook.delivery_description":"Configure a webhook to call a URL with the generated document and input data as payload","delivery.webhook.url":"Post URL","delivery.webhook.custom_headers":"Headers","delivery.webhook.custom_payload":"Data","delivery.zoho_crm.label":"Zoho CRM","delivery.zoho_crm.delivery_description":"Post to ZOHO CRM to attach the document to a lead or contract","delivery.dropbox.label":"DropBox","delivery.dropbox.account":"Dropbox Account","delivery.dropbox.folder":"Folder","delivery.dropbox.delivery_description":"Send the generated document to a specific dropbox folder","delivery.docu_sign.label":"DocuSign","delivery.docu_sign.delivery_description":"Post to DocuSign to start the signing process flow","delivery.docu_sign.account":"DocuSign Account","delivery.docu_sign.subject":"Email Subject","delivery.docu_sign.message":"Email Message","delivery.docu_sign.signers":"Recipients","delivery.docu_sign.fullname_anchor_tags":"Use full name anchor tags","delivery.docu_sign.sequenced_signing":"Set Signing Order","delivery.docu_sign.custom_tags":"Custom anchor tags","delivery.docu_sign.signers.help":"<p>Signer tags should be assigned as \\s1\\ if that particular signer is configured as 1st recipient here.</p><p>For example, if your configuration is Editor, CC, Signer, CC, and Signer, then \\s3\\ and \\s5\\ are valid signer tags inside the document</p>","delivery.docu_sign.expire_enabled":"Enable envelope expiry","delivery.docu_sign.expire_after":"Expire after (days)","delivery.docu_sign.enable_optional_signers":"Enable optional recipients","delivery.sign_now.label":"SignNow","delivery.sign_now.delivery_description":"Send a document to SignNow to start the signing process flow","delivery.sign_now.account":"SignNow Account","delivery.sign_now.subject":"Email Subject","delivery.sign_now.message":"Email Message","delivery.sign_now.signers":"Recipients","delivery.sign_now.cc":"CC","delivery.sign_now.fullname_anchor_tags":"Use full name anchor tags","delivery.sign_now.sequenced_signing":"Set Signing Order","delivery.sign_now.signers.help":"Learn more about SignNow Simple Text Tags (Anchor Tags)","delivery.sign_now.enable_optional_signers":"Enable optional recipients","delivery.salesforce.label":"Sales Force","delivery.salesforce.delivery_description":"Post the document to Sales Force","delivery.google_drive.label":"Google Drive","delivery.google_drive.delivery_description":"Store the generated document in your Google Drive Account","delivery.google_drive.account":"Google Account","delivery.google_drive.folder":"Folder","delivery.hellosign.label":"HelloSign","delivery.hellosign.delivery_description":"Send the document to HelloSign to start the signing process flow","delivery.hellosign.account":"HelloSign Account","delivery.hellosign.title":"Title","delivery.hellosign.subject":"Subject","delivery.hellosign.message":"Message","delivery.hellosign.cc":"CC","delivery.hellosign.signers":"Signers","delivery.hellosign.hide_text_tags":"Hide Text Tags","delivery.hellosign.sequenced_signing":"Sequenced Signing","delivery.hellosign.use_text_tags":"Use Text Tags","delivery.hellosign.enable_optional_signers":"Enable optional recipients","delivery.one_drive.label":"OneDrive","delivery.one_drive.delivery_description":"Store the generated document in your OneDrive Account","delivery.one_drive.account":"OneDrive Account","delivery.one_drive.folder":"Folder","delivery.eversign.label":"Eversign","delivery.eversign.delivery_description":"Send the document to Eversign to start the signing process flow","delivery.eversign.account":"Eversign Account","delivery.eversign.title":"Document title","delivery.eversign.message":"Document message","delivery.eversign.signers":"Signers","delivery.eversign.recipients":"Recipients","delivery.eversign.use_signer_order":"Use signing order","delivery.eversign.reminders":"Enable auto reminders","delivery.eversign.require_all_signers":"Require all signers to sign to complete document","delivery.eversign.expires_in":"Expire after (days)","delivery.eversign.enable_optional_signers":"Enable optional signers & recipients","delivery.aws_s3.label":"Amazon S3","delivery.aws_s3.delivery_description":"Upload created documents to AWS S3","delivery.aws_s3.account":"AWS IAM account","delivery.aws_s3.bucket":"AWS S3 Bucket","delivery.aws_s3.key_prefix":"File key prefix","delivery.freshsales.label":"Fresh Sales","delivery.freshsales.delivery_description":"Post to Document to Fresh Sales account to attach it to any module","delivery.zoho_docs.label":"Zoho Docs","delivery.zoho_docs.delivery_description":"Store the generated document in Zoho Docs","delivery.podio.label":"Podio","delivery.more.label":"More Deliveries","delivery.more.delivery_description":"More deliveries coming soon...","common.alert":"Alert","common.are_you_sure":"Are you sure?","common.submit":"Submit","common.processing":"Processing...","common.save":"Save","common.cancel":"Cancel","common.del":"Delete","common.failed":"Failed to perform the intended action","pages.home":"Home","pages.document_details":"Template Details","pages.deliveries":"Deliveries","pages.settings":"Settings","pages.reports":"Reports","pages.integrations":"Integrations","license.subscription":"Billing & Usage","license.subscription.current":"Current Subscription","license.choose":"Choose a plan that is right for you","license.subscribe":"Subscribe","license.subscribed":"Subscribed","update.password.success":"Password updated successfully","update.profile.success":"Profile updated successfully","update.password.failed":"Failed to update password","update.profile.failed":"Failed to update profile","api_token.title":"API Token","api_token.name":"API Token Name. Ex: Zapier","api_token.reset":"API Token reset successfully.","api_token.copy":"API Token copied to clipboard","api_token.generate":"Generate new Token","api_token.valid.name":"Enter a vaild name to generate the token","api_token.del.success":"Api token deleted successfully","license.usage":"Usage","license.used":"{0} documents created in current billing cycle","reports.overview":"Overview","reports.history":"History","reports.reset_filters":"Reset Filters","reports.all_documents":"All Templates","reports.download":"Download generated document","reports.download.expired":"Generated document expired","reports.view_data":"View data passed for generating this document","reports.data.expired":"Data passed for generating this document expired","subscriptions.plan.docupilot_free":"Free","subscriptions.plan.docupilot_starter_monthly":"Starter","subscriptions.plan.docupilot_plus_monthly":"Plus","subscriptions.plan.plan_1000_docs_monthly":"Pro","subscriptions.plan.plan_2000_docs_monthly":"Premium","subscriptions.plan.plan_5000_docs_monthly":"Business","subscriptions.plan.plan_10000_docs_monthly":"Enterprise","subscriptions.plan.plan_custom_docs_monthly":"Custom (Monthly)","subscriptions.plan.plan_100_docs_yearly":"Starter","subscriptions.plan.plan_500_docs_yearly":"Plus","subscriptions.plan.plan_1000_docs_yearly":"Pro","subscriptions.plan.plan_2000_docs_yearly":"Premium","subscriptions.plan.plan_5000_docs_yearly":"Business","subscriptions.plan.plan_10000_docs_yearly":"Enterprise","subscriptions.plan.plan_custom_docs_yearly":"Custom (Yearly)","billing.per.month":"Per Month","billing.per.year":"Per Year","contact.support.troubleshoot":'If you need help troubleshooting the error, please contact us via <a href="javascript:AppUtils.openChatSupport();">live support channel</a> or email us at <a href="mailto:support@docupilot.app">support@docupilot.app</a>'},_exports={};Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.ParserError=void 0;var ParserError=function(_Error){function ParserError(message){var error_code=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,ParserError);var _this=_possibleConstructorReturn(this,(ParserError.__proto__||Object.getPrototypeOf(ParserError)).call(this,message));return _this.type="ParserError",_this.error_code=1,_this.error_code=error_code,_this}return _inherits(ParserError,Error),ParserError}();_exports.ParserError=ParserError;var _types={MustacheStatement:"MustacheStatement",BlockStatement:"BlockStatement",SubExpression:"SubExpression",PathExpression:"PathExpression",StringLiteral:"StringLiteral",BooleanLiteral:"BooleanLiteral",NumberLiteral:"NumberLiteral",UndefinedLiteral:"UndefinedLiteral",NullLiteral:"NullLiteral",isLiteral:function(t){return t.endsWith("Literal")}},_allowedTypes={Any:[_types.SubExpression,_types.PathExpression,_types.StringLiteral,_types.BooleanLiteral,_types.NumberLiteral,_types.UndefinedLiteral,_types.NullLiteral],Iterable:[_types.SubExpression,_types.PathExpression],String:[_types.SubExpression,_types.PathExpression,_types.StringLiteral],StrictString:[_types.StringLiteral],StringOrNumber:[_types.SubExpression,_types.PathExpression,_types.NumberLiteral,_types.StringLiteral],StrictBoolean:[_types.BooleanLiteral],Number:[_types.SubExpression,_types.PathExpression,_types.NumberLiteral,_types.StringLiteral]},_helperUsageStyles={Any:[_types.BlockStatement,_types.MustacheStatement,_types.SubExpression],BlockOnly:[_types.BlockStatement],MustacheOnly:[_types.MustacheStatement],SubExpressionOnly:[_types.SubExpression],MustacheOrSubExpression:[_types.MustacheStatement,_types.SubExpression]};function integerValidator(value){if(isNaN(parseInt(value))||isNaN(+value)||parseInt(value)!==parseFloat(value))throw new ParserError("value must be a valid integer")}function preprocessHTMLEncoded(value){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.entries({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"})[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _ref=_step.value,_ref2=_slicedToArray(_ref,2),good=_ref2[0],bad=_ref2[1];value=value.replace(new RegExp(bad,"g"),good)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return value}var AbstractHelper=function(){function AbstractHelper(parser){_classCallCheck(this,AbstractHelper),this.parser=parser,this.params=this._createParamConfig()}return _createClass(AbstractHelper,[{key:"getValidationSchemaFor",value:function(type,lookup){var _a;return"param"===type?-1===(null===(_a=this.validationSchema.min_max)||void 0===_a?void 0:_a.max_params)?this.validationSchema.params[this.validationSchema.min_max.min_params-1]:this.validationSchema.params[lookup]:this.validationSchema.hashes[lookup]}},{key:"_createParamConfig",value:function(){var params={};this.validationSchema.params.forEach(function(param,index){params[param.name]={type:"param",index:index,lookup_from:param.lookup_from}});var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=Object.entries(this.validationSchema.hashes||{})[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _ref3=_step2.value,_ref4=_slicedToArray(_ref3,2),hashKey=_ref4[0],hashValue=_ref4[1];params[hashKey]={type:"hash",lookup_from:hashValue.lookup_from}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return params}},{key:"_getValueForParam",value:function(param){if(param.type!==_types.UndefinedLiteral)return param.type===_types.NullLiteral?null:param.original}},{key:"_validateUsageStyle",value:function(token,validation_schema){if(-1===validation_schema.usage_style.indexOf(token.type))throw new ParserError('Wrong usage for "'+this.name+'" helper')}},{key:"_validateParamsCount",value:function(positional_arguments,validation_schema){var _this2=this,allowed=validation_schema.allowed_param_counts,allowed_params_str=void 0,getParamsString=function(params){return 1===params?"parameter":"parameters"};if(allowed)-1===allowed.indexOf(positional_arguments.length)&&(allowed_params_str="exactly "+allowed.join(", ")+" "+getParamsString(allowed[allowed.length-1]));else{if(!validation_schema.min_max)throw new ParserError('Missing argument count configuration for "'+this.name+'"');var min=validation_schema.min_max.min_params,max=validation_schema.min_max.max_params;(positional_arguments.length<min||-1!==max&&positional_arguments.length>max)&&(allowed_params_str=min===max?"exactly "+max+" "+getParamsString(max):-1===max?"at least "+min+" "+getParamsString(min):min+" to "+max+" "+getParamsString(max))}if(allowed_params_str){var params_csv=positional_arguments.map(function(param){return _this2._getValueForParam(param)}).join(", "),args=positional_arguments.length?positional_arguments.length+" ("+params_csv+")":positional_arguments.length;throw new ParserError(this.name+" takes "+allowed_params_str+", passed "+args)}}},{key:"_validateType",value:function(param,schema){if(-1===schema.allowed_types.indexOf(param.type))throw new ParserError("invalid parameter passed to "+this.name+": "+this._getValueForParam(param))}},{key:"_validateValue",value:function(param,schema){if(_types.isLiteral(param.type)){var param_value=this._getValueForParam(param);if(schema.pre_processor&&(param_value=schema.pre_processor(param_value)),schema.allowed_values&&-1==schema.allowed_values.indexOf(param_value))throw new ParserError('Unsupported value "'+param_value+'" used with '+this.name+".\nSupported values are:\n"+schema.allowed_values.map(function(v){return"  "+("string"==typeof v?'"'+v+'"':v)}).join("\n"));if(schema.validator)schema.validator(param_value);else if(schema.allowed_types===_allowedTypes.Number&&(isNaN(parseInt(param_value))||isNaN(+param_value)))throw new ParserError('Unsupported value "'+param_value+'" used with '+this.name+". Must be a number.")}}},{key:"validate",value:function(token){var _a,positional_arguments=token.params,named_arguments=token.hash?token.hash.pairs:[],validation_schema=this.validationSchema;if(this._validateUsageStyle(token,validation_schema),this._validateParamsCount(positional_arguments,validation_schema),-1===(null===(_a=validation_schema.min_max)||void 0===_a?void 0:_a.max_params))for(var last_param_schema=validation_schema.params[validation_schema.params.length-1],need_extra=positional_arguments.length-validation_schema.params.length,i=0;i<need_extra;i++)validation_schema.params.push(last_param_schema);var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=positional_arguments.entries()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _ref5=_step3.value,_ref6=_slicedToArray(_ref5,2),idx=_ref6[0],param=_ref6[1];if(!(schema=validation_schema.params[idx]))throw new ParserError('Extra argument passed to "'+this.name+'": '+this._getValueForParam(param));this._validateType(param,schema),this._validateValue(param,schema)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}if(validation_schema.hashes){var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=named_arguments[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var schema,hash_pair=_step4.value;if(!(schema=validation_schema.hashes[hash_pair.key]))throw new ParserError("No argument with name "+hash_pair.key+' found for "'+this.name+'"');this._validateType(hash_pair.value,schema),this._validateValue(hash_pair.value,schema)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}else if(named_arguments.length)throw new ParserError('Named arguments are not supported for "'+this.name+'"')}},{key:"parse",value:function(token,baseToken){return this.validate(token),this._parse(token,baseToken)}},{key:"getPartsFromString",value:function(string_literal){return this.parser.buildSyntaxTree("{{"+string_literal+"}}").body[0].path.parts}},{key:"fillLookup",value:function(tokenSchema,helperToken,baseToken){var _a;if(tokenSchema.lookup_from&&this.params[tokenSchema.lookup_from]){var lookup_config=this.params[tokenSchema.lookup_from],string_literal=void 0;if("param"===lookup_config.type&&lookup_config.index){var lookup_token_param=helperToken.params[lookup_config.index];"StringLiteral"===lookup_token_param.type&&(string_literal=lookup_token_param.original)}else if("hash"===lookup_config.type&&helperToken.hash){var hash_pair=null===(_a=helperToken.hash)||void 0===_a?void 0:_a.pairs.find(function(pair){return pair.key===tokenSchema.lookup_from});hash_pair&&"StringLiteral"===hash_pair.value.type&&(string_literal=hash_pair.value.original)}string_literal&&this.parser.schema.addTokenInScope(baseToken.getChild(TokenPath.toTokenPartArray(this.getPartsFromString(string_literal),Parser.GENERIC_FRAGMENT)))}}},{key:"getEndFragmentType",value:function(tokenSchema){return tokenSchema.allowed_types==_allowedTypes.Iterable?Parser.LIST_FRAGMENT:tokenSchema.allowed_types==_allowedTypes.String?Parser.VAR_FRAGMENT:tokenSchema.lookup_from?Parser.NESTED_VAR_FRAGMENT:Parser.GENERIC_FRAGMENT}},{key:"parseParamAndHashExpressions",value:function(_ref7){var baseToken=_ref7.baseToken,expression=_ref7.expression,tokenSchema=_ref7.tokenSchema,helperToken=_ref7.helperToken;if("PathExpression"===expression.type){var casted_expression=expression;if(casted_expression.data)return baseToken;if(0!==casted_expression.depth){var depthToken=this.parser.addDepthToken(baseToken,casted_expression,this.getEndFragmentType(tokenSchema));return this.fillLookup(tokenSchema,helperToken,depthToken),depthToken}if(casted_expression.parts.length){var expressionToken=baseToken.getChild(TokenPath.toTokenPartArray(casted_expression.parts,this.getEndFragmentType(tokenSchema)));return this.fillLookup(tokenSchema,helperToken,expressionToken),this.parser.schema.addTokenInScope(expressionToken),expressionToken}}else if("SubExpression"===expression.type){var _expressionToken=this.parser.handleExpression(expression,baseToken,this.getEndFragmentType(tokenSchema));return this.fillLookup(tokenSchema,helperToken,_expressionToken),_expressionToken}return baseToken}},{key:"canRegister",get:function(){return!0}}]),AbstractHelper}(),EachHelper=function(_AbstractHelper){function EachHelper(){return _classCallCheck(this,EachHelper),_possibleConstructorReturn(this,(EachHelper.__proto__||Object.getPrototypeOf(EachHelper)).apply(this,arguments))}return _inherits(EachHelper,AbstractHelper),_createClass(EachHelper,[{key:"parseBlockContent",value:function(baseToken,token){var param=token.params[0],tokenPaths=[];if("SubExpression"===param.type){var casted_param=param,subExpressionToken=this.parser.handleExpression(casted_param,baseToken,Parser.VAR_FRAGMENT);this.ignoreProgramHelperList.includes(casted_param.path.original)||(tokenPaths=this.parser.convertToSchema(token.program,subExpressionToken,Parser.VAR_FRAGMENT))}else if(0!==(param=param).depth){var depthToken=this.parser.addDepthToken(baseToken,param,Parser.LIST_FRAGMENT);tokenPaths=this.parser.convertToSchema(token.program,depthToken,Parser.VAR_FRAGMENT)}else if(param.parts.length){var pathParamToken=baseToken.getChild(TokenPath.toTokenPartArray(param.parts,Parser.LIST_FRAGMENT));this.parser.schema.addTokenInScope(pathParamToken),tokenPaths=this.parser.convertToSchema(token.program,pathParamToken,Parser.VAR_FRAGMENT)}return tokenPaths.length?tokenPaths[0]:baseToken}},{key:"parseInverseContent",value:function(baseToken,inverse){inverse&&this.parser.convertToSchema(inverse,baseToken,Parser.GENERIC_FRAGMENT)}},{key:"_parse",value:function(token,baseToken){var tokenPath=this.parseBlockContent(baseToken,token);return this.parseInverseContent(baseToken,token.inverse),tokenPath}},{key:"name",get:function(){return"each"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.BlockOnly,min_max:{min_params:1,max_params:1},params:[{name:"iterable",allowed_types:[_types.SubExpression,_types.PathExpression]}]}}},{key:"ignoreProgramHelperList",get:function(){return["split"]}}]),EachHelper}(),ListHelper=function(_EachHelper){function ListHelper(){return _classCallCheck(this,ListHelper),_possibleConstructorReturn(this,(ListHelper.__proto__||Object.getPrototypeOf(ListHelper)).apply(this,arguments))}return _inherits(ListHelper,EachHelper),_createClass(ListHelper,[{key:"name",get:function(){return"list"}}]),ListHelper}(),SortHelper=function(_EachHelper2){function SortHelper(){return _classCallCheck(this,SortHelper),_possibleConstructorReturn(this,(SortHelper.__proto__||Object.getPrototypeOf(SortHelper)).apply(this,arguments))}return _inherits(SortHelper,EachHelper),_createClass(SortHelper,[{key:"_parse",value:function(token,baseToken){var first_param_token_path=void 0;if(token.params&&token.params.length){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=token.params.entries()[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var _ref8=_step5.value,_ref9=_slicedToArray(_ref8,2),index=_ref9[0],param=_ref9[1],token_path=this.parseParamAndHashExpressions({baseToken:baseToken,expression:param,tokenSchema:this.getValidationSchemaFor("param",index),helperToken:token});0===index&&(first_param_token_path=token_path)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}if(token.hash&&token.hash.pairs&&token.hash.pairs.length){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=token.hash.pairs[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var hash_pair=_step6.value,hash_value=hash_pair.value;this.parseParamAndHashExpressions({baseToken:baseToken,tokenSchema:this.getValidationSchemaFor("hash",hash_pair.key),helperToken:token,expression:hash_value})}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}return null!==first_param_token_path&&void 0!==first_param_token_path?first_param_token_path:baseToken}},{key:"name",get:function(){return"sort"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.SubExpressionOnly,min_max:{min_params:1,max_params:1},params:[{name:"array",allowed_types:_allowedTypes.Iterable,lookup_from:"lookup"}],hashes:{order:{allowed_types:_allowedTypes.StrictString,allowed_values:["asc","desc"]},lookup:{allowed_types:_allowedTypes.StrictString}}}}}]),SortHelper}(),JoinHelper=function(_SortHelper){function JoinHelper(){return _classCallCheck(this,JoinHelper),_possibleConstructorReturn(this,(JoinHelper.__proto__||Object.getPrototypeOf(JoinHelper)).apply(this,arguments))}return _inherits(JoinHelper,SortHelper),_createClass(JoinHelper,[{key:"name",get:function(){return"join"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:2},params:[{name:"array",allowed_types:_allowedTypes.Iterable,lookup_from:"lookup"},{name:"separator",allowed_types:_allowedTypes.StrictString}],hashes:{lookup:{allowed_types:_allowedTypes.StrictString}}}}}]),JoinHelper}(),GroupByHelper=function(_SortHelper2){function GroupByHelper(){return _classCallCheck(this,GroupByHelper),_possibleConstructorReturn(this,(GroupByHelper.__proto__||Object.getPrototypeOf(GroupByHelper)).apply(this,arguments))}return _inherits(GroupByHelper,SortHelper),_createClass(GroupByHelper,[{key:"_parse",value:function(token,baseToken){var returnToken=_get(GroupByHelper.prototype.__proto__||Object.getPrototypeOf(GroupByHelper.prototype),"_parse",this).call(this,token,baseToken);return returnToken.addSkipNext([/key/]),returnToken.addSkipNext([/items/,/length/,/.*/]),returnToken}},{key:"name",get:function(){return"group_by"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.SubExpressionOnly,min_max:{min_params:1,max_params:2},params:[{name:"array",allowed_types:_allowedTypes.Iterable,lookup_from:"lookup"}],hashes:{lookup:{allowed_types:_allowedTypes.StrictString}}}}}]),GroupByHelper}(),DefaultHelper=function(_AbstractHelper2){function DefaultHelper(){return _classCallCheck(this,DefaultHelper),_possibleConstructorReturn(this,(DefaultHelper.__proto__||Object.getPrototypeOf(DefaultHelper)).apply(this,arguments))}return _inherits(DefaultHelper,AbstractHelper),_createClass(DefaultHelper,[{key:"_parse",value:function(token,baseToken){var first_param_token_path=void 0;if(token.params&&token.params.length){var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=token.params.entries()[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var _ref10=_step7.value,_ref11=_slicedToArray(_ref10,2),index=_ref11[0],param=_ref11[1],token_path=this.parseParamAndHashExpressions({baseToken:baseToken,expression:param,tokenSchema:this.getValidationSchemaFor("param",index),helperToken:token});0===index&&(first_param_token_path=token_path)}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}if(token.hash&&token.hash.pairs&&token.hash.pairs.length&&this.validationSchema.hashes){var _iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _step8,_iterator8=token.hash.pairs[Symbol.iterator]();!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var hash_pair=_step8.value,hash_value=hash_pair.value;this.parseParamAndHashExpressions({baseToken:baseToken,expression:hash_value,tokenSchema:this.getValidationSchemaFor("hash",hash_pair.key),helperToken:token})}}catch(err){_didIteratorError8=!0,_iteratorError8=err}finally{try{!_iteratorNormalCompletion8&&_iterator8.return&&_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}return null!==first_param_token_path&&void 0!==first_param_token_path?first_param_token_path:baseToken}}]),DefaultHelper}(),BlockHelper=function(_DefaultHelper){function BlockHelper(){return _classCallCheck(this,BlockHelper),_possibleConstructorReturn(this,(BlockHelper.__proto__||Object.getPrototypeOf(BlockHelper)).apply(this,arguments))}return _inherits(BlockHelper,DefaultHelper),_createClass(BlockHelper,[{key:"parseBlockContent",value:function(token,baseToken){token.program&&this.parser.convertToSchema(token.program,baseToken,Parser.VAR_FRAGMENT),token.inverse&&this.parser.convertToSchema(token.inverse,baseToken,Parser.VAR_FRAGMENT)}},{key:"_parse",value:function(token,baseToken){return(token.hasOwnProperty("program")||token.hasOwnProperty("inverse"))&&this.parseBlockContent(token,baseToken),_get(BlockHelper.prototype.__proto__||Object.getPrototypeOf(BlockHelper.prototype),"_parse",this).call(this,token,baseToken)}}]),BlockHelper}(),IfHelper=function(_BlockHelper){function IfHelper(){return _classCallCheck(this,IfHelper),_possibleConstructorReturn(this,(IfHelper.__proto__||Object.getPrototypeOf(IfHelper)).apply(this,arguments))}return _inherits(IfHelper,BlockHelper),_createClass(IfHelper,[{key:"name",get:function(){return"if"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.BlockOnly,allowed_param_counts:[1,3],params:[{name:"param1",allowed_types:_allowedTypes.Any},{name:"operator",allowed_types:_allowedTypes.StrictString,pre_processor:preprocessHTMLEncoded,allowed_values:["equals","and","and not","or","in","not_in","contains","not_contains","has","||","&&","==","!=",">","<",">=","<="]},{name:"param2",allowed_types:_allowedTypes.Any}]}}}]),IfHelper}(),UnlessHelper=function(_IfHelper){function UnlessHelper(){return _classCallCheck(this,UnlessHelper),_possibleConstructorReturn(this,(UnlessHelper.__proto__||Object.getPrototypeOf(UnlessHelper)).apply(this,arguments))}return _inherits(UnlessHelper,IfHelper),_createClass(UnlessHelper,[{key:"name",get:function(){return"unless"}}]),UnlessHelper}(),LookupHelper=function(_DefaultHelper2){function LookupHelper(){return _classCallCheck(this,LookupHelper),_possibleConstructorReturn(this,(LookupHelper.__proto__||Object.getPrototypeOf(LookupHelper)).apply(this,arguments))}return _inherits(LookupHelper,DefaultHelper),_createClass(LookupHelper,[{key:"name",get:function(){return"lookup"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:2,max_params:2},params:[{name:"object",allowed_types:_allowedTypes.Any,lookup_from:"lookup"},{name:"lookup",allowed_types:_allowedTypes.Any}]}}}]),LookupHelper}(),ContentHelper=function(_DefaultHelper3){function ContentHelper(){return _classCallCheck(this,ContentHelper),_possibleConstructorReturn(this,(ContentHelper.__proto__||Object.getPrototypeOf(ContentHelper)).apply(this,arguments))}return _inherits(ContentHelper,DefaultHelper),_createClass(ContentHelper,[{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{max_params:1,min_params:1},params:[{name:"content",allowed_types:_allowedTypes.String}]}}}]),ContentHelper}(),UpperHelper=function(_ContentHelper){function UpperHelper(){return _classCallCheck(this,UpperHelper),_possibleConstructorReturn(this,(UpperHelper.__proto__||Object.getPrototypeOf(UpperHelper)).apply(this,arguments))}return _inherits(UpperHelper,ContentHelper),_createClass(UpperHelper,[{key:"name",get:function(){return"upper"}}]),UpperHelper}(),LowerHelper=function(_ContentHelper2){function LowerHelper(){return _classCallCheck(this,LowerHelper),_possibleConstructorReturn(this,(LowerHelper.__proto__||Object.getPrototypeOf(LowerHelper)).apply(this,arguments))}return _inherits(LowerHelper,ContentHelper),_createClass(LowerHelper,[{key:"name",get:function(){return"lower"}}]),LowerHelper}(),CapitalizeHelper=function(_DefaultHelper4){function CapitalizeHelper(){return _classCallCheck(this,CapitalizeHelper),_possibleConstructorReturn(this,(CapitalizeHelper.__proto__||Object.getPrototypeOf(CapitalizeHelper)).apply(this,arguments))}return _inherits(CapitalizeHelper,DefaultHelper),_createClass(CapitalizeHelper,[{key:"name",get:function(){return"capitalize"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:1},params:[{name:"content",allowed_types:_allowedTypes.String}],hashes:{format:{allowed_types:_allowedTypes.StrictString,allowed_values:["words"]}}}}}]),CapitalizeHelper}(),AbbreviateHelper=function(_DefaultHelper5){function AbbreviateHelper(){return _classCallCheck(this,AbbreviateHelper),_possibleConstructorReturn(this,(AbbreviateHelper.__proto__||Object.getPrototypeOf(AbbreviateHelper)).apply(this,arguments))}return _inherits(AbbreviateHelper,DefaultHelper),_createClass(AbbreviateHelper,[{key:"name",get:function(){return"abbreviate"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:2},params:[{name:"content",allowed_types:_allowedTypes.String},{name:"separator",allowed_types:_allowedTypes.String}]}}}]),AbbreviateHelper}(),SplitHelper=function(_DefaultHelper6){function SplitHelper(){return _classCallCheck(this,SplitHelper),_possibleConstructorReturn(this,(SplitHelper.__proto__||Object.getPrototypeOf(SplitHelper)).apply(this,arguments))}return _inherits(SplitHelper,DefaultHelper),_createClass(SplitHelper,[{key:"name",get:function(){return"split"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.SubExpressionOnly,min_max:{min_params:1,max_params:2},params:[{name:"content",allowed_types:_allowedTypes.String},{name:"separator",allowed_types:_allowedTypes.String}]}}}]),SplitHelper}(),PadHelper=function(_DefaultHelper7){function PadHelper(){return _classCallCheck(this,PadHelper),_possibleConstructorReturn(this,(PadHelper.__proto__||Object.getPrototypeOf(PadHelper)).apply(this,arguments))}return _inherits(PadHelper,DefaultHelper),_createClass(PadHelper,[{key:"name",get:function(){return"pad"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:2,max_params:2},params:[{name:"number",allowed_types:_allowedTypes.StringOrNumber},{name:"length",allowed_types:_allowedTypes.Number}],hashes:{pad_with:{allowed_types:_allowedTypes.StrictString,validator:function(value){if(1!==value.length)throw new ParserError("Must be single character")}},style:{allowed_types:_allowedTypes.StrictString,allowed_values:["prefix","suffix"]}}}}}]),PadHelper}(),RegexHelper=function(_DefaultHelper8){function RegexHelper(){return _classCallCheck(this,RegexHelper),_possibleConstructorReturn(this,(RegexHelper.__proto__||Object.getPrototypeOf(RegexHelper)).apply(this,arguments))}return _inherits(RegexHelper,DefaultHelper),_createClass(RegexHelper,[{key:"name",get:function(){return"regex"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.SubExpressionOnly,min_max:{min_params:1,max_params:2},params:[{name:"pattern",allowed_types:_allowedTypes.StrictString},{name:"flags",allowed_types:_allowedTypes.StrictString,validator:function(value){if(!/^(?:([gmisuy])(?!.*\1))*$/g.test(value))throw new ParserError('flags can be any or a combination of "g", "m", "i", "s", "u" and "y". Ex: "gi"')}}]}}}]),RegexHelper}(),ReplaceHelper=function(_DefaultHelper9){function ReplaceHelper(){return _classCallCheck(this,ReplaceHelper),_possibleConstructorReturn(this,(ReplaceHelper.__proto__||Object.getPrototypeOf(ReplaceHelper)).apply(this,arguments))}return _inherits(ReplaceHelper,DefaultHelper),_createClass(ReplaceHelper,[{key:"name",get:function(){return"replace"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:3,max_params:3},params:[{name:"content",allowed_types:_allowedTypes.String},{name:"match_value",allowed_types:_allowedTypes.String},{name:"replace_value",allowed_types:_allowedTypes.String}]}}}]),ReplaceHelper}(),StripHelper=function(_DefaultHelper10){function StripHelper(){return _classCallCheck(this,StripHelper),_possibleConstructorReturn(this,(StripHelper.__proto__||Object.getPrototypeOf(StripHelper)).apply(this,arguments))}return _inherits(StripHelper,DefaultHelper),_createClass(StripHelper,[{key:"name",get:function(){return"strip"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:2},params:[{name:"content",allowed_types:_allowedTypes.String},{name:"chars",allowed_types:_allowedTypes.String}],hashes:{side:{allowed_types:_allowedTypes.StrictString,allowed_values:["left","right"]}}}}}]),StripHelper}(),ConcatHelper=function(_DefaultHelper11){function ConcatHelper(){return _classCallCheck(this,ConcatHelper),_possibleConstructorReturn(this,(ConcatHelper.__proto__||Object.getPrototypeOf(ConcatHelper)).apply(this,arguments))}return _inherits(ConcatHelper,DefaultHelper),_createClass(ConcatHelper,[{key:"name",get:function(){return"concat"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:2,max_params:-1},params:[{name:"text",allowed_types:_allowedTypes.String},{name:"text",allowed_types:_allowedTypes.String}]}}}]),ConcatHelper}(),URLDecodeHelper=function(_DefaultHelper12){function URLDecodeHelper(){return _classCallCheck(this,URLDecodeHelper),_possibleConstructorReturn(this,(URLDecodeHelper.__proto__||Object.getPrototypeOf(URLDecodeHelper)).apply(this,arguments))}return _inherits(URLDecodeHelper,DefaultHelper),_createClass(URLDecodeHelper,[{key:"name",get:function(){return"url_decode"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{max_params:1,min_params:1},params:[{name:"content",allowed_types:_allowedTypes.String}],hashes:{is_url:{allowed_types:_allowedTypes.StrictBoolean}}}}}]),URLDecodeHelper}(),URLEncodeHelper=function(_URLDecodeHelper){function URLEncodeHelper(){return _classCallCheck(this,URLEncodeHelper),_possibleConstructorReturn(this,(URLEncodeHelper.__proto__||Object.getPrototypeOf(URLEncodeHelper)).apply(this,arguments))}return _inherits(URLEncodeHelper,URLDecodeHelper),_createClass(URLEncodeHelper,[{key:"name",get:function(){return"url_encode"}}]),URLEncodeHelper}(),FormatDateHelper=function(_DefaultHelper13){function FormatDateHelper(){return _classCallCheck(this,FormatDateHelper),_possibleConstructorReturn(this,(FormatDateHelper.__proto__||Object.getPrototypeOf(FormatDateHelper)).apply(this,arguments))}return _inherits(FormatDateHelper,DefaultHelper),_createClass(FormatDateHelper,[{key:"name",get:function(){return"format_date"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:4},params:[{name:"date",allowed_types:_allowedTypes.Number},{name:"format",allowed_types:_allowedTypes.String},{name:"locale",allowed_types:_allowedTypes.String,allowed_values:["af","ar-dz","ar-kw","ar-ly","ar-ma","ar-sa","ar-tn","ar","az","be","bg","bm","bn","bo","br","bs","ca","cs","cv","cy","da","de-at","de-ch","de","dv","el","en","en-SG","en-au","en-ca","en-gb","en-ie","en-il","en-nz","eo","es-do","es-us","es","et","eu","fa","fi","fo","fr-ca","fr-ch","fr","fy","ga","gd","gl","gom-latn","gu","he","hi","hr","hu","hy-am","id","is","it-ch","it","ja","jv","ka","kk","km","kn","ko","ku","ky","lb","lo","lt","lv","me","mi","mk","ml","mn","mr","ms-my","ms","mt","my","nb","ne","nl-be","nl","nn","pa-in","pl","pt-br","pt","ro","ru","sd","se","si","sk","sl","sq","sr-cyrl","sr","ss","sv","sw","ta","te","tet","tg","th","tl-ph","tlh","tr","tzl","tzm-latn","tzm","ug-cn","uk","ur","uz-latn","uz","vi","x-pseudo","yo","zh-cn","zh-hk","zh-tw"]},{name:"offset",allowed_types:_allowedTypes.String}]}}}]),FormatDateHelper}(),FormatNumberHelper=function(_DefaultHelper14){function FormatNumberHelper(){return _classCallCheck(this,FormatNumberHelper),_possibleConstructorReturn(this,(FormatNumberHelper.__proto__||Object.getPrototypeOf(FormatNumberHelper)).apply(this,arguments))}return _inherits(FormatNumberHelper,DefaultHelper),_createClass(FormatNumberHelper,[{key:"name",get:function(){return"format_number"}},{key:"validationSchema",get:function(){var _this28=this;return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:4},params:[{name:"number",allowed_types:_allowedTypes.Number,validator:function(value){if("string"==typeof value&&(isNaN(parseFloat(value))||isNaN(+value)))throw new ParserError('Value passed to "'+_this28.name+'" must be a valid number. Passed "'+value+'"')}},{name:"thousand_separator",allowed_types:_allowedTypes.StrictString},{name:"decimal_separator",allowed_types:_allowedTypes.StrictString},{name:"precision",allowed_types:_allowedTypes.Number,validator:integerValidator}],hashes:{input_format:{allowed_types:_allowedTypes.StrictString,allowed_values:["eu"]},output_format:{allowed_types:_allowedTypes.StrictString,allowed_values:["in"]}}}}}]),FormatNumberHelper}(),FormatPhoneHelper=function(_DefaultHelper15){function FormatPhoneHelper(){return _classCallCheck(this,FormatPhoneHelper),_possibleConstructorReturn(this,(FormatPhoneHelper.__proto__||Object.getPrototypeOf(FormatPhoneHelper)).apply(this,arguments))}return _inherits(FormatPhoneHelper,DefaultHelper),_createClass(FormatPhoneHelper,[{key:"name",get:function(){return"format_phone"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:2},params:[{name:"phone_number",allowed_types:_allowedTypes.Number},{name:"format",allowed_types:_allowedTypes.String}]}}}]),FormatPhoneHelper}(),NumberToWords=function(_DefaultHelper16){function NumberToWords(){return _classCallCheck(this,NumberToWords),_possibleConstructorReturn(this,(NumberToWords.__proto__||Object.getPrototypeOf(NumberToWords)).apply(this,arguments))}return _inherits(NumberToWords,DefaultHelper),_createClass(NumberToWords,[{key:"name",get:function(){return"number_to_words"}},{key:"validationSchema",get:function(){var _this31=this;return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:1},params:[{name:"number",allowed_types:_allowedTypes.Number,validator:function(value){if("string"==typeof value&&(isNaN(parseFloat(value))||isNaN(+value)))throw new ParserError('Value passed to "'+_this31.name+'" must be a valid number. Passed "'+value+'"')}}],hashes:{output_format:{allowed_types:_allowedTypes.StrictString,allowed_values:["in"]},suffix:{allowed_types:_allowedTypes.StrictString},decimal_suffix:{allowed_types:_allowedTypes.StrictString}}}}}]),NumberToWords}(),NumberToOrdinal=function(_DefaultHelper17){function NumberToOrdinal(){return _classCallCheck(this,NumberToOrdinal),_possibleConstructorReturn(this,(NumberToOrdinal.__proto__||Object.getPrototypeOf(NumberToOrdinal)).apply(this,arguments))}return _inherits(NumberToOrdinal,DefaultHelper),_createClass(NumberToOrdinal,[{key:"name",get:function(){return"number_to_ordinal"}},{key:"validationSchema",get:function(){var _this33=this;return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:1},params:[{name:"number",allowed_types:_allowedTypes.Number,validator:function(value){if("string"==typeof value&&(isNaN(parseFloat(value))||isNaN(+value)))throw new ParserError('Value passed to "'+_this33.name+'" must be a valid number. Passed "'+value+'"')}}]}}}]),NumberToOrdinal}(),MathHelper=function(_DefaultHelper18){function MathHelper(){return _classCallCheck(this,MathHelper),_possibleConstructorReturn(this,(MathHelper.__proto__||Object.getPrototypeOf(MathHelper)).apply(this,arguments))}return _inherits(MathHelper,DefaultHelper),_createClass(MathHelper,[{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:2,max_params:-1},params:[{name:"number",allowed_types:_allowedTypes.Number},{name:"number",allowed_types:_allowedTypes.Number}]}}}]),MathHelper}(),AddHelper=function(_MathHelper){function AddHelper(){return _classCallCheck(this,AddHelper),_possibleConstructorReturn(this,(AddHelper.__proto__||Object.getPrototypeOf(AddHelper)).apply(this,arguments))}return _inherits(AddHelper,MathHelper),_createClass(AddHelper,[{key:"name",get:function(){return"add"}}]),AddHelper}(),SubtractHelper=function(_MathHelper2){function SubtractHelper(){return _classCallCheck(this,SubtractHelper),_possibleConstructorReturn(this,(SubtractHelper.__proto__||Object.getPrototypeOf(SubtractHelper)).apply(this,arguments))}return _inherits(SubtractHelper,MathHelper),_createClass(SubtractHelper,[{key:"name",get:function(){return"subtract"}}]),SubtractHelper}(),DivideHelper=function(_MathHelper3){function DivideHelper(){return _classCallCheck(this,DivideHelper),_possibleConstructorReturn(this,(DivideHelper.__proto__||Object.getPrototypeOf(DivideHelper)).apply(this,arguments))}return _inherits(DivideHelper,MathHelper),_createClass(DivideHelper,[{key:"name",get:function(){return"divide"}}]),DivideHelper}(),MultiplyHelper=function(_MathHelper4){function MultiplyHelper(){return _classCallCheck(this,MultiplyHelper),_possibleConstructorReturn(this,(MultiplyHelper.__proto__||Object.getPrototypeOf(MultiplyHelper)).apply(this,arguments))}return _inherits(MultiplyHelper,MathHelper),_createClass(MultiplyHelper,[{key:"name",get:function(){return"multiply"}}]),MultiplyHelper}(),ModuloHelper=function(_MathHelper5){function ModuloHelper(){return _classCallCheck(this,ModuloHelper),_possibleConstructorReturn(this,(ModuloHelper.__proto__||Object.getPrototypeOf(ModuloHelper)).apply(this,arguments))}return _inherits(ModuloHelper,MathHelper),_createClass(ModuloHelper,[{key:"name",get:function(){return"modulo"}}]),ModuloHelper}(),VarHelper=function(_ContentHelper3){function VarHelper(){return _classCallCheck(this,VarHelper),_possibleConstructorReturn(this,(VarHelper.__proto__||Object.getPrototypeOf(VarHelper)).apply(this,arguments))}return _inherits(VarHelper,ContentHelper),_createClass(VarHelper,[{key:"name",get:function(){return"var"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOrSubExpression,min_max:{min_params:1,max_params:2},params:[{name:"variable",allowed_types:_allowedTypes.StrictString},{name:"value",allowed_types:_allowedTypes.Any}]}}}]),VarHelper}(),AbstractImageHelper=function(_DefaultHelper19){function AbstractImageHelper(){return _classCallCheck(this,AbstractImageHelper),_possibleConstructorReturn(this,(AbstractImageHelper.__proto__||Object.getPrototypeOf(AbstractImageHelper)).apply(this,arguments))}return _inherits(AbstractImageHelper,DefaultHelper),_createClass(AbstractImageHelper,[{key:"canRegister",get:function(){return"docx"===this.parser.doc_type||"pptx"===this.parser.doc_type||"html"===this.parser.doc_type}}]),AbstractImageHelper}(),InsertImageHelper=function(_AbstractImageHelper){function InsertImageHelper(){return _classCallCheck(this,InsertImageHelper),_possibleConstructorReturn(this,(InsertImageHelper.__proto__||Object.getPrototypeOf(InsertImageHelper)).apply(this,arguments))}return _inherits(InsertImageHelper,AbstractImageHelper),_createClass(InsertImageHelper,[{key:"name",get:function(){return"insert_image"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOnly,min_max:{min_params:1,max_params:3},params:[{name:"url",allowed_types:_allowedTypes.String},{name:"width",allowed_types:_allowedTypes.Number},{name:"height",allowed_types:_allowedTypes.Number}]}}}]),InsertImageHelper}(),InsertQRHelper=function(_AbstractImageHelper2){function InsertQRHelper(){return _classCallCheck(this,InsertQRHelper),_possibleConstructorReturn(this,(InsertQRHelper.__proto__||Object.getPrototypeOf(InsertQRHelper)).apply(this,arguments))}return _inherits(InsertQRHelper,AbstractImageHelper),_createClass(InsertQRHelper,[{key:"name",get:function(){return"insert_qr"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOnly,min_max:{min_params:1,max_params:7},params:[{name:"qr_content",allowed_types:_allowedTypes.String},{name:"size",allowed_types:_allowedTypes.Number},{name:"margin",allowed_types:_allowedTypes.Number},{name:"color",allowed_types:_allowedTypes.String},{name:"bg_color",allowed_types:_allowedTypes.String},{name:"branding_url",allowed_types:_allowedTypes.String},{name:"branding_ratio",allowed_types:_allowedTypes.Number}]}}}]),InsertQRHelper}(),InsertBarcodeHelper=function(_AbstractImageHelper3){function InsertBarcodeHelper(){return _classCallCheck(this,InsertBarcodeHelper),_possibleConstructorReturn(this,(InsertBarcodeHelper.__proto__||Object.getPrototypeOf(InsertBarcodeHelper)).apply(this,arguments))}return _inherits(InsertBarcodeHelper,AbstractImageHelper),_createClass(InsertBarcodeHelper,[{key:"name",get:function(){return"insert_barcode"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOnly,min_max:{min_params:1,max_params:7},params:[{name:"bar_content",allowed_types:_allowedTypes.String},{name:"format",allowed_types:_allowedTypes.String,allowed_values:["CODE39","CODE128","CODE128A","CODE128B","CODE128C","EAN13","EAN8","EAN5","EAN2","UPC","ITF14","ITF","MSI","MSI10","MSI11","MSI1010","MSI1110"]},{name:"bar_width",allowed_types:_allowedTypes.Number},{name:"height",allowed_types:_allowedTypes.Number},{name:"margin",allowed_types:_allowedTypes.Number},{name:"color",allowed_types:_allowedTypes.String},{name:"bg_color",allowed_types:_allowedTypes.String}]}}}]),InsertBarcodeHelper}(),InsertMapHelper=function(_AbstractImageHelper4){function InsertMapHelper(){return _classCallCheck(this,InsertMapHelper),_possibleConstructorReturn(this,(InsertMapHelper.__proto__||Object.getPrototypeOf(InsertMapHelper)).apply(this,arguments))}return _inherits(InsertMapHelper,AbstractImageHelper),_createClass(InsertMapHelper,[{key:"name",get:function(){return"insert_map"}},{key:"validationSchema",get:function(){return{usage_style:_helperUsageStyles.MustacheOnly,min_max:{min_params:1,max_params:5},params:[{name:"search",allowed_types:_allowedTypes.String},{name:"width",allowed_types:_allowedTypes.Number},{name:"height",allowed_types:_allowedTypes.Number},{name:"map_type",allowed_types:_allowedTypes.String,allowed_values:["roadmap","satellite","hybrid","terrain"]},{name:"zoom",allowed_types:_allowedTypes.Number}]}}}]),InsertMapHelper}();function setValueToJson(object,path,value){for(var keys=path.split("."),i=0;i<keys.length;i++){var key=keys[i];i+1<keys.length?(object.hasOwnProperty(key)||(object[key]={}),object=object[key]):object[key]=value}}var TokenPart=function TokenPart(name,type){_classCallCheck(this,TokenPart),this.name=name,this.type=type},TokenPath=function(){function TokenPath(parts){_classCallCheck(this,TokenPath),this.parts=parts,this.skip_next=[]}return _createClass(TokenPath,[{key:"cleanParts",value:function(parts,skip_config){return parts.length&&skip_config.length&&skip_config[0].test(parts[0].name)?this.cleanParts(parts.slice(1),skip_config.slice(1)):parts}},{key:"cleanAllParts",value:function(parts){var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _step9,_iterator9=this.skip_next[Symbol.iterator]();!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){var skip_config=_step9.value,cleaned_parts=this.cleanParts(parts,skip_config);if(cleaned_parts.length!==parts.length)return cleaned_parts}}catch(err){_didIteratorError9=!0,_iteratorError9=err}finally{try{!_iteratorNormalCompletion9&&_iterator9.return&&_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}return parts}},{key:"getChild",value:function(parts){return new TokenPath(TokenPath.collapseLookBacks([].concat(_toConsumableArray(this.parts),_toConsumableArray(this.cleanAllParts(parts)))))}},{key:"addSkipNext",value:function(parts){this.skip_next.push(parts)}}],[{key:"collapseLookBacks",value:function(parts){for(var to_remove=[],index=0;index<parts.length;index++)if("../"===parts[index].name)for(var target_index=index-1;;){if(-1===to_remove.indexOf(target_index)){to_remove.push(index,target_index);break}target_index-=1}var _iteratorNormalCompletion10=!0,_didIteratorError10=!1,_iteratorError10=void 0;try{for(var _step10,_iterator10=to_remove.sort().reverse()[Symbol.iterator]();!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=!0){var _index=_step10.value;parts.splice(_index,1)}}catch(err){_didIteratorError10=!0,_iteratorError10=err}finally{try{!_iteratorNormalCompletion10&&_iterator10.return&&_iterator10.return()}finally{if(_didIteratorError10)throw _iteratorError10}}return parts}},{key:"toTokenPartArray",value:function(parts,last_part_type){return parts.map(function(part,index){return new TokenPart(part,index+1==parts.length?last_part_type:void 0)})}}]),TokenPath}(),Schema=function(){function Schema(){_classCallCheck(this,Schema),this.paths=[]}return _createClass(Schema,[{key:"addTokenInScope",value:function(token){this.paths.push(token)}},{key:"addToSchema",value:function(schema,token){var _a,_b,_c,_d,e_token=null,e_index=-1,_iteratorNormalCompletion11=!0,_didIteratorError11=!1,_iteratorError11=void 0;try{for(var _step11,_iterator11=schema.entries()[Symbol.iterator]();!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=!0){var _ref12=_step11.value,_ref13=_slicedToArray(_ref12,2),i=_ref13[0],schema_token=_ref13[1];schema_token.name===token.name&&(e_token=schema_token,e_index=i)}}catch(err){_didIteratorError11=!0,_iteratorError11=err}finally{try{!_iteratorNormalCompletion11&&_iterator11.return&&_iterator11.return()}finally{if(_didIteratorError11)throw _iteratorError11}}if(e_token){if(e_token.type===Parser.GENERIC_FRAGMENT?token.type!==Parser.GENERIC_FRAGMENT&&(schema[e_index].type=token.type):e_token.type===Parser.VAR_FRAGMENT?token.type!==Parser.GENERIC_FRAGMENT&&(schema[e_index].type=token.type):e_token.type===Parser.BLOCK_FRAGMENT&&1===(null===(_a=e_token.fields)||void 0===_a?void 0:_a.length)&&"length"===e_token.fields[0].name&&token.type===Parser.LIST_FRAGMENT&&(schema[e_index].type=Parser.LIST_FRAGMENT,schema[e_index].fields=[]),schema[e_index].type!==Parser.LIST_FRAGMENT&&schema[e_index].type!==Parser.BLOCK_FRAGMENT||schema[e_index].fields||(schema[e_index].fields=[]),token.type!==e_token.type){if(token.type===Parser.BLOCK_FRAGMENT&&(1!==(null===(_b=token.fields)||void 0===_b?void 0:_b.length)||"length"!==token.fields[0].name)&&e_token.type===Parser.LIST_FRAGMENT||token.type===Parser.LIST_FRAGMENT&&e_token.type===Parser.BLOCK_FRAGMENT&&(1!==(null===(_c=e_token.fields)||void 0===_c?void 0:_c.length)||"length"!==e_token.fields[0].name))throw new ParserError('Invalid usage of field "'+token.name+'". It is used as '+e_token.type+" as well as "+token.type)}else if(token.fields){var scoped_ast=null!==(_d=schema[e_index].fields)&&void 0!==_d?_d:[],_iteratorNormalCompletion12=!0,_didIteratorError12=!1,_iteratorError12=void 0;try{for(var _step12,_iterator12=token.fields[Symbol.iterator]();!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=!0){var token_field=_step12.value;this.addToSchema(scoped_ast,token_field)}}catch(err){_didIteratorError12=!0,_iteratorError12=err}finally{try{!_iteratorNormalCompletion12&&_iterator12.return&&_iterator12.return()}finally{if(_didIteratorError12)throw _iteratorError12}}}}else schema.push(token);return schema}},{key:"postProcess",value:function(schema){var _iteratorNormalCompletion13=!0,_didIteratorError13=!1,_iteratorError13=void 0;try{for(var _step13,_iterator13=schema[Symbol.iterator]();!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=!0){var schema_field=_step13.value;this._addGenerics(schema_field),schema_field.fields&&this.postProcess(schema_field.fields)}}catch(err){_didIteratorError13=!0,_iteratorError13=err}finally{try{!_iteratorNormalCompletion13&&_iterator13.return&&_iterator13.return()}finally{if(_didIteratorError13)throw _iteratorError13}}}},{key:"asJsonSchema",value:function(){var schema_fields=[],_iteratorNormalCompletion14=!0,_didIteratorError14=!1,_iteratorError14=void 0;try{for(var _step14,_iterator14=this.paths[Symbol.iterator]();!(_iteratorNormalCompletion14=(_step14=_iterator14.next()).done);_iteratorNormalCompletion14=!0){for(var path=_step14.value,main_field=void 0,current_field=void 0,index=0;index<path.parts.length;index++){var part=path.parts[index];if(isNaN(+part.name)){var next_part=path.parts[index+1],newField=this.getTemplateSchemaField(part,next_part);0==index&&(main_field=newField),current_field&&this.addToSchema(current_field.fields,newField),current_field=newField}}main_field&&this.addToSchema(schema_fields,main_field)}}catch(err){_didIteratorError14=!0,_iteratorError14=err}finally{try{!_iteratorNormalCompletion14&&_iterator14.return&&_iterator14.return()}finally{if(_didIteratorError14)throw _iteratorError14}}return this.postProcess(schema_fields),schema_fields}},{key:"getTemplateSchemaField",value:function(token_part,next_part){var _a,is_last=!next_part,is_next_part_a_number=!!next_part&&!isNaN(+next_part.name),end_fragment=Parser.VAR_FRAGMENT,nested_fragment=is_next_part_a_number?Parser.LIST_FRAGMENT:Parser.NESTED_VAR_FRAGMENT;is_last||token_part.type!=Parser.VAR_FRAGMENT&&token_part.type!=Parser.GENERIC_FRAGMENT||(token_part.type=void 0);var schema_field={name:token_part.name,type:null!==(_a=token_part.type)&&void 0!==_a?_a:is_last?end_fragment:nested_fragment};return is_last||(schema_field.fields=[]),schema_field}},{key:"_addGenerics",value:function(schema_field){schema_field.type===Parser.LIST_FRAGMENT&&(schema_field.fields||(schema_field.fields=[]),schema_field.generics=schema_field.fields.length?Parser.NESTED_VAR_FRAGMENT:Parser.VAR_FRAGMENT),schema_field.type===Parser.NESTED_VAR_FRAGMENT&&(schema_field.fields||(schema_field.fields=[]))}}]),Schema}(),Parser=function(){function Parser(handlebars_instance){var doc_type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html";_classCallCheck(this,Parser),this.schema=new Schema,this.unsupported_helpers={},this.helpers={},this.Handlebars=handlebars_instance,this.doc_type=doc_type;for(var _arr=[EachHelper,ListHelper,IfHelper,UnlessHelper,LookupHelper,UpperHelper,LowerHelper,CapitalizeHelper,AbbreviateHelper,SplitHelper,ReplaceHelper,StripHelper,ConcatHelper,PadHelper,RegexHelper,FormatDateHelper,FormatNumberHelper,FormatPhoneHelper,NumberToWords,NumberToOrdinal,URLDecodeHelper,URLEncodeHelper,SortHelper,JoinHelper,GroupByHelper,AddHelper,SubtractHelper,DivideHelper,MultiplyHelper,ModuloHelper,VarHelper,InsertImageHelper,InsertQRHelper,InsertBarcodeHelper,InsertMapHelper],_i=0;_i<_arr.length;_i++){var helperClass=_arr[_i];this.registerHelper(helperClass)}}return _createClass(Parser,[{key:"registerHelper",value:function(helperClass){var helper=new helperClass(this);helper.canRegister?this.helpers[helper.name]=helper:this.unsupported_helpers[helper.name]=helper}},{key:"hasHelper",value:function(helper_name){return!!this.helpers[helper_name]}},{key:"getHelper",value:function(helper_name,casted_raw_token){if(this.helpers[helper_name])return this.helpers[helper_name];if(this.unsupported_helpers[helper_name])throw new ParserError("Cannot use "+helper_name+" in this template type");throw new ParserError('Invalid Helper used. Helper "'+helper_name+'" does not exist\nDid you mean to write '+helper_name+"_"+casted_raw_token.params.map(function(token){return token.original}).join("_"))}},{key:"handleExpression",value:function(tok,baseToken,end_token_type){if(tok.type===_types.MustacheStatement||tok.type===_types.SubExpression||tok.type===_types.BlockStatement){var casted_raw_token=tok,has_params=casted_raw_token.params&&casted_raw_token.params.length,has_hash_arguments=casted_raw_token.hash&&casted_raw_token.hash.pairs&&casted_raw_token.hash.pairs.length;if(tok.type===_types.MustacheStatement){var casted_token=tok;if(casted_token.path.type===_types.PathExpression)if(casted_token.path.data)return baseToken}if(tok.type===_types.BlockStatement||has_params||has_hash_arguments){var _casted_path=casted_raw_token.path;return this.getHelper(_casted_path.original,casted_raw_token).parse(casted_raw_token,baseToken)}if("MustacheStatement"===tok.type){var casted_mustache_token=casted_raw_token;if("PathExpression"===casted_mustache_token.path.type){var _casted_path2=casted_mustache_token.path;if(_casted_path2.depth>0)this.addDepthToken(baseToken,_casted_path2,end_token_type);else if(1===_casted_path2.parts.length){if(this.hasHelper(_casted_path2.parts[0]))return this.getHelper(_casted_path2.parts[0],casted_raw_token).parse(casted_raw_token,baseToken);this.schema.addTokenInScope(baseToken.getChild(TokenPath.toTokenPartArray(_casted_path2.parts,end_token_type)))}else _casted_path2.parts.length>1&&this.schema.addTokenInScope(baseToken.getChild(TokenPath.toTokenPartArray(_casted_path2.parts,end_token_type)))}}}return baseToken}},{key:"addDepthToken",value:function(base_token,casted_path,last_part_type){var depth_token=base_token.getChild([].concat(_toConsumableArray(Array(casted_path.depth).fill(new TokenPart("../"))),_toConsumableArray(TokenPath.toTokenPartArray(casted_path.parts,last_part_type))));return this.schema.addTokenInScope(depth_token),depth_token}},{key:"convertToSchema",value:function(ast,baseToken,end_token_type){var ast_statements=ast.body.slice(),tokenPaths=[],_iteratorNormalCompletion15=!0,_didIteratorError15=!1,_iteratorError15=void 0;try{for(var _step15,_iterator15=ast_statements[Symbol.iterator]();!(_iteratorNormalCompletion15=(_step15=_iterator15.next()).done);_iteratorNormalCompletion15=!0){var tok=_step15.value;tokenPaths.push(this.handleExpression(tok,baseToken,end_token_type))}}catch(err){_didIteratorError15=!0,_iteratorError15=err}finally{try{!_iteratorNormalCompletion15&&_iterator15.return&&_iterator15.return()}finally{if(_didIteratorError15)throw _iteratorError15}}return tokenPaths}},{key:"buildSyntaxTree",value:function(content){"string"!=typeof content&&(content="");try{return content=content.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'),this.Handlebars.parse(content)}catch(e){throw new ParserError(e.message)}}},{key:"getSchema",value:function(code){return this.convertToSchema(this.buildSyntaxTree(code),new TokenPath([]),Parser.VAR_FRAGMENT),Parser.filterSchema(this.schema.asJsonSchema())}},{key:"getSafeSchema",value:function(code){try{return this.getSchema(code)}catch(e){return[]}}},{key:"extractSchemaFromObject",value:function(json){if(json instanceof Array){var _iteratorNormalCompletion16=!0,_didIteratorError16=!1,_iteratorError16=void 0;try{for(var _step16,_iterator16=json[Symbol.iterator]();!(_iteratorNormalCompletion16=(_step16=_iterator16.next()).done);_iteratorNormalCompletion16=!0){var one_value=_step16.value;this.extractSchemaFromObject(one_value)}}catch(err){_didIteratorError16=!0,_iteratorError16=err}finally{try{!_iteratorNormalCompletion16&&_iterator16.return&&_iterator16.return()}finally{if(_didIteratorError16)throw _iteratorError16}}}else if("object"===(void 0===json?"undefined":_typeof(json))){for(var key in json)if(json.hasOwnProperty(key)){var value=json[key];this.extractSchemaFromObject(value)}}else this.convertToSchema(this.buildSyntaxTree(json),new TokenPath([]),Parser.VAR_FRAGMENT);return Parser.filterSchema(this.schema.asJsonSchema())}}],[{key:"filterSchema",value:function(schema){return schema.filter(function(schematic){return 0!==schematic.name.indexOf("_")})}}]),Parser}();_exports.default=Parser,Parser.VAR_FRAGMENT="string",Parser.NESTED_VAR_FRAGMENT="object",Parser.BLOCK_FRAGMENT="object",Parser.LIST_FRAGMENT="array",Parser.GENERIC_FRAGMENT="generic",JSONEditor.defaults.themes.dmio=JSONEditor.defaults.themes.bootstrap2.extend({getIndentedPanel:function(){var el=document.createElement("div");return el.className="indented-panel",el},getTable:function(){var el=document.createElement("div");return el.className="table table-bordered",el.style.width="auto",el.style.maxWidth="none",el.style.overflowX="auto",el}});var AppUtils={};!function(){function _proceed_further(is_logged_in,proceed,is_strict_auth_page,is_strict_no_auth_page){return is_logged_in&&is_strict_no_auth_page?(Adhara.container.destroy(),Adhara.router.navigateTo("/"+window.location.search)):!is_logged_in&&is_strict_auth_page?Adhara.router.navigateTo("/login"):void proceed()}function _process_routing(routing_params,proceed,is_strict_auth_page,is_strict_no_auth_page,is_logged_in){if(routing_params,!0===is_logged_in)return _proceed_further(is_logged_in,proceed,is_strict_auth_page,is_strict_no_auth_page);Session.isLoggedIn().then(function(is_logged_in){_proceed_further(is_logged_in,proceed,is_strict_auth_page,is_strict_no_auth_page)},function(err){_proceed_further(404!==err.code,proceed,is_strict_auth_page,is_strict_no_auth_page)})}AppUtils.Router={authMiddleware:function(routing_params,proceed){var is_strict_no_auth_page=-1!==[VIEWS.LOGIN,VIEWS.SIGNUP,VIEWS.RESET_PASSWORD,VIEWS.FORGOT_PASSWORD].indexOf(routing_params.view_name),is_strict_auth_page=-1!==[VIEWS.HOME,VIEWS.DOCUMENT_DETAILS,VIEWS.SETTINGS,VIEWS.REPORTS,VIEWS.INTEGRATIONS].indexOf(routing_params.view_name),errors=Adhara.getView(ContainerView).errors;if(!errors)return _process_routing(routing_params,proceed,is_strict_auth_page,is_strict_no_auth_page,!0);if(0===errors.meta.response_code)Adhara.toast.error("API Service unavailable");else{if(400===errors.meta.response_code)return _process_routing(routing_params,proceed,is_strict_auth_page,is_strict_no_auth_page,!1);Adhara.app.is_debug_mode||!navigator||navigator.onLine?Adhara.toast.error("Error! "+errors.meta.error+" "+errors.meta.response_code):Adhara.toast.error("Looks like you are not connected to the internet")}proceed()},wysiwygMiddleware:function(routing_params,proceed){var document_editor_view=null;try{if((document_editor_view=Adhara.getView(DocumentEditorView)).savable)return void document_editor_view.saveDocument(null,proceed)}catch(e){}proceed()}},AppUtils.adjustAppBody=function(){document.querySelector(".content-wrapper-c2").style.paddingTop=document.querySelector("header").clientHeight+"px"},AppUtils.configureToastr=function(){window.toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-left",preventDuplicates:!1,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}},AppUtils.makeReadable=function(text){return text?text.replace(new RegExp("_","g")," "):text},AppUtils.makeToken=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\s/g,"_")},AppUtils.addHandlebarHelpers=function(){window.Handlebars.registerHelper({makeReadable:AppUtils.makeReadable,static:function(path){return window.base_url+path},static_img:function(path){return window.base_images_url+"/"+path}})},AppUtils.getClosest=function(elem,selector){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;--i>=0&&matches.item(i)!==this;);return i>-1});elem&&elem!==document;elem=elem.parentNode)if(elem.matches(selector))return elem;return null},AppUtils.addCloseOverflowMenuListener=function(){document.body.addEventListener("click",function(event){var elem=event.target;"overflow-menu"===event.target.dataset.toggle||event.target.parentElement&&"overflow-menu"===event.target.parentElement.dataset.toggle||(AppUtils.getClosest(elem,".overflow-menu")||document.querySelectorAll(".overflow-menu").forEach(function(overflowMenu){overflowMenu.classList.remove("active")}))})},AppUtils.overflowToggle=function(event,parent_container){var overflow_menu=parent_container?parent_container.querySelector(".overflow-menu"):event.target.nextElementSibling;overflow_menu.classList.toggle("active"),overflow_menu.querySelectorAll(".overflow-item").forEach(function(li){li.addEventListener("click",function(){overflow_menu.classList.remove("active")})})},AppUtils.configureApp=function(){AppUtils.configureToastr(),AppUtils.addHandlebarHelpers(),AppUtils.addCloseOverflowMenuListener(),AppUtils.initTypeWriter(),AppUtils.initializePayments()},AppUtils.lazyConfigure=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,AppUtils.setGhostModeStatus();case 2:case"end":return _context.stop()}},_callee,void 0)})),AppUtils.getHashCode=function(str){var hash=0;if(0===str.length)return hash;for(var i=0;i<str.length;i++){hash=(hash<<5)-hash+str.charCodeAt(i),hash&=hash}return hash},AppUtils.initializePayments=function(){var _Environments$PRODUCT;window.Chargebee&&window.Chargebee.init({site:(_Environments$PRODUCT={},_defineProperty(_Environments$PRODUCT,Environments.PRODUCTION,"docupilot"),_defineProperty(_Environments$PRODUCT,Environments.STAGING,"docupilot-test"),_defineProperty(_Environments$PRODUCT,Environments.DEBUG,"docupilot-test"),_Environments$PRODUCT)[App.env]})},AppUtils.initializeWhatsNew=function(){!function(){var e=["debug","destroy","do","help","identify","is","off","on","ready","render","reset","safe","set"];if(window.noticeable)console.warn("Noticeable SDK code snippet loaded more than once");else{var t=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),n.push(t),n}},n=window.noticeable=window.noticeable||[];!function(){for(var o=0;o<e.length;o++){var r=e[o];n[r]=t(r)}}(),function(){var e=document.createElement("script");e.async=!0,e.src="https://sdk.noticeable.io/l.js";var n=document.head;n.insertBefore(e,n.firstChild)}()}}(),noticeable.render("widget","YCePUHiYjZjvRwS39Cw6")},AppUtils.initializeSupportWidget=function(userProfile){if(App.env!==window.Environments.DEBUG){var externalId=userProfile.id;App.env!==window.Environments.PRODUCTION&&(externalId=App.env+"-"+externalId);var restoreId=Adhara.getView(ContainerView).getPersonalization("tp:freshchat:restoreId");window.fcWidget.init({token:"d691ae4c-150b-46a8-a8b5-08b30a412736",host:"https://wchat.freshchat.com",externalId:externalId,restoreId:restoreId});var properties={firstName:userProfile.first_name,lastName:userProfile.last_name,email:userProfile.email,plan:userProfile.licensePlan.name,meta:{env:App.env}};null===restoreId?window.fcWidget.user.create(properties):window.fcWidget.user.update(properties),window.fcWidget.on("widget:opened",function(resp){console.log("Widget Opened")}),fcWidget.on("user:created",function(user){restoreId||window.fcWidget.user.get().then(function(response){Adhara.getView(ContainerView).setPersonalization("tp:freshchat:restoreId",response.data.restoreId)})}),window.fcWidget.user.get().then(function(response){response&&(response.data.restoreId!==restoreId&&Adhara.getView(ContainerView).setPersonalization("tp:freshchat:restoreId",response.data.restoreId))})}},AppUtils.openFeedback=function(replyText){window.fcWidget?window.fcWidget.open({name:"Product Feedback",replyText:replyText}):console.log('window.fcWidget.open({name: "Product Feedback", "'+replyText+'"});')},AppUtils.openChatSupport=function(replyText){window.fcWidget?window.fcWidget.open({name:"Support",replyText:replyText}):console.log('window.fcWidget.open({ name: "Support", "'+replyText+'" });')},AppUtils.refreshProfileData=function(){Session.logout().then(Adhara.lightReload,Adhara.lightReload)},AppUtils.initTypeWriter=function(){window.typewriter={prepareElement:function(element){for(var characters=element.innerHTML.split(""),spans="",i=0;i<characters.length;i++)spans+="<span"+(" "===characters[i]?' class="whitespace"':"")+">"+characters[i]+"</span>";element.innerHTML=spans},prepare:function(selector){for(var elements=document.querySelectorAll(selector),i=0;i<elements.length;i++)this.prepareElement(elements[i])},toggleType:function(mode,selector,options){return new Promise(function(resolve,reject){var opts={};options=options||{},setTimeout(function(){var children=document.querySelectorAll(selector+" span");if("untype"===mode){children=Array.prototype.slice.call(children).reverse();for(var j=0;j<children.length;j++)children[j].classList.add("show")}opts.delay=options.delay?options.delay:options.duration?options.duration/children.length:50;var i=0,rAF=void 0;!function typeCharacter(){setTimeout(function(){rAF=requestAnimationFrame(typeCharacter),i<children.length?"type"===mode?children[i].classList.add("show"):children[i].classList.remove("show"):(cancelAnimationFrame(rAF),resolve()),i++},opts.delay)}()},10)})},type:function(selector,options){return this.toggleType("type",selector,options)},untype:function(selector,options){return this.toggleType("untype",selector,options)}}},AppUtils.copyToClipboard=function(content){var ele=document.createElement("textarea");ele.value=content,document.body.appendChild(ele),ele.select(),document.execCommand("Copy"),document.body.removeChild(ele)},AppUtils.enableGhostMode=function(){Adhara.dataInterface.remember("ghost-mode",!0,{timeout:18e5}),AppUtils.isGhostModeEnabled=!0,document.location.reload()},AppUtils.disableGhostMode=function(){Adhara.dataInterface.remove("ghost-mode"),AppUtils.isGhostModeEnabled=!1,document.location.reload()},AppUtils.setGhostModeStatus=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,Adhara.dataInterface.recall("ghost-mode");case 3:AppUtils.isGhostModeEnabled=_context2.sent,_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2.catch(0),AppUtils.isGhostModeEnabled=!1;case 9:case"end":return _context2.stop()}},_callee2,void 0,[[0,6]])}))}();var Session={};!function(){function getProfileURL(){return URLS.user_profile}Session.login=function(profile){return Adhara.dataInterface.remember(getProfileURL(),profile)},Session.isLoggedIn=function(){return Adhara.dataInterface.recall(getProfileURL())},Session.logout=function(){return Adhara.dataInterface.db_table.removeAll()}}();var App=function(_AdharaApp){function App(){return _classCallCheck(this,App),_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).apply(this,arguments))}return _inherits(App,AdharaApp),_createClass(App,[{key:"responseMiddleWare",value:function(entity_config,success,response,xhr){if(success){var url=entity_config.data_config.url;return url.startsWith("http://")||url.startsWith("https://")||url.startsWith("//")?response:response.data}try{return xhr.responseJSON?xhr.responseJSON.data:JSON.parse(xhr.responseText).data}catch(e){return response.hasOwnProperty("data")?response.data:response}}},{key:"requestMiddleWare",value:function(url,method_name,data){return data}},{key:"toast",value:function(title,content,type){return toastr[type](content,title)}},{key:"is_debug_mode",get:function(){return window.is_debug_mode}},{key:"name",get:function(){return"Docupilot"}},{key:"detailedName",get:function(){return{first:"Docupilot",last:""}}},{key:"tagLine",get:function(){return"Automate your document creation"}},{key:"DOMSelector",get:function(){return"#app"}},{key:"containerView",get:function(){return ContainerView}},{key:"routerConfiguration",get:function(){return{routes:[{url:"^/templates/{{doc_id}}([0-9]+){{slash_tab}}(/{{tab}}(editor|content|preferences|test|deliver|generate)){0,1}{{slash_generate_tab}}(/{{generate_tab}}(integrations|manual|bulk_merge|zapier|integromat)){0,1}{{is_mutate}}(/{{delivery_id}}(add|[0-9]+)){0,1}{{slash_delivery_type}}(/{{delivery_type}}(email|webhook|dropbox|google_drive|hellosign|docu_sign|sign_now|one_drive|eversign|aws_s3)){0,1}{{slash_delivery_tab}}(/{{delivery_tab}}(edit|test)){0,1}$",view_name:VIEWS.DOCUMENT_DETAILS,view:DocumentDetailsHomeView},{url:"^/settings({{slash_tab}}/({{tab}}profile|api|security|linked_accounts|subscription)){0,1}$",view_name:VIEWS.SETTINGS,view:SettingsView},{url:"^/reports({{slash_tab}}/({{tab}}overview|history)){0,1}$",view_name:VIEWS.REPORTS,view:ReportsView},{url:"^(/templates|/|)$",view_name:VIEWS.HOME,view:HomeView},{url:"^/login$",view_name:VIEWS.LOGIN,view:LoginView},{url:"^/signup$",view_name:VIEWS.SIGNUP,view:SignupView},{url:"^/forgot_password$",view_name:VIEWS.FORGOT_PASSWORD,view:ForgotPasswordView},{url:"^/confirm_password_reset/{{identifier}}([0-9A-Za-z_\\-]+)/{{token}}([0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})$",view_name:VIEWS.RESET_PASSWORD,view:ResetPasswordView},{url:"^/documents/create/{{token_o}}([0-9A-Za-z_-]{8})/{{token_a}}([0-9A-Za-z_-]{8})$",view_name:VIEWS.MERGE_FORM,view:MergeFormView},{url:"^.*$",view_name:VIEWS.FOUR_O_FOUR,view:FourOFour}],middlewares:[AppUtils.Router.authMiddleware,AppUtils.Router.wysiwygMiddleware]}}},{key:"apiServerURL",get:function(){return""}},{key:"DIConfig",get:function(){return{reuse_timeout:12e4}}},{key:"config",get:function(){return AppConfig}},{key:"customViewConfig",get:function(){return{fetching_data:{AdharaListView:"common/fetching-data",AdharaFormView:"common/fetching-data"},no_data:{AdharaListView:"common/no-data",AdharaFormView:"common/no-data"},error:{AdharaView:"common/data-error"}}}},{key:"i18n_key_map",get:function(){return Object.assign(_get(App.prototype.__proto__||Object.getPrototypeOf(App.prototype),"i18n_key_map",this),i18n)}}]),App}();window.Environments={DEBUG:"debug",PRODUCTION:"production",STAGING:"staging"},App.env="dashboard.docupilot.app"===window.location.host?Environments.PRODUCTION:window.is_debug_mode?Environments.DEBUG:Environments.STAGING;var DmioBlob=function(_DataBlob){function DmioBlob(){return _classCallCheck(this,DmioBlob),_possibleConstructorReturn(this,(DmioBlob.__proto__||Object.getPrototypeOf(DmioBlob)).apply(this,arguments))}return _inherits(DmioBlob,DataBlob),_createClass(DmioBlob,[{key:"_formatDateTime",value:function(date_time){var date=new Date(date_time);return'\n        <i class="far fa-calendar"></i>\n        '+_get(DmioBlob.prototype.__proto__||Object.getPrototypeOf(DmioBlob.prototype),"_formatDate",this).call(this,date)+'\n        \n        <i class="far fa-clock"></i>\n        '+_get(DmioBlob.prototype.__proto__||Object.getPrototypeOf(DmioBlob.prototype),"_formatTime",this).call(this,date)+"\n        "}},{key:"_formatTime",value:function(date_time){var date=new Date(date_time);return'\n        <i class="far fa-clock"></i>\n        '+_get(DmioBlob.prototype.__proto__||Object.getPrototypeOf(DmioBlob.prototype),"_formatTime",this).call(this,date)+"\n        "}}]),DmioBlob}();DmioBlob.getUTCMillis=function(date_as_string,format){return window.moment(date_as_string,format||DmioBlob.DEFAULT_DATE_FORMAT).utc().valueOf()},DmioBlob.DEFAULT_DATE_FORMAT="MM/DD/YYYY";var TimeZone=function(_DmioBlob){function TimeZone(){return _classCallCheck(this,TimeZone),_possibleConstructorReturn(this,(TimeZone.__proto__||Object.getPrototypeOf(TimeZone)).apply(this,arguments))}return _inherits(TimeZone,DmioBlob),_createClass(TimeZone,[{key:"name",get:function(){return this._data.name}},{key:"timeZone",get:function(){return this._data.tz}}]),TimeZone}(),UserProfile=function(_DmioBlob2){function UserProfile(){return _classCallCheck(this,UserProfile),_possibleConstructorReturn(this,(UserProfile.__proto__||Object.getPrototypeOf(UserProfile)).apply(this,arguments))}return _inherits(UserProfile,DmioBlob),_createClass(UserProfile,[{key:"id",get:function(){return this._data.id}},{key:"organization",get:function(){return this._data.organization}},{key:"first_name",get:function(){return this._data.first_name},set:function(first_name){this._data.first_name=first_name}},{key:"signature_alphabet",get:function(){return this.first_name[0]}},{key:"last_name",get:function(){return this._data.last_name},set:function(last_name){this._data.last_name=last_name}},{key:"phone",get:function(){return this._data.phone},set:function(phone){this._data.phone=phone}},{key:"email",get:function(){return this._data.email}},{key:"name",get:function(){return this.first_name+" "+this.last_name}},{key:"timeZone",get:function(){return this._data.timezone}},{key:"licensePlan",get:function(){return{name:"beta"}}},{key:"license",get:function(){return{used:2,allowed:5,percent_used:40}}}]),UserProfile}(),Meta=function(_DmioBlob3){function Meta(){return _classCallCheck(this,Meta),_possibleConstructorReturn(this,(Meta.__proto__||Object.getPrototypeOf(Meta)).apply(this,arguments))}return _inherits(Meta,DmioBlob),_createClass(Meta,[{key:"getRedirectURL",value:function(type){return type===LinkedAccount.types.DOCUSIGN||type===LinkedAccount.types.ONE_DRIVE?this.baseURL+"authorize_integrator/"+type:this.baseURL+"authorize_integrator?integrator="+type}},{key:"getIntegrationURL",value:function(integrator_type,account_type,account_id){var url=void 0;if(integrator_type===LinkedAccount.types.DROPBOX)url=new URL("https://www.dropbox.com/oauth2/authorize?response_type=code&token_access_type=offline&client_id="+this._data.integrators[LinkedAccount.types.DROPBOX].app_key+"&redirect_uri="+this.getRedirectURL(LinkedAccount.types.DROPBOX));else if(integrator_type===LinkedAccount.types.GOOGLE_DRIVE)url=new URL("https://accounts.google.com/o/oauth2/v2/auth?scope=openid email profile https://www.googleapis.com/auth/drive&access_type=offline&prompt=consent&response_type=code&client_id="+this._data.integrators[LinkedAccount.types.GOOGLE_DRIVE].app_key+"&redirect_uri="+this.getRedirectURL(LinkedAccount.types.GOOGLE_DRIVE));else if(integrator_type===LinkedAccount.types.DOCUSIGN){var is_demo="Sandbox"===account_type,query="response_type=code&scope=signature&state="+JSON.stringify({auth:is_demo?"demo":"live"})+"&client_id="+this._data.integrators[LinkedAccount.types.DOCUSIGN].client_id+"&redirect_uri="+this.getRedirectURL(LinkedAccount.types.DOCUSIGN);url=is_demo?new URL("https://account-d.docusign.com/oauth/auth?"+query):new URL("https://account.docusign.com/oauth/auth?"+query)}else if(integrator_type===LinkedAccount.types.PODIO)url=new URL("https://podio.com/oauth/authorize?client_id="+this._data.integrators[LinkedAccount.types.PODIO].client_id+"&redirect_uri="+encodeURIComponent(this.getRedirectURL(LinkedAccount.types.PODIO))+"&scope=global:all");else if(integrator_type===LinkedAccount.types.SIGN_NOW){var sub_domain=Adhara.app.is_debug_mode?"eval.":"";url=new URL("https://"+sub_domain+"signnow.com/proxy/index.php/authorize?client_id="+this._data.integrators[LinkedAccount.types.SIGN_NOW].client_id+"&response_type=code&redirect_uri="+this.getRedirectURL(LinkedAccount.types.SIGN_NOW))}else integrator_type===LinkedAccount.types.ONE_DRIVE?url=new URL("https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id="+this._data.integrators[LinkedAccount.types.ONE_DRIVE].client_id+"&scope=User.Read offline_access Files.ReadWrite Files.ReadWrite.All Files.ReadWrite.AppFolder&response_type=code&redirect_uri="+this.getRedirectURL(LinkedAccount.types.ONE_DRIVE)):integrator_type===LinkedAccount.types.EVERSIGN&&(url=new URL("https://eversign.com/oauth/authorize?client_id="+this._data.integrators[LinkedAccount.types.EVERSIGN].client_id));if(account_id){var state=JSON.parse(url.searchParams.get("state")||"{}");state.account_id=account_id,url.searchParams.set("state",JSON.stringify(state))}return url.href}},{key:"getFileUploadConfig",value:function(purpose){return this._data.file_uploads[purpose]}},{key:"baseURL",get:function(){return window.location.protocol+"//"+window.location.host+"/"}},{key:"offers",get:function(){return this._data.subscription.offers}},{key:"batchProcessMaxAllowedTestRows",get:function(){return this._data.batch_process_max_allowed_test_rows}}]),Meta}(),BannerNotification=function(_DmioBlob4){function BannerNotification(){return _classCallCheck(this,BannerNotification),_possibleConstructorReturn(this,(BannerNotification.__proto__||Object.getPrototypeOf(BannerNotification)).apply(this,arguments))}return _inherits(BannerNotification,DmioBlob),_createClass(BannerNotification,[{key:"id",get:function(){return this._data.id}},{key:"content",get:function(){return this._data.content}},{key:"action",get:function(){return this._data.action}},{key:"enabled",get:function(){return!1!==this._data.enabled}},{key:"startDate",get:function(){return this._data.start_date}},{key:"endDate",get:function(){return this._data.end_date}},{key:"isValid",get:function(){return this.enabled&&this.startDate&&moment(this.startDate)<moment()&&moment(this.endDate)>moment()}}]),BannerNotification}(),Personalization=function(_DmioBlob5){function Personalization(){return _classCallCheck(this,Personalization),_possibleConstructorReturn(this,(Personalization.__proto__||Object.getPrototypeOf(Personalization)).apply(this,arguments))}return _inherits(Personalization,DmioBlob),_createClass(Personalization,[{key:"get_value",value:function(key){return this._data[key]}},{key:"set_value",value:function(key,value){this._data[key]=value}},{key:"json",set:function(json){return this._data=json},get:function(){return this._data}}]),Personalization}(),Folder=function(_DmioBlob6){function Folder(){return _classCallCheck(this,Folder),_possibleConstructorReturn(this,(Folder.__proto__||Object.getPrototypeOf(Folder)).apply(this,arguments))}return _inherits(Folder,DmioBlob),_createClass(Folder,[{key:"name",get:function(){return 0!==this.id||this._data.name?this._data.name:Adhara.i18n.get("folders.home")}},{key:"id",get:function(){return this._data&&this._data.id||0}},{key:"active",get:function(){var query_folder=Adhara.router.getQueryParam("folder");return{home:void 0===query_folder,trash:"trash"===query_folder,general:+query_folder===this.id}[this.type]}},{key:"href",get:function(){return{home:"/templates",trash:"/templates?folder=trash",general:"/templates?folder="+this.id}[this.type]}},{key:"type",get:function(){return this._data&&this._data.type||(0===this.id?"home":"general")}}]),Folder}();Folder.create=function(type){return new Folder({name:Adhara.i18n.get("folders."+type),type:type})},Folder.types={HOME:"home",TRASH:"trash",GENERAL:"general"};var FileInfo=function(_DmioBlob7){function FileInfo(){return _classCallCheck(this,FileInfo),_possibleConstructorReturn(this,(FileInfo.__proto__||Object.getPrototypeOf(FileInfo)).apply(this,arguments))}return _inherits(FileInfo,DmioBlob),_createClass(FileInfo,[{key:"fileId",get:function(){return this._data.id}},{key:"fileType",get:function(){return this._data.type}},{key:"gFileType",get:function(){return this._data.type.replace(/google-apps\./,"")}},{key:"linkedAccountId",get:function(){return+this._data.linked_account}},{key:"fileName",get:function(){return this._data.name}},{key:"filePath",get:function(){return this._data.path}},{key:"downloadLink",get:function(){return API+"/files/"+this.fileId}},{key:"previewURL",get:function(){return"https://docs.google.com/viewer?embedded=true&url="+encodeURIComponent(this._data.url)}}]),FileInfo}(),DocumentSchema=function(_DmioBlob8){function DocumentSchema(){return _classCallCheck(this,DocumentSchema),_possibleConstructorReturn(this,(DocumentSchema.__proto__||Object.getPrototypeOf(DocumentSchema)).apply(this,arguments))}return _inherits(DocumentSchema,DmioBlob),_createClass(DocumentSchema,[{key:"schema",get:function(){return this._data.map(function(field){return new SchemaField(field)})}}]),DocumentSchema}();DocumentSchema.reservedTokens=["_date","_datetime","_auto_number"];var SchemaField=function(_DmioBlob9){function SchemaField(){return _classCallCheck(this,SchemaField),_possibleConstructorReturn(this,(SchemaField.__proto__||Object.getPrototypeOf(SchemaField)).apply(this,arguments))}return _inherits(SchemaField,DmioBlob),_createClass(SchemaField,[{key:"name",get:function(){return this._data.name}},{key:"type",get:function(){return this._data.type}},{key:"generics",get:function(){return this._data.generics}},{key:"fields",get:function(){return this._data.fields?new DocumentSchema(this._data.fields).schema:null}},{key:"readableType",get:function(){var _Parser$VAR_FRAGMENT$,_Parser$GENERIC_FRAGM;return(_Parser$GENERIC_FRAGM={},_defineProperty(_Parser$GENERIC_FRAGM,Parser.GENERIC_FRAGMENT,"string"),_defineProperty(_Parser$GENERIC_FRAGM,Parser.VAR_FRAGMENT,"string"),_defineProperty(_Parser$GENERIC_FRAGM,Parser.NESTED_VAR_FRAGMENT,"object"),_defineProperty(_Parser$GENERIC_FRAGM,Parser.BLOCK_FRAGMENT,"object"),_defineProperty(_Parser$GENERIC_FRAGM,Parser.LIST_FRAGMENT,(_Parser$VAR_FRAGMENT$={},_defineProperty(_Parser$VAR_FRAGMENT$,Parser.VAR_FRAGMENT,"list <string>"),_defineProperty(_Parser$VAR_FRAGMENT$,Parser.NESTED_VAR_FRAGMENT,"list <object>"),_Parser$VAR_FRAGMENT$)[this.generics]),_Parser$GENERIC_FRAGM)[this.type]}},{key:"labelClass",get:function(){var _Parser$GENERIC_FRAGM2;return(_Parser$GENERIC_FRAGM2={},_defineProperty(_Parser$GENERIC_FRAGM2,Parser.GENERIC_FRAGMENT,"label-primary"),_defineProperty(_Parser$GENERIC_FRAGM2,Parser.VAR_FRAGMENT,"label-primary"),_defineProperty(_Parser$GENERIC_FRAGM2,Parser.NESTED_VAR_FRAGMENT,"bg-orange"),_defineProperty(_Parser$GENERIC_FRAGM2,Parser.BLOCK_FRAGMENT,"bg-green"),_defineProperty(_Parser$GENERIC_FRAGM2,Parser.LIST_FRAGMENT,"bg-red"),_Parser$GENERIC_FRAGM2)[this.type]}}]),SchemaField}(),Doc=function(_DmioBlob10){function Doc(){return _classCallCheck(this,Doc),_possibleConstructorReturn(this,(Doc.__proto__||Object.getPrototypeOf(Doc)).apply(this,arguments))}return _inherits(Doc,DmioBlob),_createClass(Doc,[{key:"onInit",value:function(){this.form_renderable={};var _iteratorNormalCompletion17=!0,_didIteratorError17=!1,_iteratorError17=void 0;try{for(var _step17,_iterator17=Object.entries(this.listDataTypes)[Symbol.iterator]();!(_iteratorNormalCompletion17=(_step17=_iterator17.next()).done);_iteratorNormalCompletion17=!0){var _ref17=_step17.value,_ref18=_slicedToArray(_ref17,2),name=_ref18[0],config=_ref18[1];if(this.form_renderable[name]=[],this._data[name]&&this.fillExistingListDataInRenderableFormat(name,config),!this.form_renderable[name].length){var _data={},_iteratorNormalCompletion18=!0,_didIteratorError18=!1,_iteratorError18=void 0;try{for(var _step18,_iterator18=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion18=(_step18=_iterator18.next()).done);_iteratorNormalCompletion18=!0){_data[_step18.value.name]=""}}catch(err){_didIteratorError18=!0,_iteratorError18=err}finally{try{!_iteratorNormalCompletion18&&_iterator18.return&&_iterator18.return()}finally{if(_didIteratorError18)throw _iteratorError18}}this.form_renderable[name].push(_data)}}}catch(err){_didIteratorError17=!0,_iteratorError17=err}finally{try{!_iteratorNormalCompletion17&&_iterator17.return&&_iterator17.return()}finally{if(_didIteratorError17)throw _iteratorError17}}}},{key:"fillExistingListDataInRenderableFormat",value:function(name,config){var _value=this._data[name];if(config.type===Object){var _iteratorNormalCompletion19=!0,_didIteratorError19=!1,_iteratorError19=void 0;try{for(var _step19,_iterator19=Object.entries(_value)[Symbol.iterator]();!(_iteratorNormalCompletion19=(_step19=_iterator19.next()).done);_iteratorNormalCompletion19=!0){var _form_renderable$name,_ref19=_step19.value,_ref20=_slicedToArray(_ref19,2),key=_ref20[0],value=_ref20[1];this.form_renderable[name].push((_defineProperty(_form_renderable$name={},config.fields[0].name,key),_defineProperty(_form_renderable$name,config.fields[1].name,value),_form_renderable$name))}}catch(err){_didIteratorError19=!0,_iteratorError19=err}finally{try{!_iteratorNormalCompletion19&&_iterator19.return&&_iterator19.return()}finally{if(_didIteratorError19)throw _iteratorError19}}}else if(config.type===String){this.form_renderable[name]=[];var _iteratorNormalCompletion20=!0,_didIteratorError20=!1,_iteratorError20=void 0;try{for(var _step20,_iterator20=_value[Symbol.iterator]();!(_iteratorNormalCompletion20=(_step20=_iterator20.next()).done);_iteratorNormalCompletion20=!0){var _d=_step20.value;this.form_renderable[name].push(_defineProperty({},config.fields[0].name,_d))}}catch(err){_didIteratorError20=!0,_iteratorError20=err}finally{try{!_iteratorNormalCompletion20&&_iterator20.return&&_iterator20.return()}finally{if(_didIteratorError20)throw _iteratorError20}}}else this.form_renderable[name]=_value}},{key:"convertRenderableFormatListDataToStorable",value:function(form_json){var _temp={},_iteratorNormalCompletion21=!0,_didIteratorError21=!1,_iteratorError21=void 0;try{for(var _step21,_iterator21=Object.entries(form_json)[Symbol.iterator]();!(_iteratorNormalCompletion21=(_step21=_iterator21.next()).done);_iteratorNormalCompletion21=!0){var _ref21=_step21.value,_ref22=_slicedToArray(_ref21,2),key=_ref22[0],value=_ref22[1],snips=key.split("-");3!==snips.length||isNaN(+snips[2])||[Object.keys(this.listDataTypes)].indexOf(snips[0])&&(_temp[snips[0]]||(_temp[snips[0]]={}),_temp[snips[0]][snips[1]]||(_temp[snips[0]][snips[1]]=[]),_temp[snips[0]][snips[1]][snips[2]]=value)}}catch(err){_didIteratorError21=!0,_iteratorError21=err}finally{try{!_iteratorNormalCompletion21&&_iterator21.return&&_iterator21.return()}finally{if(_didIteratorError21)throw _iteratorError21}}var json_data={},_iteratorNormalCompletion22=!0,_didIteratorError22=!1,_iteratorError22=void 0;try{for(var _step22,_iterator22=Object.entries(this.listDataTypes)[Symbol.iterator]();!(_iteratorNormalCompletion22=(_step22=_iterator22.next()).done);_iteratorNormalCompletion22=!0){var _ref23=_step22.value,_ref24=_slicedToArray(_ref23,2),name=_ref24[0],config=_ref24[1];if(config.type===String)json_data[name]=_temp[name][config.fields[0].name].filter(function(_){return!!_});else if(config.type===Object){json_data[name]={};var _iteratorNormalCompletion23=!0,_didIteratorError23=!1,_iteratorError23=void 0;try{for(var _step23,_iterator23=_temp[name][config.fields[0].name].keys()[Symbol.iterator]();!(_iteratorNormalCompletion23=(_step23=_iterator23.next()).done);_iteratorNormalCompletion23=!0){var data_index=_step23.value,_key=_temp[name][config.fields[0].name][data_index],_value2=_temp[name][config.fields[1].name][data_index];_key&&_value2&&(json_data[name][_key]=_value2)}}catch(err){_didIteratorError23=!0,_iteratorError23=err}finally{try{!_iteratorNormalCompletion23&&_iterator23.return&&_iterator23.return()}finally{if(_didIteratorError23)throw _iteratorError23}}}else{json_data[name]=[];var _iteratorNormalCompletion24=!0,_didIteratorError24=!1,_iteratorError24=void 0;try{for(var _step24,_iterator24=_temp[name][config.fields[0].name].keys()[Symbol.iterator]();!(_iteratorNormalCompletion24=(_step24=_iterator24.next()).done);_iteratorNormalCompletion24=!0){var _data_index=_step24.value,_data={},_iteratorNormalCompletion25=!0,_didIteratorError25=!1,_iteratorError25=void 0;try{for(var _step25,_iterator25=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion25=(_step25=_iterator25.next()).done);_iteratorNormalCompletion25=!0){var field=_step25.value;_temp[name][field.name][_data_index]&&(_data[field.name]=_temp[name][field.name][_data_index])}}catch(err){_didIteratorError25=!0,_iteratorError25=err}finally{try{!_iteratorNormalCompletion25&&_iterator25.return&&_iterator25.return()}finally{if(_didIteratorError25)throw _iteratorError25}}Object.values(_data).filter(function(_){return!!_}).length&&json_data[name].push(_data)}}catch(err){_didIteratorError24=!0,_iteratorError24=err}finally{try{!_iteratorNormalCompletion24&&_iterator24.return&&_iterator24.return()}finally{if(_didIteratorError24)throw _iteratorError24}}}}}catch(err){_didIteratorError22=!0,_iteratorError22=err}finally{try{!_iteratorNormalCompletion22&&_iterator22.return&&_iterator22.return()}finally{if(_didIteratorError22)throw _iteratorError22}}return json_data}},{key:"getListData",value:function(field_name){return this.form_renderable[field_name].slice()}},{key:"setListData",value:function(field_name,list){this.form_renderable[field_name]=list}},{key:"getSerializedPerferences",value:function(form_data){return{dynamic_images:this.dynamicImages}}},{key:"serializePreferencesFormJson",value:function(form_json){if(!this.numberOfPages)return form_json;Object.assign(form_json,this.convertRenderableFormatListDataToStorable(form_json));var _iteratorNormalCompletion26=!0,_didIteratorError26=!1,_iteratorError26=void 0;try{for(var _step26,_iterator26=Object.entries(form_json)[Symbol.iterator]();!(_iteratorNormalCompletion26=(_step26=_iterator26.next()).done);_iteratorNormalCompletion26=!0){var _ref25=_step26.value,_ref26=_slicedToArray(_ref25,2),k=_ref26[0];_ref26[1];k.startsWith("dynamic_images-")&&delete form_json[k]}}catch(err){_didIteratorError26=!0,_iteratorError26=err}finally{try{!_iteratorNormalCompletion26&&_iterator26.return&&_iterator26.return()}finally{if(_didIteratorError26)throw _iteratorError26}}return form_json}},{key:"updateCurrentData",value:function(_data){Object.assign(this._data,_data)}},{key:"listDataTypes",get:function(){return{dynamic_images:{type:Array,fields:[{name:"token",display:Adhara.i18n.get("documents.form.token"),class:"col-md-12",tokens:!1},{name:"page",display:Adhara.i18n.get("documents.form.page"),class:"col-md-3",tokens:!1,attributes:{type:"number",min:1,max:this.numberOfPages,step:1}},{name:"width",display:Adhara.i18n.get("documents.form.width"),class:"col-md-2",tokens:!1,attributes:{type:"number",min:0,max:this.pageWidth,step:.1}},{name:"height",display:Adhara.i18n.get("documents.form.height"),class:"col-md-2",tokens:!1,attributes:{type:"number",min:0,max:this.pageHeight,step:.1}},{name:"left",display:Adhara.i18n.get("documents.form.left"),class:"col-md-2",tokens:!1,attributes:{type:"number",min:0,max:this.pageWidth,step:.1}},{name:"top",display:Adhara.i18n.get("documents.form.top"),class:"col-md-2",tokens:!1,attributes:{type:"number",min:0,max:this.pageHeight,step:.1}}]}}}},{key:"id",get:function(){return this._data.id}},{key:"title",get:function(){return this._data.title}},{key:"description",get:function(){return this._data.description}},{key:"type",get:function(){return this._data.type},set:function(type){this._data.type=type}},{key:"inputType",get:function(){var _Doc$types$FILLABLE_P;return(_Doc$types$FILLABLE_P={},_defineProperty(_Doc$types$FILLABLE_P,Doc.types.FILLABLE_PDF,Doc.types.PDF),_defineProperty(_Doc$types$FILLABLE_P,Doc.types.BUILDER,"builder"),_Doc$types$FILLABLE_P)[this.type]||this.type}},{key:"outputType",get:function(){return this._data.output_type}},{key:"outputFileName",get:function(){return this._data.output_file_name}},{key:"pageSize",get:function(){return this._data.format}},{key:"orientation",get:function(){return this._data.orientation}},{key:"flatten_pdf",get:function(){return this._data.flatten_pdf}},{key:"status",get:function(){return this._data.document_status}},{key:"isActive",get:function(){return"active"===this.status}},{key:"isTrashed",get:function(){return this._data.trashed}},{key:"timeZone",get:function(){return this._data.timezone}},{key:"folder",get:function(){return this._folder||(this._folder=new Folder(this._data.folder)),this._folder},set:function(folder_object){this._folder=folder_object}},{key:"content",get:function(){return this._data.content}},{key:"fileInfo",get:function(){return this._data.file_info?new FileInfo(this._data.file_info):null}},{key:"schema",get:function(){return this._data.schema?new DocumentSchema(this._data.schema).schema:null},set:function(schema){this._data.schema=schema}},{key:"contentTabId",get:function(){return"html"===this.type?"editor":"content"}},{key:"mutable",set:function(mutable){this._data.mutable=mutable},get:function(){return this._data.mutable}},{key:"autoNumber",get:function(){return this._data.auto_number}},{key:"header",get:function(){return this._data.header}},{key:"footer",get:function(){return this._data.footer}},{key:"password",get:function(){return this._data.password}},{key:"margin",get:function(){return this._data.margin}},{key:"numberOfPages",get:function(){return this._data.no_of_pages}},{key:"pageWidth",get:function(){return this._data.width?Math.floor(this._data.width):null}},{key:"pageHeight",get:function(){return this._data.height?Math.floor(this._data.height):null}},{key:"dynamicImages",get:function(){return this.getListData("dynamic_images")}}]),Doc}();Doc.types={BUILDER:"html",HTML:"html",FILLABLE_PDF:"fillable_pdf",PDF:"pdf",PNG:"png",WORD:"docx",POWERPOINT:"pptx",EXCEL:"xlsx",G_DOCUMENT:"g_document",G_SPREADSHEET:"g_spreadsheet",G_PRESENTATION:"g_presentation",isGoogleDocType:function(type){return-1!==[Doc.types.G_DOCUMENT,Doc.types.G_SPREADSHEET,Doc.types.G_PRESENTATION].indexOf(type)}};var DocumentHistory=function(_DmioBlob11){function DocumentHistory(){return _classCallCheck(this,DocumentHistory),_possibleConstructorReturn(this,(DocumentHistory.__proto__||Object.getPrototypeOf(DocumentHistory)).apply(this,arguments))}return _inherits(DocumentHistory,DmioBlob),_createClass(DocumentHistory,[{key:"onInit",value:function(){this.delivery=new DocumentDelivery({type:this._data.delivery_type})}},{key:"id",get:function(){return this._data.id}},{key:"documentTitle",get:function(){return this._data.document_title}},{key:"timestamp",get:function(){return this._data.created_time}},{key:"mergeTime",get:function(){return this._formatDateTime(this.timestamp)}},{key:"outputFileName",get:function(){return this._data.created_file_name}},{key:"isTestMode",get:function(){return"test"===this._data.mode}},{key:"by",get:function(){return this._data.by}},{key:"status",get:function(){return this._data.status}},{key:"statusClass",get:function(){return{success:"bg-green",pending:"bg-pending"}[this.status]||"bg-red"}},{key:"statusMessage",get:function(){return this._data.message?"download"===this.delivery.type?this._data.message.ua:this._data.message.message||"-":"-"}},{key:"isDataExpired",get:function(){return this._data.data_expired}},{key:"isDocumentExpired",get:function(){return this._data.document_expired}},{key:"data",get:function(){return this._data.data}}]),DocumentHistory}(),MergeInfo=function(_DmioBlob12){function MergeInfo(){return _classCallCheck(this,MergeInfo),_possibleConstructorReturn(this,(MergeInfo.__proto__||Object.getPrototypeOf(MergeInfo)).apply(this,arguments))}return _inherits(MergeInfo,DmioBlob),_createClass(MergeInfo,[{key:"partialPath",get:function(){return this._data.path}},{key:"path",get:function(){return"/documents/create/"+this.partialPath}},{key:"fullURL",get:function(){return window.location.protocol+"//"+window.location.host+this.path}},{key:"apiURL",get:function(){return 0===window.location.host.indexOf("dashboard")?window.location.protocol+"//api.docupilot.app"+this.path:this.fullURL}},{key:"downloadAPIURL",get:function(){return this.apiURL+this.downloadExtension}},{key:"testExtension",get:function(){return"?test=true"}},{key:"downloadExtension",get:function(){return"?download=true"}},{key:"testURL",get:function(){return this.fullURL+this.testExtension}},{key:"downloadURL",get:function(){return this.fullURL+this.downloadExtension}},{key:"zapierLink",get:function(){return"https://zapier.com/apps/docupilot/integrations"}},{key:"integromatLink",get:function(){return"https://www.integromat.com/en/integrations/docupilot"}}]),MergeInfo}(),BatchProcess=function(_DmioBlob13){function BatchProcess(){return _classCallCheck(this,BatchProcess),_possibleConstructorReturn(this,(BatchProcess.__proto__||Object.getPrototypeOf(BatchProcess)).apply(this,arguments))}return _inherits(BatchProcess,DmioBlob),_createClass(BatchProcess,[{key:"onInit",value:function(){this.canMerge=!1}},{key:"id",get:function(){return this._data.id}},{key:"fileName",get:function(){return this._data.file.name}},{key:"status",get:function(){return BatchProcess.statuses.list()[this._data.status]}},{key:"startTime",get:function(){return this._data.start_time?this._formatDateTime(this._data.start_time):"-"}},{key:"endTime",get:function(){return this._data.end_time?this._formatTime(this._data.end_time):"-"}},{key:"endDateTime",get:function(){return this._data.end_time?this._formatDateTime(this._data.end_time):"-"}},{key:"result",get:function(){return this._data.result||{}}},{key:"totalRowCount",get:function(){return this._data.total||0}},{key:"successRowCount",get:function(){return this._data.success||0}},{key:"isCompleted",get:function(){return BatchProcess.statuses.is_complete(this.status)}},{key:"isPending",get:function(){return BatchProcess.statuses.is_pending(this.status)}},{key:"failedRowCount",get:function(){return this.isCompleted?this.totalRowCount-this.successRowCount:0}},{key:"successPercentage",get:function(){return 100*this.successRowCount/this.totalRowCount}},{key:"erroredPercentage",get:function(){return 100*this.failedRowCount/this.totalRowCount}},{key:"hasErrors",get:function(){return!!this.errors.length}},{key:"errors",get:function(){return this._data.errors||[]}},{key:"fileNameAnchor",get:function(){return'<a href="javascript:void(0);" data-toggle="modal" data-target="#process-summary-'+this.id+'">'+this.fileName+"</a>"}},{key:"progress",get:function(){if("Draft"===this.status){var disabled=this.canMerge?"":"disabled",title=this.canMerge?"":"Configure at-least one delivery to perform a bulk merge";return'<button class="btn btn-primary" '+disabled+' data-onclick="editDraft" data-id="'+this.id+'" title="'+title+'">Edit Draft</button>'}if("Cancelled"===this.status)return"-";var errors=this.hasErrors?'<div class="bg-danger mt-2 pad"><b> &emsp;Errors: </b><ol><li>'+this.errors.join("</li><li>")+"</li></ol></div>":"";return'<div class="text-center progress-text"> '+this.successRowCount+"/"+this.totalRowCount+' </div>\n            <div class="progress">\n                <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" style="width: '+this.successPercentage+'%;"></div>\n                <div class="progress-bar progress-bar-danger progress-bar-striped pointer"\n                     role="progressbar" style="width: '+this.erroredPercentage+'%;"\n                     data-toggle="modal" data-target="#process-summary-'+this.id+'"></div>\n            </div>\n            <div id="process-summary-'+this.id+'" class="modal fade" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-body">\n                            <h4 class="text-truncate">Task summary for '+this.fileName+'</h4>\n                            <div class="row mt-2">\n                                <div class="col-md-4 text-center">\n                                    <b>Start Time</b>\n                                    <p>'+this.startTime+'</p>\n                                </div>\n                                <div class="col-md-4 text-center">\n                                    <b>Status</b>\n                                    <p>'+this.status+'</p>\n                                </div>\n                                <div class="col-md-4 text-center">\n                                    <b>End Time</b>\n                                    <p>'+this.endDateTime+"</p>\n                                </div>\n                            </div>\n                            "+errors+'\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                        </div>\n                    </div>\n                </div>\n            </div>'}}]),BatchProcess}();BatchProcess.statuses={DRAFT:"Draft",PENDING:"Pending",IN_PROGRESS:"In Progress",SUCCESS:"Success",FAILED:"Failed",CANCELED:"Cancelled",list:function(){return[BatchProcess.statuses.DRAFT,BatchProcess.statuses.PENDING,BatchProcess.statuses.IN_PROGRESS,BatchProcess.statuses.SUCCESS,BatchProcess.statuses.FAILED,BatchProcess.statuses.CANCELED]},is_complete:function(status){return status===BatchProcess.statuses.SUCCESS||status===BatchProcess.statuses.FAILED},is_pending:function(status){return status===BatchProcess.statuses.PENDING||status===BatchProcess.statuses.IN_PROGRESS}};var DocumentDelivery=function(_DmioBlob14){function DocumentDelivery(){return _classCallCheck(this,DocumentDelivery),_possibleConstructorReturn(this,(DocumentDelivery.__proto__||Object.getPrototypeOf(DocumentDelivery)).apply(this,arguments))}return _inherits(DocumentDelivery,DmioBlob),_createClass(DocumentDelivery,[{key:"onInit",value:function(){this.form_renderable={};var _iteratorNormalCompletion27=!0,_didIteratorError27=!1,_iteratorError27=void 0;try{for(var _step27,_iterator27=Object.entries(this.listDataTypes)[Symbol.iterator]();!(_iteratorNormalCompletion27=(_step27=_iterator27.next()).done);_iteratorNormalCompletion27=!0){var _ref27=_step27.value,_ref28=_slicedToArray(_ref27,2),name=_ref28[0],config=_ref28[1];if(this.form_renderable[name]=[],this[name]&&this.fillExistingListDataInRenderableFormat(name,config),!this.form_renderable[name].length){var _data={},_iteratorNormalCompletion28=!0,_didIteratorError28=!1,_iteratorError28=void 0;try{for(var _step28,_iterator28=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion28=(_step28=_iterator28.next()).done);_iteratorNormalCompletion28=!0){_data[_step28.value.name]=""}}catch(err){_didIteratorError28=!0,_iteratorError28=err}finally{try{!_iteratorNormalCompletion28&&_iterator28.return&&_iterator28.return()}finally{if(_didIteratorError28)throw _iteratorError28}}this.form_renderable[name].push(_data)}}}catch(err){_didIteratorError27=!0,_iteratorError27=err}finally{try{!_iteratorNormalCompletion27&&_iterator27.return&&_iterator27.return()}finally{if(_didIteratorError27)throw _iteratorError27}}}},{key:"fillExistingListDataInRenderableFormat",value:function(name,config){if(config.type===Object){var _iteratorNormalCompletion29=!0,_didIteratorError29=!1,_iteratorError29=void 0;try{for(var _step29,_iterator29=Object.entries(this[name])[Symbol.iterator]();!(_iteratorNormalCompletion29=(_step29=_iterator29.next()).done);_iteratorNormalCompletion29=!0){var _form_renderable$name3,_ref29=_step29.value,_ref30=_slicedToArray(_ref29,2),key=_ref30[0],value=_ref30[1];this.form_renderable[name].push((_defineProperty(_form_renderable$name3={},config.fields[0].name,key),_defineProperty(_form_renderable$name3,config.fields[1].name,value),_form_renderable$name3))}}catch(err){_didIteratorError29=!0,_iteratorError29=err}finally{try{!_iteratorNormalCompletion29&&_iterator29.return&&_iterator29.return()}finally{if(_didIteratorError29)throw _iteratorError29}}}else if(config.type===String){this.form_renderable[name]=[];var _iteratorNormalCompletion30=!0,_didIteratorError30=!1,_iteratorError30=void 0;try{for(var _step30,_iterator30=this[name][Symbol.iterator]();!(_iteratorNormalCompletion30=(_step30=_iterator30.next()).done);_iteratorNormalCompletion30=!0){var _d=_step30.value;this.form_renderable[name].push(_defineProperty({},config.fields[0].name,_d))}}catch(err){_didIteratorError30=!0,_iteratorError30=err}finally{try{!_iteratorNormalCompletion30&&_iterator30.return&&_iterator30.return()}finally{if(_didIteratorError30)throw _iteratorError30}}}else this.form_renderable[name]=this[name]}},{key:"convertRenderableFormatListDataToStorable",value:function(form_json){var _temp={},_iteratorNormalCompletion31=!0,_didIteratorError31=!1,_iteratorError31=void 0;try{for(var _step31,_iterator31=Object.entries(form_json)[Symbol.iterator]();!(_iteratorNormalCompletion31=(_step31=_iterator31.next()).done);_iteratorNormalCompletion31=!0){var _ref31=_step31.value,_ref32=_slicedToArray(_ref31,2),key=_ref32[0],value=_ref32[1],snips=key.split("-");3!==snips.length||isNaN(+snips[2])||[Object.keys(this.listDataTypes)].indexOf(snips[0])&&(_temp[snips[0]]||(_temp[snips[0]]={}),_temp[snips[0]][snips[1]]||(_temp[snips[0]][snips[1]]=[]),_temp[snips[0]][snips[1]][snips[2]]=value)}}catch(err){_didIteratorError31=!0,_iteratorError31=err}finally{try{!_iteratorNormalCompletion31&&_iterator31.return&&_iterator31.return()}finally{if(_didIteratorError31)throw _iteratorError31}}var json_data={},_iteratorNormalCompletion32=!0,_didIteratorError32=!1,_iteratorError32=void 0;try{for(var _step32,_iterator32=Object.entries(this.listDataTypes)[Symbol.iterator]();!(_iteratorNormalCompletion32=(_step32=_iterator32.next()).done);_iteratorNormalCompletion32=!0){var _ref33=_step32.value,_ref34=_slicedToArray(_ref33,2),name=_ref34[0],config=_ref34[1];if(config.type===String)json_data[name]=_temp[name][config.fields[0].name].filter(function(_){return!!_});else if(config.type===Object){json_data[name]={};var _iteratorNormalCompletion33=!0,_didIteratorError33=!1,_iteratorError33=void 0;try{for(var _step33,_iterator33=_temp[name][config.fields[0].name].keys()[Symbol.iterator]();!(_iteratorNormalCompletion33=(_step33=_iterator33.next()).done);_iteratorNormalCompletion33=!0){var data_index=_step33.value,_key2=_temp[name][config.fields[0].name][data_index],_value3=_temp[name][config.fields[1].name][data_index];_key2&&_value3&&(json_data[name][_key2]=_value3)}}catch(err){_didIteratorError33=!0,_iteratorError33=err}finally{try{!_iteratorNormalCompletion33&&_iterator33.return&&_iterator33.return()}finally{if(_didIteratorError33)throw _iteratorError33}}}else{json_data[name]=[];var _iteratorNormalCompletion34=!0,_didIteratorError34=!1,_iteratorError34=void 0;try{for(var _step34,_iterator34=_temp[name][config.fields[0].name].keys()[Symbol.iterator]();!(_iteratorNormalCompletion34=(_step34=_iterator34.next()).done);_iteratorNormalCompletion34=!0){var _data_index2=_step34.value,_data={},_iteratorNormalCompletion35=!0,_didIteratorError35=!1,_iteratorError35=void 0;try{for(var _step35,_iterator35=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion35=(_step35=_iterator35.next()).done);_iteratorNormalCompletion35=!0){var field=_step35.value;_temp[name][field.name][_data_index2]&&(_data[field.name]=_temp[name][field.name][_data_index2])}}catch(err){_didIteratorError35=!0,_iteratorError35=err}finally{try{!_iteratorNormalCompletion35&&_iterator35.return&&_iterator35.return()}finally{if(_didIteratorError35)throw _iteratorError35}}Object.values(_data).filter(function(_){return!!_}).length&&json_data[name].push(_data)}}catch(err){_didIteratorError34=!0,_iteratorError34=err}finally{try{!_iteratorNormalCompletion34&&_iterator34.return&&_iterator34.return()}finally{if(_didIteratorError34)throw _iteratorError34}}}}}catch(err){_didIteratorError32=!0,_iteratorError32=err}finally{try{!_iteratorNormalCompletion32&&_iterator32.return&&_iterator32.return()}finally{if(_didIteratorError32)throw _iteratorError32}}return json_data}},{key:"getSerializedDeliverySettings",value:function(data){throw new Error("NOT IMPLEMENTED: Implement getSerializedDeliverySettings(data) in your delivery blob class")}},{key:"serializeDeliveryFormJson",value:function(form_json,type){var formatted_data={name:form_json.name,type:type};return formatted_data.name=form_json.name,formatted_data.type=type,formatted_data[type]=Object.assign(this.convertRenderableFormatListDataToStorable(form_json),this.getSerializedDeliverySettings(form_json)),form_json.hasOwnProperty("account")&&(formatted_data.account=form_json.account),formatted_data}},{key:"getListData",value:function(field_name){return this.form_renderable[field_name].slice()}},{key:"setListData",value:function(field_name,list){this.form_renderable[field_name]=list}},{key:"updateCurrentData",value:function(_data){this._data.name=_data.name}},{key:"getDeliveryBlob",value:function(accounts){return this._data.accounts=accounts,new(DocumentDelivery.getDeliveryClass(this.type))(this._data)}},{key:"addAccount",value:function(account_details){this._data.accounts||(this._data.accounts=[]),this._data.accounts.push(account_details)}},{key:"listDataTypes",get:function(){return{}}},{key:"id",get:function(){return this._data.id}},{key:"name",get:function(){return this._data.name||"Untitled "+Adhara.i18n.get("delivery."+this.type+".label")+" delivery"}},{key:"type",get:function(){return this._data.type}},{key:"cssClasses",get:function(){return"download"===this.type?this.type+" fas fa-download":this.type}},{key:"comments",get:function(){return this._data.comments}},{key:"description",get:function(){return this.deliveryBlob.description}},{key:"disabled",get:function(){return this._data.disabled}},{key:"typeConfig",get:function(){var _this62=this;return LinkedAccount.type_configs.filter(function(type_config){return _this62.type===type_config.type})[0]}},{key:"account",get:function(){return this._data.account},set:function(account){this._data.account=account.id}},{key:"accounts",get:function(){return this._data.accounts}},{key:"isOAuth2",get:function(){return this.typeConfig.authentication_type===LinkedAccount.authTypes.OAUTH}},{key:"isTokenAuth",get:function(){return this.typeConfig.authentication_type===LinkedAccount.authTypes.AUTH_TOKEN}},{key:"accountTypes",get:function(){return this.typeConfig.account_types}}],[{key:"getDeliveryClass",value:function(type){return LinkedAccount.getConfigForType(type).delivery_class}}]),DocumentDelivery}(),EmailDelivery=function(_DocumentDelivery){function EmailDelivery(){return _classCallCheck(this,EmailDelivery),_possibleConstructorReturn(this,(EmailDelivery.__proto__||Object.getPrototypeOf(EmailDelivery)).apply(this,arguments))}return _inherits(EmailDelivery,DocumentDelivery),_createClass(EmailDelivery,[{key:"updateCurrentData",value:function(_data){_get(EmailDelivery.prototype.__proto__||Object.getPrototypeOf(EmailDelivery.prototype),"updateCurrentData",this).call(this,_data),this._data.email.subject=_data.subject,this._data.email.body=_data.body,this._data.email.from_email=_data.from_email}},{key:"getSerializedDeliverySettings",value:function(data){return{from_email:data.from_email,body:Adhara.getView(EmailContentView).getContent(),subject:data.subject,attachments:this._data.email.attachments}}},{key:"description",get:function(){return"Send an email to : "+this.comments.to_email}},{key:"listDataTypes",get:function(){return{to_email:{type:String,fields:[{name:"email",display:"To Email",class:"col-md-11",tokens:!0}]},cc:{type:String,fields:[{name:"email",display:"CC Email",class:"col-md-11",tokens:!0}]},bcc:{type:String,fields:[{name:"email",display:"BCC Email",class:"col-md-11",tokens:!0}]},headers:{type:Object,fields:[{name:"key",display:"Header Name",class:"col-md-5",tokens:!1},{name:"value",display:"Header Value",class:"col-md-6",tokens:!0}]}}}},{key:"toList",get:function(){return this.getListData("to_email")}},{key:"ccList",get:function(){return this.getListData("cc")}},{key:"bccList",get:function(){return this.getListData("bcc")}},{key:"fromEmail",get:function(){return this._data.email.from_email}},{key:"to_email",get:function(){return this._data.email.to_email}},{key:"cc",get:function(){return this._data.email.cc}},{key:"bcc",get:function(){return this._data.email.bcc}},{key:"headers",get:function(){return this._data.email.headers||{}}},{key:"headersList",get:function(){return this.getListData("headers")}},{key:"subject",get:function(){return this._data.email.subject}},{key:"body",get:function(){return this._data.email.body}},{key:"attachments",set:function(_){this._data.email.attachments=_},get:function(){return this._data.email.attachments||[]}}]),EmailDelivery}(),WebhookDelivery=function(_DocumentDelivery2){function WebhookDelivery(){return _classCallCheck(this,WebhookDelivery),_possibleConstructorReturn(this,(WebhookDelivery.__proto__||Object.getPrototypeOf(WebhookDelivery)).apply(this,arguments))}return _inherits(WebhookDelivery,DocumentDelivery),_createClass(WebhookDelivery,[{key:"updateCurrentData",value:function(_data){_get(WebhookDelivery.prototype.__proto__||Object.getPrototypeOf(WebhookDelivery.prototype),"updateCurrentData",this).call(this,_data),this._data.webhook.url=_data.url}},{key:"getSerializedDeliverySettings",value:function(data){return{url:data.url}}},{key:"listDataTypes",get:function(){return{headers:{type:Object,fields:[{name:"key",display:"Header Name",class:"col-md-5",tokens:!1},{name:"value",display:"Header Value",class:"col-md-6",tokens:!0}]},payload:{type:Object,fields:[{name:"key",display:"Key",class:"col-md-5",tokens:!1},{name:"value",display:"Value",class:"col-md-6",tokens:!0}]}}}},{key:"description",get:function(){return"Post the merged content to : "+this.comments.url}},{key:"url",get:function(){return this._data.webhook.url}},{key:"headers",get:function(){return this._data.webhook.headers||{}}},{key:"payload",get:function(){return this._data.webhook.payload||{}}},{key:"headersList",get:function(){return this.getListData("headers")}},{key:"payloadList",get:function(){return this.getListData("payload")}}]),WebhookDelivery}(),ZohoCRMDelivery=function(_DocumentDelivery3){function ZohoCRMDelivery(){return _classCallCheck(this,ZohoCRMDelivery),_possibleConstructorReturn(this,(ZohoCRMDelivery.__proto__||Object.getPrototypeOf(ZohoCRMDelivery)).apply(this,arguments))}return _inherits(ZohoCRMDelivery,DocumentDelivery),_createClass(ZohoCRMDelivery,[{key:"description",get:function(){return"Create a record in Zoho CRM"}}]),ZohoCRMDelivery}(),DropboxDelivery=function(_DocumentDelivery4){function DropboxDelivery(){return _classCallCheck(this,DropboxDelivery),_possibleConstructorReturn(this,(DropboxDelivery.__proto__||Object.getPrototypeOf(DropboxDelivery)).apply(this,arguments))}return _inherits(DropboxDelivery,DocumentDelivery),_createClass(DropboxDelivery,[{key:"getSerializedDeliverySettings",value:function(data){return{folder:data.folder}}},{key:"description",get:function(){return"Upload created documents to dropbox"}},{key:"folder",get:function(){return this._data.dropbox.folder}}]),DropboxDelivery}(),GoogleDriveDelivery=function(_DocumentDelivery5){function GoogleDriveDelivery(){return _classCallCheck(this,GoogleDriveDelivery),_possibleConstructorReturn(this,(GoogleDriveDelivery.__proto__||Object.getPrototypeOf(GoogleDriveDelivery)).apply(this,arguments))}return _inherits(GoogleDriveDelivery,DocumentDelivery),_createClass(GoogleDriveDelivery,[{key:"getSerializedDeliverySettings",value:function(data){var parent_folder_element=document.querySelector(".delivery-form-content #folder"),parent_folder_id=parent_folder_element.value;return{folder:$(parent_folder_element).find(":selected").text().trim(),folder_id:parent_folder_id}}},{key:"description",get:function(){return"Upload created documents to Google Drive"}},{key:"folderName",get:function(){return this._data.google_drive.folder}},{key:"folderId",get:function(){return this._data.google_drive.folder_id}}]),GoogleDriveDelivery}(),DocuSignDelivery=function(_DocumentDelivery6){function DocuSignDelivery(){return _classCallCheck(this,DocuSignDelivery),_possibleConstructorReturn(this,(DocuSignDelivery.__proto__||Object.getPrototypeOf(DocuSignDelivery)).apply(this,arguments))}return _inherits(DocuSignDelivery,DocumentDelivery),_createClass(DocuSignDelivery,[{key:"updateCurrentData",value:function(_data){_get(DocuSignDelivery.prototype.__proto__||Object.getPrototypeOf(DocuSignDelivery.prototype),"updateCurrentData",this).call(this,_data),this._data.docu_sign.subject=_data.subject,this._data.docu_sign.message=_data.message,this._data.docu_sign.fullname_anchor_tags=_data.fullname_anchor_tags,this._data.docu_sign.sequenced_signing=_data.sequenced_signing,this._data.docu_sign.custom_tags=_data.custom_tags,this._data.docu_sign.expire_after=parseInt(_data.expire_after),this._data.docu_sign.enable_optional_signers=_data.enable_optional_signers}},{key:"getSerializedDeliverySettings",value:function(data){return{subject:data.subject,message:data.message,fullname_anchor_tags:data.fullname_anchor_tags,sequenced_signing:data.sequenced_signing,custom_tags:data.custom_tags.trim()?JSON.parse(data.custom_tags):null,expire_after:parseInt(data.expire_after),enable_optional_signers:data.enable_optional_signers}}},{key:"description",get:function(){return"Send created document to DocuSign to start signing process"}},{key:"listDataTypes",get:function(){return{signers:{type:Array,fields:[{name:"order",display:"#",class:"col-md-1 docusign-signing-order",tokens:!1},{name:"recipient_type",display:"Recipient Type",class:"col-md-3",options:[{id:"signer",name:"Needs to Sign"},{id:"cc",name:"Receives a Copy"},{id:"editor",name:"Allow to Edit"}],required:!0},{name:"name",display:"Name",class:"col-md-4",tokens:!0,required:!0},{name:"email_address",display:"Email",class:"col-md-4",tokens:!0,required:!0}]}}}},{key:"signersList",get:function(){return this.getListData("signers")}},{key:"subject",get:function(){return this._data.docu_sign.subject}},{key:"message",get:function(){return this._data.docu_sign.message}},{key:"signers",get:function(){return this._data.docu_sign.signers}},{key:"fullnameAnchorTags",get:function(){return this._data.docu_sign.fullname_anchor_tags}},{key:"sequencedSigning",get:function(){return this._data.docu_sign.sequenced_signing}},{key:"enableOptionalSigners",get:function(){return this._data.docu_sign.enable_optional_signers}},{key:"customTags",get:function(){return this._data.docu_sign.custom_tags?JSON.stringify(this._data.docu_sign.custom_tags):""}},{key:"expireAfter",get:function(){return this._data.docu_sign.expire_after}}]),DocuSignDelivery}(),SignNowDelivery=function(_DocumentDelivery7){function SignNowDelivery(){return _classCallCheck(this,SignNowDelivery),_possibleConstructorReturn(this,(SignNowDelivery.__proto__||Object.getPrototypeOf(SignNowDelivery)).apply(this,arguments))}return _inherits(SignNowDelivery,DocumentDelivery),_createClass(SignNowDelivery,[{key:"updateCurrentData",value:function(_data){_get(SignNowDelivery.prototype.__proto__||Object.getPrototypeOf(SignNowDelivery.prototype),"updateCurrentData",this).call(this,_data),this._data.sign_now.subject=_data.subject,this._data.sign_now.message=_data.message,this._data.sign_now.fullname_anchor_tags=_data.fullname_anchor_tags,this._data.sign_now.sequenced_signing=_data.sequenced_signing,this._data.sign_now.enable_optional_signers=_data.enable_optional_signers}},{key:"getSerializedDeliverySettings",value:function(data){return{subject:data.subject,message:data.message,fullname_anchor_tags:data.fullname_anchor_tags,sequenced_signing:data.sequenced_signing,enable_optional_signers:data.enable_optional_signers}}},{key:"description",get:function(){return"Send created document to DocuSign to start signing process"}},{key:"listDataTypes",get:function(){return{signers:{type:Array,fields:[{name:"order",display:"#",class:"col-md-1 signnow-signing-order",tokens:!1},{name:"role",display:"Role Name",class:"col-md-5",tokens:!1,required:!0},{name:"email",display:"Email",class:"col-md-6",tokens:!0,required:!0}]},cc:{type:String,fields:[{name:"email",display:"CC Email",class:"col-md-11",tokens:!0}]}}}},{key:"signersList",get:function(){return this.getListData("signers")}},{key:"ccList",get:function(){return this.getListData("cc")}},{key:"subject",get:function(){return this._data.sign_now.subject}},{key:"message",get:function(){return this._data.sign_now.message}},{key:"signers",get:function(){return this._data.sign_now.signers}},{key:"cc",get:function(){return this._data.sign_now.cc}},{key:"fullnameAnchorTags",get:function(){return this._data.sign_now.fullname_anchor_tags}},{key:"sequencedSigning",get:function(){return this._data.sign_now.sequenced_signing}},{key:"enableOptionalSigners",get:function(){return this._data.sign_now.enable_optional_signers}}]),SignNowDelivery}(),HelloSignDelivery=function(_DocumentDelivery8){function HelloSignDelivery(){return _classCallCheck(this,HelloSignDelivery),_possibleConstructorReturn(this,(HelloSignDelivery.__proto__||Object.getPrototypeOf(HelloSignDelivery)).apply(this,arguments))}return _inherits(HelloSignDelivery,DocumentDelivery),_createClass(HelloSignDelivery,[{key:"updateCurrentData",value:function(_data){_get(HelloSignDelivery.prototype.__proto__||Object.getPrototypeOf(HelloSignDelivery.prototype),"updateCurrentData",this).call(this,_data),this._data.hellosign.title=_data.title,this._data.hellosign.subject=_data.subject,this._data.hellosign.message=_data.message,this._data.hellosign.use_text_tags=_data.use_text_tags,this._data.hellosign.hide_text_tags=_data.hide_text_tags,this._data.hellosign.sequenced_signing=_data.sequenced_signing,this._data.hellosign.enable_optional_signers=_data.enable_optional_signers}},{key:"getSerializedDeliverySettings",value:function(data){return{title:data.title,subject:data.subject,message:data.message,use_text_tags:data.use_text_tags,hide_text_tags:data.hide_text_tags,sequenced_signing:data.sequenced_signing,enable_optional_signers:data.enable_optional_signers}}},{key:"description",get:function(){return"Send created document to HelloSign to start signing process"}},{key:"listDataTypes",get:function(){return{cc:{type:String,fields:[{name:"email",display:"CC Email",class:"col-md-11",tokens:!0}]},signers:{type:Array,fields:[{name:"name",display:"Signer Name",class:"col-md-5",tokens:!0},{name:"email_address",display:"Signer Email",class:"col-md-6",tokens:!0}]}}}},{key:"ccList",get:function(){return this.getListData("cc")}},{key:"signersList",get:function(){return this.getListData("signers")}},{key:"title",get:function(){return this._data.hellosign.title}},{key:"subject",get:function(){return this._data.hellosign.subject}},{key:"message",get:function(){return this._data.hellosign.message}},{key:"cc",get:function(){return this._data.hellosign.cc}},{key:"signers",get:function(){return this._data.hellosign.signers}},{key:"useTextTags",get:function(){return this._data.hellosign.use_text_tags}},{key:"hideTextTags",get:function(){return this._data.hellosign.hide_text_tags}},{key:"sequencedSigning",get:function(){return this._data.hellosign.sequenced_signing}},{key:"enableOptionalSigners",get:function(){return this._data.hellosign.enable_optional_signers}}]),HelloSignDelivery}(),OneDriveDelivery=function(_DocumentDelivery9){function OneDriveDelivery(){return _classCallCheck(this,OneDriveDelivery),_possibleConstructorReturn(this,(OneDriveDelivery.__proto__||Object.getPrototypeOf(OneDriveDelivery)).apply(this,arguments))}return _inherits(OneDriveDelivery,DocumentDelivery),_createClass(OneDriveDelivery,[{key:"getSerializedDeliverySettings",value:function(data){return{folder:data.folder}}},{key:"description",get:function(){return"Upload created documents to OneDrive"}},{key:"folder",get:function(){return this._data.one_drive.folder}}]),OneDriveDelivery}(),EversignDelivery=function(_DocumentDelivery10){function EversignDelivery(){return _classCallCheck(this,EversignDelivery),_possibleConstructorReturn(this,(EversignDelivery.__proto__||Object.getPrototypeOf(EversignDelivery)).apply(this,arguments))}return _inherits(EversignDelivery,DocumentDelivery),_createClass(EversignDelivery,[{key:"updateCurrentData",value:function(_data){_get(EversignDelivery.prototype.__proto__||Object.getPrototypeOf(EversignDelivery.prototype),"updateCurrentData",this).call(this,_data),this._data.eversign.title=_data.title,this._data.eversign.message=_data.message,this._data.eversign.use_signer_order=_data.use_signer_order,this._data.eversign.enable_optional_signers=_data.enable_optional_signers,this._data.eversign.reminders=_data.reminders,this._data.eversign.require_all_signers=_data.require_all_signers,this._data.eversign.expires_in=parseInt(_data.expires_in)}},{key:"getSerializedDeliverySettings",value:function(data){return{title:data.title,message:data.message,use_signer_order:data.use_signer_order,enable_optional_signers:data.enable_optional_signers,reminders:data.reminders,require_all_signers:data.require_all_signers,expires_in:parseInt(data.expires_in)}}},{key:"description",get:function(){return"Send created document to DocuSign to start signing process"}},{key:"listDataTypes",get:function(){return{signers:{type:Array,fields:[{name:"order",display:"#",class:"col-md-1 eversign-signing-order",tokens:!1},{name:"name",display:"Signer Name",class:"col-md-4",tokens:!0,required:!0},{name:"email",display:"Email",class:"col-md-5",tokens:!0,required:!0},{name:"pin",display:"Pin",class:"col-md-2",tokens:!1,required:!1}]},recipients:{type:Array,fields:[{name:"name",display:"Recipient Name",class:"col-md-5",tokens:!0},{name:"email",display:"Recipient Email",class:"col-md-6",tokens:!0}]}}}},{key:"signersList",get:function(){return this.getListData("signers")}},{key:"recipientsList",get:function(){return this.getListData("recipients")}},{key:"title",get:function(){return this._data.eversign.title}},{key:"message",get:function(){return this._data.eversign.message}},{key:"signers",get:function(){return this._data.eversign.signers}},{key:"recipients",get:function(){return this._data.eversign.recipients}},{key:"reminders",get:function(){return void 0===this._data.eversign.reminders||this._data.eversign.reminders}},{key:"requireAllSigners",get:function(){return void 0===this._data.eversign.require_all_signers||this._data.eversign.require_all_signers}},{key:"expiresIn",get:function(){return this._data.eversign.expires_in}},{key:"useSignerOrder",get:function(){return this._data.eversign.use_signer_order}},{key:"enableOptionalSigners",get:function(){return this._data.eversign.enable_optional_signers}}]),EversignDelivery}(),S3Delivery=function(_DocumentDelivery11){function S3Delivery(){return _classCallCheck(this,S3Delivery),_possibleConstructorReturn(this,(S3Delivery.__proto__||Object.getPrototypeOf(S3Delivery)).apply(this,arguments))}return _inherits(S3Delivery,DocumentDelivery),_createClass(S3Delivery,[{key:"getSerializedDeliverySettings",value:function(data){return{bucket:data.bucket,key_prefix:data.key_prefix}}},{key:"description",get:function(){return"Upload created documents to S3"}},{key:"bucket",get:function(){return this._data.aws_s3.bucket}},{key:"keyPrefix",get:function(){return this._data.aws_s3.key_prefix}}]),S3Delivery}(),Subscription=function(_DmioBlob15){function Subscription(){return _classCallCheck(this,Subscription),_possibleConstructorReturn(this,(Subscription.__proto__||Object.getPrototypeOf(Subscription)).apply(this,arguments))}return _inherits(Subscription,DmioBlob),_createClass(Subscription,[{key:"planId",get:function(){return this._data.plan_id||Subscription.FREE_PLAN}},{key:"limit",get:function(){return this._data.documents_allowed}},{key:"documentsCreated",get:function(){return this._data.documents_created}},{key:"percentUsed",get:function(){return 100*this.documentsCreated/this.limit}},{key:"consumed",get:function(){return this.documentsCreated.toString()}},{key:"cardAdded",get:function(){return this._data.card_added}},{key:"billingPeriodUnit",get:function(){return this._data.billing_period_unit}},{key:"termStart",get:function(){return this._data.current_term_start}},{key:"termEnd",get:function(){return this._data.current_term_end}},{key:"nextBillingIn",get:function(){if(!this.termEnd)return"0 days";var now=moment();return moment(1e3*this.termEnd).diff(now,"days")+" days"}},{key:"isFreePlan",get:function(){return"docupilot_free"===this.planId}},{key:"showUpgradeButton",get:function(){return this.isFreePlan||this.percentUsed>60}}]),Subscription}();Subscription.FREE_PLAN="docupilot_free";var LicensePlan=function(_DmioBlob16){function LicensePlan(){return _classCallCheck(this,LicensePlan),_possibleConstructorReturn(this,(LicensePlan.__proto__||Object.getPrototypeOf(LicensePlan)).apply(this,arguments))}return _inherits(LicensePlan,DmioBlob),_createClass(LicensePlan,[{key:"planId",get:function(){return this._data.plan_id}},{key:"name",get:function(){return Adhara.i18n.get("subscriptions.plan."+this.planId)}},{key:"boolPrice",get:function(){return this._data.price}},{key:"price",get:function(){return this.boolPrice.toString()}},{key:"volume",get:function(){return this._data.documents_allowed}},{key:"unit",get:function(){return this.isFree?"Documents":"Documents per month"}},{key:"billingPeriodUnit",get:function(){return this._data.billing_period_unit}},{key:"features",get:function(){return["Unlimited Templates","Unlimited Testing","Document Builder","PDF & Word Support","Zapier Integration","Third-party Integrations","Custom sender email for delivery"]}},{key:"isCurrent",set:function(is_current){this._data.is_current=is_current},get:function(){return this._data.is_current}},{key:"isBest",get:function(){return"docupilot_plus_monthly"===this.planId||"plan_500_docs_yearly"===this.planId}},{key:"isFree",get:function(){return"docupilot_free"===this.planId}},{key:"offer",get:function(){return Adhara.getView(ContainerView).data.meta.offers[this.planId]}}]),LicensePlan}(),LinkedAccount=function(_DmioBlob17){function LinkedAccount(){return _classCallCheck(this,LinkedAccount),_possibleConstructorReturn(this,(LinkedAccount.__proto__||Object.getPrototypeOf(LinkedAccount)).apply(this,arguments))}return _inherits(LinkedAccount,DmioBlob),_createClass(LinkedAccount,[{key:"id",get:function(){return this._data.id}},{key:"type",get:function(){return this._data.type}},{key:"name",get:function(){return this._data.name||"-"}},{key:"accountType",get:function(){return this._data.account_type}},{key:"isExpired",get:function(){return this._data.is_expired}}],[{key:"getConfigForType",value:function(type){return LinkedAccount.type_configs.filter(function(type_config){return type===type_config.type})[0]}}]),LinkedAccount}();LinkedAccount.types={EMAIL:"email",WEBHOOK:"webhook",ZOHO_CRM:"zoho_crm",DROPBOX:"dropbox",DOCUSIGN:"docu_sign",SIGN_NOW:"sign_now",SALESFORCE:"salesforce",GOOGLE_DRIVE:"google_drive",HELLOSIGN:"hellosign",FRESH_SALES:"freshsales",ZOHO_DOCS:"zoho_docs",PODIO:"podio",ONE_DRIVE:"one_drive",EVERSIGN:"eversign",AWS_S3:"aws_s3",MORE:"more"},LinkedAccount.authTypes={OAUTH:"oauth",AUTH_TOKEN:"auth_token",KEY_SECRET:"key_secret"},LinkedAccount.type_configs=[{type:LinkedAccount.types.EMAIL,delivery_class:EmailDelivery,logo:"email.svg"},{type:LinkedAccount.types.WEBHOOK,delivery_class:WebhookDelivery,logo:"webhook.png"},{type:LinkedAccount.types.DROPBOX,delivery_class:DropboxDelivery,authentication_type:LinkedAccount.authTypes.OAUTH,logo:"dropbox.png"},{type:LinkedAccount.types.GOOGLE_DRIVE,delivery_class:GoogleDriveDelivery,authentication_type:LinkedAccount.authTypes.OAUTH,logo:"google_drive.png"},{type:LinkedAccount.types.ONE_DRIVE,delivery_class:OneDriveDelivery,authentication_type:LinkedAccount.authTypes.OAUTH,logo:"one_drive.png"},{type:LinkedAccount.types.HELLOSIGN,delivery_class:HelloSignDelivery,authentication_type:LinkedAccount.authTypes.AUTH_TOKEN,delivery_account_view:function(){return LinkedAccountHellosignMutationView},logo:"hellosign.png"},{type:LinkedAccount.types.DOCUSIGN,delivery_class:DocuSignDelivery,authentication_type:LinkedAccount.authTypes.OAUTH,account_types:["Sandbox","Production"],logo:"docusign.png"},{type:LinkedAccount.types.SIGN_NOW,delivery_class:SignNowDelivery,authentication_type:LinkedAccount.authTypes.OAUTH,logo:"sign_now.png"},{type:LinkedAccount.types.EVERSIGN,delivery_class:EversignDelivery,authentication_type:LinkedAccount.authTypes.OAUTH,logo:"eversign.jpeg"},{type:LinkedAccount.types.AWS_S3,delivery_class:S3Delivery,authentication_type:LinkedAccount.authTypes.KEY_SECRET,delivery_account_view:function(){return LinkedAccountS3MutationView},logo:"aws_s3.png"},{type:LinkedAccount.types.SALESFORCE,logo:"salesforce.png",disabled:!0},{type:LinkedAccount.types.ZOHO_CRM,logo:"zoho_crm.jpg",disabled:!0},{type:LinkedAccount.types.FRESH_SALES,logo:"freshsales.png",disabled:!0},{type:LinkedAccount.types.ZOHO_DOCS,logo:"zoho_docs.jpg",disabled:!0},{type:LinkedAccount.types.MORE,logo:"more.png",disabled:!0},{type:LinkedAccount.types.PODIO,logo:"podio.svg",authentication_type:LinkedAccount.authTypes.OAUTH,can_deliver:!1}];var ApiSettings=function(_DataBlob2){function ApiSettings(){return _classCallCheck(this,ApiSettings),_possibleConstructorReturn(this,(ApiSettings.__proto__||Object.getPrototypeOf(ApiSettings)).apply(this,arguments))}return _inherits(ApiSettings,DataBlob),_createClass(ApiSettings,[{key:"id",get:function(){return this.data.id}},{key:"name",get:function(){return this.data.name}},{key:"token",get:function(){return this.data.token}}]),ApiSettings}(),DmioTabView=function(_AdharaTabView){function DmioTabView(){return _classCallCheck(this,DmioTabView),_possibleConstructorReturn(this,(DmioTabView.__proto__||Object.getPrototypeOf(DmioTabView)).apply(this,arguments))}return _inherits(DmioTabView,AdharaTabView),_createClass(DmioTabView,[{key:"containerClass",get:function(){return"nav nav-pills"}},{key:"tabNavClass",get:function(){return"nav-tabs-custom"}},{key:"tabListClass",get:function(){return"nav nav-tabs"}}]),DmioTabView}(),FileWidget=function(_AdharaView){function FileWidget(){return _classCallCheck(this,FileWidget),_possibleConstructorReturn(this,(FileWidget.__proto__||Object.getPrototypeOf(FileWidget)).apply(this,arguments))}return _inherits(FileWidget,AdharaView),_createClass(FileWidget,[{key:"onInit",value:function(){_get(FileWidget.prototype.__proto__||Object.getPrototypeOf(FileWidget.prototype),"onInit",this).call(this),this._files=[],this.config=Adhara.getView(ContainerView).data.meta.getFileUploadConfig(this.purpose)}},{key:"format",value:function(container){_get(FileWidget.prototype.__proto__||Object.getPrototypeOf(FileWidget.prototype),"format",this).call(this,container),this.fileElement.disabled=this.files.length===this.config.max_files}},{key:"updateFormState",value:function(in_progress){var progress_i18n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common.uploading",_file=this.fileElement;_file.disabled=in_progress;var submit_button=_file.form.querySelector('[type="submit"]');in_progress?(submit_button.dataset.tosubmit=submit_button.innerHTML,submit_button.innerHTML=submit_button.dataset.inprogress||Adhara.i18n.getValue(progress_i18n,[],"")||submit_button.dataset.tosubmit,submit_button.disabled=!0):(submit_button.dataset.inprogress=submit_button.innerHTML,submit_button.innerHTML=submit_button.dataset.tosubmit,submit_button.disabled=!1)}},{key:"onSuccess",value:function(data){Toast.success("Success")}},{key:"onError",value:function(error){Toast.error(error)}},{key:"onDeleteSuccess",value:function(id){Toast.success("Success"),this._files=this._files.filter(function(_){return _.id!==id}),this.render()}},{key:"onDeleteError",value:function(error){Toast.error(error)}},{key:"uploadAttachments",value:function(event,data){var formData=new FormData,_iteratorNormalCompletion36=!0,_didIteratorError36=!1,_iteratorError36=void 0;try{for(var _step36,_iterator36=event.target.files[Symbol.iterator]();!(_iteratorNormalCompletion36=(_step36=_iterator36.next()).done);_iteratorNormalCompletion36=!0){var file=_step36.value;formData.append(this.name,file)}}catch(err){_didIteratorError36=!0,_iteratorError36=err}finally{try{!_iteratorNormalCompletion36&&_iterator36.return&&_iterator36.return()}finally{if(_didIteratorError36)throw _iteratorError36}}this.updateFormState(!0),this.control(this.method,this.formEntityConfig,formData)}},{key:"deleteAttachment",value:function(event,data){var _this80=this;this.updateFormState(!0,"common.deleting"),this.control("delete",Adhara.app.getEntityConfigFromContext({data_config:{url:URLS.delete_upload(data.id,this.purpose),allowed_query_types:["delete"],default_query_type:"delete"},processor:{success:function(query_type,entity_config,response){_this80.updateFormState(!1),_this80.onDeleteSuccess(data.id)},error:function(query_type,entity_config,_error){_this80.updateFormState(!1),_this80.onDeleteError(_error)}}}))}},{key:"template",get:function(){return"components/file-widget"}},{key:"name",get:function(){return"upload"}},{key:"method",get:function(){return"post"}},{key:"purpose",get:function(){throw new Error("implement this method")}},{key:"query",get:function(){return JSON.stringify({})}},{key:"allowedExtensions",get:function(){return this.config.allowed_types}},{key:"multiple",get:function(){return!0}},{key:"placeholder",get:function(){return"Upload files"}},{key:"fileElement",get:function(){return document.querySelector("#file-upload")}},{key:"submitButton",get:function(){return this.fileElement.form.querySelector('[type="submit"]')}},{key:"formEntityConfig",get:function(){var _this81=this,input=document.querySelector("#file-upload");return Adhara.app.getEntityConfigFromContext({data_config:{url:this.formatURL(URLS.upload(this.purpose,this.query),this.getURLPathParams()),allowed_query_types:[this.method],default_query_type:this.method},processor:{success:function(query_type,entity_config,response){input.value=null,_this81.updateFormState(!1),_this81.onSuccess(response)},error:function(query_type,entity_config,_error2){input.value=null,_this81.updateFormState(!1),_this81.onError(_error2)}}})}}]),FileWidget}(),ChartView=function(_AdharaView2){function ChartView(){return _classCallCheck(this,ChartView),_possibleConstructorReturn(this,(ChartView.__proto__||Object.getPrototypeOf(ChartView)).apply(this,arguments))}return _inherits(ChartView,AdharaView),_createClass(ChartView,[{key:"format",value:function(container){new Chart(container.querySelector("canvas").getContext("2d"),{type:this.chartType,responsive:!0,data:this.chartData,options:this.chartOptions})}},{key:"template",get:function(){return"components/chart"}},{key:"width",get:function(){return"250"}},{key:"height",get:function(){return"250"}},{key:"chartType",get:function(){return"pie"}},{key:"chartData",get:function(){return{}}},{key:"chartOptions",get:function(){return{animation:{duration:1e3,animateRotate:!0,animateScale:!0}}}}]),ChartView}(),HTMLEditorView=function(_AdharaView3){function HTMLEditorView(){return _classCallCheck(this,HTMLEditorView),_possibleConstructorReturn(this,(HTMLEditorView.__proto__||Object.getPrototypeOf(HTMLEditorView)).apply(this,arguments))}return _inherits(HTMLEditorView,AdharaView),_createClass(HTMLEditorView,[{key:"onInit",value:function(){this.editor=void 0}},{key:"getContent",value:function(){return this.editor.getData()}},{key:"insertText",value:function(text){window.CKEDITOR.instances[this.editorId].insertText(text)}},{key:"insertHtml",value:function(content){window.CKEDITOR.instances[this.editorId].insertHtml(content)}},{key:"insertTextAtCaret",value:function(text){this.insertText(text)}},{key:"insertHtmlAtCaret",value:function(html){this.insertHtml(html)}},{key:"format",value:function(container){var config=Object.assign({},this.defaultConfig,this.editorConfig);this.editor=window.CKEDITOR.replace(this.editorId,config),this.editor.setData(this.htmlContent),this.editor.on("fileUploadRequest",function(evt){var xhr=evt.data.fileLoader.xhr,_iteratorNormalCompletion37=!0,_didIteratorError37=!1,_iteratorError37=void 0;try{for(var _step37,_iterator37=Object.entries(RestAPI.getHeaders(""))[Symbol.iterator]();!(_iteratorNormalCompletion37=(_step37=_iterator37.next()).done);_iteratorNormalCompletion37=!0){var _ref35=_step37.value,_ref36=_slicedToArray(_ref35,2),key=_ref36[0],value=_ref36[1];xhr.setRequestHeader(key,value)}}catch(err){_didIteratorError37=!0,_iteratorError37=err}finally{try{!_iteratorNormalCompletion37&&_iterator37.return&&_iterator37.return()}finally{if(_didIteratorError37)throw _iteratorError37}}}),CKEDITOR.dtd.$removeEmpty.span=0}},{key:"template",get:function(){return"components/html-editor"}},{key:"containerClass",get:function(){return""}},{key:"htmlContent",get:function(){return""}},{key:"editorId",get:function(){return"html-editor"}},{key:"toolbar",get:function(){return[{name:"clipboard",items:["Undo","Redo","-","Cut","Copy","Paste","PasteText","PasteFromWord"]},{name:"editing",items:["Find","Replace","-","SelectAll"]},{name:"insert",items:["Image","Table","HorizontalRule","SpecialChar","PageBreak"]},{name:"links",items:["Link","Unlink"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize"]},{name:"styles",items:["Format","Font","FontSize"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","CopyFormatting","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]}]}},{key:"defaultConfig",get:function(){return{toolbar:this.toolbar,customConfig:"",disallowedContent:"img{width,height,float}",extraAllowedContent:"link[*];*{*}(*)[*];div{*}(*)[*];span{*}(*)[*];style[*];",extraPlugins:["tableresize","uploadimage","uploadfile","save","pagebreak","colorbutton","find","font","copyformatting","justify","image2"].join(","),removePlugins:"elementspath",uploadUrl:"/api/v1/upload_images",filebrowserUploadUrl:"/api/v1/upload_images",entities:!1,bodyClass:"document-editor",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",stylesSet:[{name:"Marker",element:"span",attributes:{class:"marker"}},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Compact table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}}]}}}]),HTMLEditorView}(),JSONFormView=function(_AdharaView4){function JSONFormView(){return _classCallCheck(this,JSONFormView),_possibleConstructorReturn(this,(JSONFormView.__proto__||Object.getPrototypeOf(JSONFormView)).apply(this,arguments))}return _inherits(JSONFormView,AdharaView),_createClass(JSONFormView,[{key:"onInit",value:function(){this.types={OBJECT:"object",ARRAY:"array",STRING:"string",INTEGER:"integer",BOOLEAN:"boolean"},this.media_types={TEXT_HTML:"text/html"}}},{key:"getIntersection",value:function(schema,initial){var _this85=this;if(initial){if("string"===schema.type)return initial;var intersect={};for(var property_name in schema.properties)schema.properties.hasOwnProperty(property_name)&&initial.hasOwnProperty(property_name)&&function(){var property=schema.properties[property_name];"object"===property.type?intersect[property_name]=_this85.getIntersection(property,initial[property_name]):"array"===property.type?initial[property_name]instanceof Array&&(intersect[property_name]=initial[property_name].map(function(default_datum){return _this85.getIntersection(property.items,default_datum)})):intersect[property_name]=initial[property_name]}();return intersect}}},{key:"format",value:function(){var schema=this.modifySchema(this.schema);this.editor=new JSONEditor(this.formContainer,{schema:schema,startval:this.getIntersection(schema,this.defaultData),theme:"dmio",disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,required_by_default:!0}),this.handleInlineCSV()}},{key:"alertMaxRowsExceeded",value:function(){Adhara.toast.error("Maximum rows allowed is "+this.maxCSVRows)}},{key:"handleInlineCSV",value:function(){var _this86=this;document.querySelectorAll('[data-schematype="array"] h3').forEach(function(array_heading){var node=document.createElement("A");node.className="dmio-icon fas fa-file-csv inline-csv-import",node.href="javascript:void(0);",node.title="Add list data from a CSV";var file_node=document.createElement("input");file_node.type="file",file_node.style.display="none",file_node.accept="text/csv",node.appendChild(file_node),node.addEventListener("click",function(e){file_node.click()}),file_node.addEventListener("change",function(e){$(file_node).parse({config:{complete:function(results,file){var list_editor=_this86.editor.getEditor(e.target.parentElement.parentElement.parentElement.dataset.schemapath),valid_headers=Object.keys(list_editor.schema.items.properties),headers=results.data.shift().map(function(_){return _.trim()}),csv_json=[],_loop=function(result){if(result.length>=headers.length){var result_object={};headers.forEach(function(header,index){-1!==valid_headers.indexOf(header)&&(result_object[header]=result[index])}),Object.keys(result_object).length&&csv_json.push(result_object)}},_iteratorNormalCompletion38=!0,_didIteratorError38=!1,_iteratorError38=void 0;try{for(var _step38,_iterator38=results.data[Symbol.iterator]();!(_iteratorNormalCompletion38=(_step38=_iterator38.next()).done);_iteratorNormalCompletion38=!0){_loop(_step38.value)}}catch(err){_didIteratorError38=!0,_iteratorError38=err}finally{try{!_iteratorNormalCompletion38&&_iterator38.return&&_iterator38.return()}finally{if(_didIteratorError38)throw _iteratorError38}}if(console.log(results,Object.keys(list_editor.schema.items.properties)),csv_json.length>0){var _csv_json=csv_json;csv_json.length>_this86.maxCSVRows&&(_csv_json=csv_json.splice(0,_this86.maxCSVRows)),file_node.value="",list_editor.toggle_button.style.display="",list_editor.toggle_button.innerText="Expand",array_heading.nextSibling.style.display="none",list_editor.collapsed=!0,list_editor.setValue(_csv_json),csv_json.length>_this86.maxCSVRows?Adhara.toast.make("CSV imported partially. Only "+_csv_json.length+" rows were imported",null,"warning"):Adhara.toast.success("Successfully imported "+csv_json.length+" rows")}else 0===csv_json.length?Adhara.toast.error("There must be at least one valid row in CSV"):_this86.alertMaxRowsExceeded()}},before:function(file,inputElem){},error:function(err,file,inputElem,reason){Adhara.toast.error("Failed to import data from csv. "+err)},complete:function(){}})}),array_heading.insertBefore(node,array_heading.children[0])})}},{key:"validate",value:function(){return this.editor.validate()}},{key:"modify",value:function(properties_object,schema){var _iteratorNormalCompletion39=!0,_didIteratorError39=!1,_iteratorError39=void 0;try{for(var _step39,_iterator39=schema[Symbol.iterator]();!(_iteratorNormalCompletion39=(_step39=_iterator39.next()).done);_iteratorNormalCompletion39=!0){var schema_field=_step39.value,property={name:schema_field.name,type:schema_field.type,generics:schema_field.generics},property_fields=schema_field.fields;if(delete property.fields,property.title=AppUtils.makeReadable(property.name),property.type===Parser.VAR_FRAGMENT||property.type===Parser.GENERIC_FRAGMENT)property.type=this.types.STRING,property.required=!0,properties_object[property.name]=property;else if(property.type===Parser.BLOCK_FRAGMENT||property.type===Parser.NESTED_VAR_FRAGMENT)property.type=this.types.OBJECT,property.properties={},properties_object[property.name]=property,this.modify(property.properties,property_fields);else if(property.type===Parser.LIST_FRAGMENT){property.type=this.types.ARRAY;var string_generics=property.generics===Parser.VAR_FRAGMENT;property.default=string_generics?[""]:[{}],property.format="table",property.items={type:string_generics?this.types.STRING:this.types.OBJECT,properties:{}},properties_object[property.name]=property,property_fields&&this.modify(property.items.properties,property_fields)}}}catch(err){_didIteratorError39=!0,_iteratorError39=err}finally{try{!_iteratorNormalCompletion39&&_iterator39.return&&_iterator39.return()}finally{if(_didIteratorError39)throw _iteratorError39}}}},{key:"modifySchema",value:function(schema){var new_schema={title:this.formName,type:this.types.OBJECT,properties:{}};return this.modify(new_schema.properties,schema),new_schema}},{key:"getJSON",value:function(){return this.editor.getValue()}},{key:"formContainer",get:function(){}},{key:"schema",get:function(){return{title:this.formName,type:this.types.OBJECT,properties:{}}}},{key:"defaultData",get:function(){return{}}},{key:"formName",get:function(){return null}},{key:"maxCSVRows",get:function(){return 2e3}}]),JSONFormView}(),GenericAlertView=function(_AdharaDialogView){function GenericAlertView(){return _classCallCheck(this,GenericAlertView),_possibleConstructorReturn(this,(GenericAlertView.__proto__||Object.getPrototypeOf(GenericAlertView)).apply(this,arguments))}return _inherits(GenericAlertView,AdharaDialogView),_createClass(GenericAlertView,[{key:"onInit",value:function(){this.onExecuteSuccess=this.onExecuteSuccess.bind(this),_get(GenericAlertView.prototype.__proto__||Object.getPrototypeOf(GenericAlertView.prototype),"onInit",this).call(this)}},{key:"onExecuteSuccess",value:function(response){}},{key:"onExecuteFail",value:function(){Adhara.toast.error(Adhara.i18n.get("common.failed"))}},{key:"executeOperation",value:function(e,data){var _this88=this;if(!e.target.disabled){var entity_config=Adhara.app.getEntityConfig(this.entityConfigName);e.target.innerText="Processing...",e.target.disabled=!0,entity_config.processor={success:function(_,__,response){_this88.hide(),_this88.onExecuteSuccess(response)},error:function(){e.target.innerText=_this88.primaryAction,e.target.disabled=!1,_this88.onExecuteFail()}},this.control(this.method,this.formatEntityConfig(entity_config),this.getPayload())}}},{key:"entityConfigName",get:function(){return""}},{key:"method",get:function(){return"post"}},{key:"primaryAction",get:function(){return Adhara.i18n.get("common.proceed")}},{key:"primaryClass",get:function(){return"btn btn-primary"}},{key:"buttons",get:function(){return[_get(GenericAlertView.prototype.__proto__||Object.getPrototypeOf(GenericAlertView.prototype),"buttons",this)[0],{attributes:{type:"button",class:this.primaryClass,"data-onclick":"executeOperation"},text:this.primaryAction}]}}]),GenericAlertView}(),GenericDeleteAlertView=function(_GenericAlertView){function GenericDeleteAlertView(){return _classCallCheck(this,GenericDeleteAlertView),_possibleConstructorReturn(this,(GenericDeleteAlertView.__proto__||Object.getPrototypeOf(GenericDeleteAlertView)).apply(this,arguments))}return _inherits(GenericDeleteAlertView,GenericAlertView),_createClass(GenericDeleteAlertView,[{key:"onInit",value:function(){this.onDeleteSuccess=this.onDeleteSuccess.bind(this),_get(GenericDeleteAlertView.prototype.__proto__||Object.getPrototypeOf(GenericDeleteAlertView.prototype),"onInit",this).call(this)}},{key:"onConsentUpdate",value:function(event,data){this.toggleButton(event.target.value.toUpperCase()===this.strictConsentText.toUpperCase())}},{key:"toggleButton",value:function(enable){var danger=document.querySelector("#"+this.modalId+" .btn-danger");enable?danger.removeAttribute("disabled"):danger.setAttribute("disabled","true")}},{key:"format",value:function(c){this.strictConsentText&&this.toggleButton(!1),_get(GenericDeleteAlertView.prototype.__proto__||Object.getPrototypeOf(GenericDeleteAlertView.prototype),"format",this).call(this,c)}},{key:"onExecuteSuccess",value:function(){_get(GenericDeleteAlertView.prototype.__proto__||Object.getPrototypeOf(GenericDeleteAlertView.prototype),"onExecuteSuccess",this).call(this),Adhara.toast.success(Adhara.i18n.get(this.entityName+".del.success")),this.onDeleteSuccess()}},{key:"onDeleteSuccess",value:function(){}},{key:"entityName",get:function(){return""}},{key:"entryName",get:function(){return""}},{key:"method",get:function(){return"delete"}},{key:"titleTemplate",get:function(){return Adhara.i18n.get(this.entityName+".del")}},{key:"messageTemplate",get:function(){return"common/generic-delete-alert"}},{key:"strictConsentText",get:function(){}},{key:"primaryAction",get:function(){return Adhara.i18n.get("common.del")}},{key:"primaryClass",get:function(){return"btn btn-danger"}}]),GenericDeleteAlertView}(),PickableFieldsFormView=function(_AdharaFormView){function PickableFieldsFormView(){return _classCallCheck(this,PickableFieldsFormView),_possibleConstructorReturn(this,(PickableFieldsFormView.__proto__||Object.getPrototypeOf(PickableFieldsFormView)).apply(this,arguments))}return _inherits(PickableFieldsFormView,AdharaFormView),_createClass(PickableFieldsFormView,[{key:"showFieldPicker",value:function(e,data){e.target.nextElementSibling.classList.contains("hidden")?(e.target.nextElementSibling.classList.remove("hidden"),jQuery(e.target.nextElementSibling.querySelector(".dropdown")).select2("open")):(jQuery(e.target.nextElementSibling.querySelector(".dropdown")).select2("close"),e.target.nextElementSibling.classList.add("hidden"))}},{key:"convertSchema",value:function(schema,parent_name){var fields=[];function prepend_parent(name){return(parent_name?parent_name+".":"")+name}function _append(level_fields){level_fields.forEach(function(_){return fields.push(_)})}parent_name=parent_name||"";var _iteratorNormalCompletion40=!0,_didIteratorError40=!1,_iteratorError40=void 0;try{for(var _step40,_iterator40=schema[Symbol.iterator]();!(_iteratorNormalCompletion40=(_step40=_iterator40.next()).done);_iteratorNormalCompletion40=!0){var field=_step40.value;field.type===Parser.NESTED_VAR_FRAGMENT||field.type===Parser.BLOCK_FRAGMENT?_append(this.convertSchema(field.fields,prepend_parent(field.name))):field.type!==Parser.GENERIC_FRAGMENT&&field.type!==Parser.VAR_FRAGMENT||_append([prepend_parent(field.name)])}}catch(err){_didIteratorError40=!0,_iteratorError40=err}finally{try{!_iteratorNormalCompletion40&&_iterator40.return&&_iterator40.return()}finally{if(_didIteratorError40)throw _iteratorError40}}return fields}},{key:"attachFieldPicker",value:function(element){var $dropdown=jQuery(element),data=this.convertSchema(this.schema);data.unshift.apply(data,DocumentSchema.reservedTokens),$dropdown.select2({data:data}).on("change",function(e){var drop_container=jQuery(e.target).parent(".drop-container"),related_input=drop_container.siblings("input");related_input.length||(related_input=drop_container.siblings("textarea"));var templateToken=$dropdown.select2("data")[0].text;-1!==templateToken.indexOf(" ")&&(templateToken="["+templateToken+"]"),related_input.val(related_input.val()+"{{"+templateToken+"}}"),$dropdown.select2("close"),drop_container.addClass("hidden")}).on("select2:closing",function(e){jQuery(e.target).parent(".drop-container").addClass("hidden")})}},{key:"format",value:function(){var _this91=this;this.getParentContainerElement().querySelectorAll(".has-feedback input.dropdown").forEach(function(dropdown){_this91.attachFieldPicker(dropdown)})}},{key:"schema",get:function(){return this.data.schema.schema}}]),PickableFieldsFormView}(),HelpView=function(_AdharaView5){function HelpView(){return _classCallCheck(this,HelpView),_possibleConstructorReturn(this,(HelpView.__proto__||Object.getPrototypeOf(HelpView)).apply(this,arguments))}return _inherits(HelpView,AdharaView),_createClass(HelpView,[{key:"fetchData",value:function(){var _this93=this,URI=window.base_url+"help/"+this.helpCard.template+".md?v="+window.version;window.jQuery.get(URI,{},function(response){_this93.handleDataChange(response)})}},{key:"template",get:function(){return"common/help-container"}},{key:"helpCard",get:function(){var help_card=this.parentView.helpCard||{};return help_card.title=help_card.title||"Context Aware",help_card.template=help_card.template||"default",help_card}},{key:"contentTemplate",get:function(){return window.marked(this.data||"")}},{key:"contentTitle",get:function(){return this.helpCard.title}}]),HelpView}(),SubscriptionUsageMini=function(_AdharaView6){function SubscriptionUsageMini(){return _classCallCheck(this,SubscriptionUsageMini),_possibleConstructorReturn(this,(SubscriptionUsageMini.__proto__||Object.getPrototypeOf(SubscriptionUsageMini)).apply(this,arguments))}return _inherits(SubscriptionUsageMini,AdharaView),_createClass(SubscriptionUsageMini,[{key:"onInit",value:function(){var _this95=this;this.ticker=new AdharaTicker(3e5),this.errored=0,this.ticker.start(function(){document.hasFocus()&&_this95.refresh(),_this95.errored<5&&_this95.ticker.next()}),_get(SubscriptionUsageMini.prototype.__proto__||Object.getPrototypeOf(SubscriptionUsageMini.prototype),"onInit",this).call(this)}},{key:"dataChange",value:function(data){_get(SubscriptionUsageMini.prototype.__proto__||Object.getPrototypeOf(SubscriptionUsageMini.prototype),"dataChange",this).call(this,data),Adhara.getView(ContainerView).data.subscription=data}},{key:"onDestroy",value:function(){this.ticker.stop()}},{key:"isImmortal",get:function(){return!0}},{key:"template",get:function(){return this.errored=0,"container-usage"}},{key:"errorTemplate",get:function(){return this.errored++,this.template}},{key:"upgradeButton",get:function(){var btn_class=this.data.percentUsed>80?"btn-danger":this.data.percentUsed>60?"btn-warning":null;btn_class=btn_class||Adhara.getView(ContainerView).data.subscription.isFreePlan?"btn-danger":null;var text="Upgrade",offers=Object.values(Adhara.getView(ContainerView).data.meta.offers);if(offers.length){var highest_discount=offers.map(function(offer){return offer?offer.discount:0}).reduce(function(discount1,discount2){return Math.max(discount1,discount2)});highest_discount&&(text="Upgrade - "+highest_discount+"% off",btn_class=btn_class||"btn-distraction")}return btn_class?{text:text,btn_class:btn_class}:null}}]),SubscriptionUsageMini}(),ContainerView=function(_AdharaContainerView){function ContainerView(){return _classCallCheck(this,ContainerView),_possibleConstructorReturn(this,(ContainerView.__proto__||Object.getPrototypeOf(ContainerView)).apply(this,arguments))}return _inherits(ContainerView,AdharaContainerView),_createClass(ContainerView,[{key:"onInit",value:function(){this._sidebar_collapsed=!1,this.type_idx=0,this.timerId=0,this.onRoute=this.onRoute.bind(this),this.closedNotifications=[],Adhara.router.onRoute("container-listener",this.onRoute),this.onViewRendered(function(){jQuery("body").layout("fix")})}},{key:"typeNext",value:function(){var _this97=this,tw=document.querySelectorAll(".typewriter");tw.length&&(tw.forEach(function(twi){return twi.innerText=_this97.document_types[_this97.type_idx]}),typewriter.prepare(".typewriter"),typewriter.type(".typewriter").then(function(){_this97.timerId=setTimeout(function(){typewriter.untype(".typewriter").then(function(){_this97.type_idx=++_this97.type_idx%_this97.document_types.length,_this97.typeNext()})},500)}))}},{key:"fetchData",value:function(){var _this98=this;Adhara.dataInterface.recall("banner-notifications").then(function(notifications){_this98.closedNotifications=notifications,_get(ContainerView.prototype.__proto__||Object.getPrototypeOf(ContainerView.prototype),"fetchData",_this98).call(_this98)}).catch(function(){_get(ContainerView.prototype.__proto__||Object.getPrototypeOf(ContainerView.prototype),"fetchData",_this98).call(_this98)})}},{key:"onDestroy",value:function(){clearTimeout(this.timerId),this.type_idx=0,this.timerId=0}},{key:"format",value:function(container){var container_wrapper=container.querySelector(".container-wrapper");container_wrapper&&container_wrapper.classList.add("reveal"),this.errors?this.typeNext():this.isApp&&(AppUtils.initializeSupportWidget(this.data.profile),AppUtils.initializeWhatsNew())}},{key:"onRoute",value:function(){if(this.isLoggedInPage&&!this.errors){if(document.querySelector(".sidebar")){document.querySelectorAll(".lhs-item").forEach(function(item){return item.className="lhs-item"});var lhs_tab_name=this.page;lhs_tab_name="document_details"===lhs_tab_name?"home":lhs_tab_name;try{document.getElementById("lhs-"+lhs_tab_name).className="active lhs-item"}catch(e){console.warn("Unable to select left tab! "+e.msg)}}ContainerView.restateLHS("document_details"===this.page||this._sidebar_collapsed),Adhara.router.getQueryParam("showOverview")&&this.showOverview(null,{auto_start:!1})}}},{key:"onHamburgerClick",value:function(){var _this99=this;setTimeout(function(){_this99._sidebar_collapsed=document.body.classList.contains("sidebar-collapse")},0)}},{key:"logout",value:function(){var entity_config=Adhara.app.getEntityConfig("logout");entity_config.processor={success:function(){Session.logout().then(Adhara.lightReload)},error:function(){Adhara.toast.error(Adhara.i18n.get("common.failed"))}},this.getData(entity_config)}},{key:"showUserContextMenu",value:function(event){AppUtils.overflowToggle(event,this.getParentContainerElement())}},{key:"showOverview",value:function(e,data){document.getElementById("overview-frame").classList.remove("collapse","hide"),!1!==data.auto_start&&document.getElementById("yt-player").contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"https://www.youtube-nocookie.com/")}},{key:"hideOverview",value:function(){var overviewFrame=document.getElementById("overview-frame");document.getElementById("yt-player").contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"https://www.youtube-nocookie.com/"),overviewFrame.classList.add("collapse"),Adhara.getView(SubscriptionUsageMini).data.showUpgradeButton||overviewFrame.classList.add("subscribed"),overviewFrame.style.rigt=window.innerWidth-document.getElementById("overview-action").offsetParent.offsetLeft,setTimeout(function(){overviewFrame.classList.add("hide")},500),Adhara.router.removeQueryParams(["showOverview"])}},{key:"getPersonalization",value:function(key){return this.data.personalization.get_value(key)}},{key:"setPersonalization",value:function(key,value){var _this100=this;this.data.personalization.set_value(key,value),this.putData({data_config:{url:URLS.personalization,allowed_query_types:["put"]},processor:{success:function(query_type,entity_config,response,xhr,pass_over){_this100.data.personalization.json=response},error:function(){}}},this.data.personalization.json)}},{key:"closeNotification",value:function(event,data){var _this101=this;Adhara.dataInterface.recall("banner-notifications").then(function(notifications){notifications.push(data.id),_this101.closedNotifications=notifications,Adhara.dataInterface.remember("banner-notifications",notifications,{timeout:2592e6}),_this101.render()}).catch(function(){var notifications=[data.id];_this101.closedNotifications=notifications,Adhara.dataInterface.remember("banner-notifications",notifications,{timeout:2592e6}),_this101.render()})}},{key:"isApp",get:function(){return Adhara.router.getCurrentPageName()!==VIEWS.MERGE_FORM}},{key:"template",get:function(){return this.isApp?"container":"merge-form-container"}},{key:"errorTemplate",get:function(){return this.isApp?"auth/container":"merge-form-container"}},{key:"document_types",get:function(){return["Proposals","Quotes","Contracts","Agreements","Offer Letters","Certificates","Purchase Orders","Sales Order","Invoices","Receipts","Rental Agreements","Personalized Invitations","Personalized Documents"]}},{key:"entityConfig",get:function(){var entity_config=_get(ContainerView.prototype.__proto__||Object.getPrototypeOf(ContainerView.prototype),"entityConfig",this);if(!this.isApp){for(var allowed_urls=[URLS.meta],batch_data=[],i=0;i<entity_config.data_config.batch_data_override.length;i++)-1!==allowed_urls.indexOf(entity_config.data_config.batch_data_override[i].url)&&batch_data.push(entity_config.data_config.batch_data_override[i]);entity_config.data_config.batch_data_override=batch_data}return entity_config}},{key:"contentContainer",get:function(){return{SubscriptionUsageMini:".container-wrapper #subscription-usage","*":".container-wrapper #main-content"}}},{key:"subViews",get:function(){return this.isApp&&this.data&&!this.errors?[SubscriptionUsageMini]:_get(ContainerView.prototype.__proto__||Object.getPrototypeOf(ContainerView.prototype),"subViews",this)}},{key:"page",get:function(){return Adhara.router.getCurrentPageName()}},{key:"isLoggedInPage",get:function(){return-1===["login","signup","reset_password","forgot_password","404"].indexOf(this.page)}},{key:"bannerNotification",get:function(){var _this102=this;return this.data.banner_notifications.filter(function(_){return _.isValid&&-1===_this102.closedNotifications.indexOf(_.id)})[0]}}]),ContainerView}();function onYouTubeIframeAPIReady(){console.log("here...")}ContainerView.restateLHS=function(collapse){document.body.classList[collapse?"add":"remove"]("sidebar-collapse")};var SettingsView=function(_AdharaView7){function SettingsView(){return _classCallCheck(this,SettingsView),_possibleConstructorReturn(this,(SettingsView.__proto__||Object.getPrototypeOf(SettingsView)).apply(this,arguments))}return _inherits(SettingsView,AdharaView),_createClass(SettingsView,[{key:"template",get:function(){return"settings/settings_home"}},{key:"contentContainer",get:function(){return{SettingsTabsView:".settings-container #settings-tabs-container",HelpView:".settings-container #settings-rhs-view"}}},{key:"subViews",get:function(){return[SettingsTabsView,HelpView]}},{key:"data",get:function(){return this.parentView.data.profile}},{key:"helpCard",get:function(){var current_tab=Adhara.router.getPathParam("tab");return{template:{profile:"settings/profile",security:"settings/security",api:"settings/api",license:"settings/license",subscription:"settings/subscription",linked_accounts:"settings/linked_accounts"}[current_tab],title:{subscription:"FAQ"}[current_tab]}}}]),SettingsView}(),SettingsTabsView=function(_DmioTabView){function SettingsTabsView(){return _classCallCheck(this,SettingsTabsView),_possibleConstructorReturn(this,(SettingsTabsView.__proto__||Object.getPrototypeOf(SettingsTabsView)).apply(this,arguments))}return _inherits(SettingsTabsView,DmioTabView),_createClass(SettingsTabsView,[{key:"currentTab",get:function(){return Adhara.router.getPathParam("license_id")?this.tabs.filter(function(tab){return"license"===tab.id})[0]:_get(SettingsTabsView.prototype.__proto__||Object.getPrototypeOf(SettingsTabsView.prototype),"currentTab",this)}},{key:"tabs",get:function(){return[{id:"profile",link:"/settings/profile",name:"Profile",view:ProfileSettingsView},{id:"security",link:"/settings/security",name:"Security",view:SecuritySettingsView},{id:"api",link:"/settings/api",name:"API Settings",view:ApiSettingsView},{id:"subscription",link:"/settings/subscription",name:"Billing & Usage",view:LicenseView},{id:"linked_accounts",link:"/settings/linked_accounts",name:"Linked Accounts",view:LinkedAccountsListContainer}]}}]),SettingsTabsView}(),ApiSettingsView=function(_AdharaTemplateView){function ApiSettingsView(){return _classCallCheck(this,ApiSettingsView),_possibleConstructorReturn(this,(ApiSettingsView.__proto__||Object.getPrototypeOf(ApiSettingsView)).apply(this,arguments))}return _inherits(ApiSettingsView,AdharaTemplateView),_createClass(ApiSettingsView,[{key:"copyToken",value:function(e,data){AppUtils.copyToClipboard(data.token),Adhara.toast.success(Adhara.i18n.get("api_token.copy"))}},{key:"deleteToken",value:function(e,data){e.preventDefault(),this.auth_token_id=data.id,Adhara.createView(Adhara.getView(DeleteApiSettingView,this))}},{key:"openTokenForm",value:function(e,data){Adhara.createView(Adhara.getView(NewApiSettingFormView,this))}},{key:"headerTemplate",get:function(){return"settings/api-template-header"}},{key:"containerAttributes",get:function(){return{class:"api-settings-list"}}},{key:"itemTemplate",get:function(){return"settings/api-template-item"}},{key:"buttons",get:function(){return[{title:"Add new API Key",attributes:{class:"btn btn-primary","data-onclick":"openTokenForm"}}]}},{key:"title",get:function(){return"Manage API Keys"}},{key:"tableClass",get:function(){return"table-hover table-bordered table-striped api-settings-table"}}],[{key:"cleanUp",value:function(){return Adhara.dataInterface.db_table.removeMultiple(function(key,datum){return 0===key.indexOf(URLS.auth_tokens)})}}]),ApiSettingsView}(),DeleteApiSettingView=function(_GenericDeleteAlertVi){function DeleteApiSettingView(){return _classCallCheck(this,DeleteApiSettingView),_possibleConstructorReturn(this,(DeleteApiSettingView.__proto__||Object.getPrototypeOf(DeleteApiSettingView)).apply(this,arguments))}return _inherits(DeleteApiSettingView,GenericDeleteAlertView),_createClass(DeleteApiSettingView,[{key:"getURLPathParams",value:function(batch_identifier){return{auth_token_id:this.parentView.auth_token_id}}},{key:"onDeleteSuccess",value:function(){var _ref37=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,ApiSettingsView.cleanUp();case 3:_context4.next=7;break;case 5:_context4.prev=5,_context4.t0=_context4.catch(0);case 7:Adhara.router.navigateTo("/settings/api",!0);case 8:case"end":return _context4.stop()}},_callee4,this,[[0,5]])}));return function(){return _ref37.apply(this,arguments)}}()},{key:"titleTemplate",get:function(){return Adhara.i18n.get("common.delete",["api_token.title"])}},{key:"messageTemplate",get:function(){return Adhara.i18n.get("common.del_message",["api_token.title"])}},{key:"entityName",get:function(){return"api_token"}},{key:"entityConfigName",get:function(){return"api_setting"}}]),DeleteApiSettingView}(),NewApiSettingFormView=function(_AdharaDialogFormView){function NewApiSettingFormView(){return _classCallCheck(this,NewApiSettingFormView),_possibleConstructorReturn(this,(NewApiSettingFormView.__proto__||Object.getPrototypeOf(NewApiSettingFormView)).apply(this,arguments))}return _inherits(NewApiSettingFormView,AdharaDialogFormView),_createClass(NewApiSettingFormView,[{key:"onSuccess",value:function(){var _ref38=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(data){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return this.hide(),Adhara.toast.success(Adhara.i18n.get("common.create.success",["api_token.title"])),_context5.prev=2,_context5.next=5,ApiSettingsView.cleanUp();case 5:_context5.next=9;break;case 7:_context5.prev=7,_context5.t0=_context5.catch(2);case 9:Adhara.router.navigateTo("/settings/api",!0);case 10:case"end":return _context5.stop()}},_callee5,this,[[2,7]])}));return function(_x5){return _ref38.apply(this,arguments)}}()},{key:"onError",value:function(data){Adhara.toast.error(Adhara.i18n.get("common.failed"))}},{key:"titleTemplate",get:function(){return Adhara.i18n.get("api_token.generate")}},{key:"messageTemplate",get:function(){return"settings/new-api-token"}},{key:"primaryActionTitle",get:function(){return Adhara.i18n.get("common.generate")}},{key:"action",get:function(){return URLS.auth_tokens}}]),NewApiSettingFormView}(),LicenseView=function(_AdharaView8){function LicenseView(){return _classCallCheck(this,LicenseView),_possibleConstructorReturn(this,(LicenseView.__proto__||Object.getPrototypeOf(LicenseView)).apply(this,arguments))}return _inherits(LicenseView,AdharaView),_createClass(LicenseView,[{key:"onInit",value:function(){this.period=null}},{key:"updatePeriodType",value:function(event,data){this.period=data.period,event.target.classList.add("selected"),event.target.nextElementSibling&&event.target.nextElementSibling.classList.remove("selected"),event.target.previousElementSibling&&event.target.previousElementSibling.classList.remove("selected"),Adhara.getView(LicensePlansView).refresh()}},{key:"format",value:function(c){return _get(LicenseView.prototype.__proto__||Object.getPrototypeOf(LicenseView.prototype),"format",this).call(this,c),window.CURRENT_SUBSCRIPTION&&window.CURRENT_SUBSCRIPTION===this.data.subscription.planId?this.refresh():window.CURRENT_SUBSCRIPTION?(window.CURRENT_SUBSCRIPTION=null,_get(LicenseView.prototype.__proto__||Object.getPrototypeOf(LicenseView.prototype),"refresh",this).call(this)):void 0}},{key:"refresh",value:function(){var _ref39=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var _this109=this;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,LicenseView.cleanUp();case 3:_context6.next=7;break;case 5:_context6.prev=5,_context6.t0=_context6.catch(0);case 7:return _context6.abrupt("return",setTimeout(function(){_get(LicenseView.prototype.__proto__||Object.getPrototypeOf(LicenseView.prototype),"refresh",_this109).call(_this109)},2e3));case 8:case"end":return _context6.stop()}},_callee6,this,[[0,5]])}));return function(){return _ref39.apply(this,arguments)}}()},{key:"manageBilling",value:function(e,d){var chargebeeInstance=Chargebee.getInstance();chargebeeInstance.setPortalSession(function(){return $.ajax({url:URLS.portal_session,method:"GET"})}),chargebeeInstance.createChargebeePortal().open({close:function(){chargebeeInstance.logout()}})}},{key:"template",get:function(){return"settings/license"}},{key:"contentContainer",get:function(){return{LicensePlansView:".license-container #license-plans",LicenseUsageView:".license-container #license-usage"}}},{key:"subViews",get:function(){return[LicenseUsageView,LicensePlansView]}},{key:"data",get:function(){var _d=_get(LicenseView.prototype.__proto__||Object.getPrototypeOf(LicenseView.prototype),"data",this),_current_plan=null;return _d.plans.forEach(function(plan){plan.planId===_d.subscription.planId?(plan.isCurrent=!0,_current_plan=plan):plan.isCurrent=!1}),_current_plan||(_current_plan=new LicensePlan(_d.subscription._data)),this.period=this.period||_current_plan.billingPeriodUnit||"month",{subscription:_d.subscription,current_plan:_current_plan,plans:_d.plans}}}],[{key:"cleanUp",value:function(){return Adhara.dataInterface.remove(URLS.subscription)}}]),LicenseView}(),LicensePlansView=function(_AdharaCardView){function LicensePlansView(){return _classCallCheck(this,LicensePlansView),_possibleConstructorReturn(this,(LicensePlansView.__proto__||Object.getPrototypeOf(LicensePlansView)).apply(this,arguments))}return _inherits(LicensePlansView,AdharaCardView),_createClass(LicensePlansView,[{key:"onInit",value:function(){this.billing_period="month"}},{key:"subscribe",value:function(event,data){var plan_id=data.plan;this.changeTo=this.parentView.data.plans.filter(function(plan){return plan.planId===plan_id})[0],this.currentSubscription.planId!==plan_id&&this.openCB(plan_id)}},{key:"openCB",value:function(plan_id){var _this111=this;Chargebee.getInstance().openCheckout({hostedPage:function(){return $.ajax({url:URLS.subscription,data:{plan_id:plan_id},headers:Adhara.restAPI.getHeaders(""),method:"POST"})},success:function(){var _ref40=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(hostedPageId){return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:Chargebee.getInstance().closeAll(),_this111.handleRefresh();case 2:case"end":return _context7.stop()}},_callee7,_this111)}));return function(_x6){return _ref40.apply(this,arguments)}}()})}},{key:"handleRefresh",value:function(){window.CURRENT_SUBSCRIPTION=this.currentSubscription.planId,this.parentView.refresh()}},{key:"containerClass",get:function(){return""}},{key:"cardSizeClass",get:function(){return"col-md-4 col-xlg-4"}},{key:"itemTemplate",get:function(){return"settings/license-card-item"}},{key:"currentSubscription",get:function(){return this.parentView.data.subscription}},{key:"currentPlan",get:function(){return this.parentView.data.current_plan}},{key:"data",get:function(){var _this112=this;return this.parentView.data.plans.filter(function(_){return _.billingPeriodUnit===_this112.billingPeriod})}},{key:"billingPeriod",get:function(){return Adhara.getView(LicenseView).period}}]),LicensePlansView}(),LicensePlanChangeView=function(_GenericAlertView2){function LicensePlanChangeView(){return _classCallCheck(this,LicensePlanChangeView),_possibleConstructorReturn(this,(LicensePlanChangeView.__proto__||Object.getPrototypeOf(LicensePlanChangeView)).apply(this,arguments))}return _inherits(LicensePlanChangeView,GenericAlertView),_createClass(LicensePlanChangeView,[{key:"getPayload",value:function(){return{plan_id:this.newSubscription.planId}}},{key:"onExecuteSuccess",value:function(){this.parentView.handleRefresh()}},{key:"fetchData",value:function(){this.render()}},{key:"titleTemplate",get:function(){return this.isUpgrade?"Upgrade Subscription":"Downgrade Subscription"}},{key:"currentSubscription",get:function(){return this.parentView.currentSubscription}},{key:"newSubscription",get:function(){return this.parentView.changeTo}},{key:"isUpgrade",get:function(){return this.parentView.currentPlan.boolPrice<this.newSubscription.boolPrice}},{key:"messageTemplate",get:function(){return"settings/regrade-subscription"}},{key:"entityConfigName",get:function(){return"subscription"}}]),LicensePlanChangeView}(),LicenseUsageView=function(_ChartView){function LicenseUsageView(){return _classCallCheck(this,LicenseUsageView),_possibleConstructorReturn(this,(LicenseUsageView.__proto__||Object.getPrototypeOf(LicenseUsageView)).apply(this,arguments))}return _inherits(LicenseUsageView,ChartView),_createClass(LicenseUsageView,[{key:"chartType",get:function(){return"doughnut"}},{key:"width",get:function(){return"50"}},{key:"height",get:function(){return"50"}},{key:"chartOptions",get:function(){var _co=_get(LicenseUsageView.prototype.__proto__||Object.getPrototypeOf(LicenseUsageView.prototype),"chartOptions",this);return _co.tooltips={enabled:!1},_co.hover={mode:null},_co}},{key:"chartData",get:function(){var subscription=this.parentView.data.subscription;return{datasets:[{data:[subscription.documentsCreated,subscription.limit-subscription.documentsCreated],backgroundColor:["rgb(61, 137, 225, 1)","rgb(61, 137, 225, 0.2)"],hoverBackgroundColor:["rgb(61, 137, 225, 1)","rgb(61, 137, 225, 0.2)"]}]}}}]),LicenseUsageView}(),LinkedAccountsListContainer=function(_AdharaView9){function LinkedAccountsListContainer(){return _classCallCheck(this,LinkedAccountsListContainer),_possibleConstructorReturn(this,(LinkedAccountsListContainer.__proto__||Object.getPrototypeOf(LinkedAccountsListContainer)).apply(this,arguments))}return _inherits(LinkedAccountsListContainer,AdharaView),_createClass(LinkedAccountsListContainer,[{key:"toggleOverflow",value:function(event){AppUtils.overflowToggle(event)}},{key:"link",value:function(event,data){var _this116=this;linkAccount(data.type,data.accounttype,function(){LinkedAccountsListView.cleanUp(),_this116.refresh()},this)}},{key:"template",get:function(){return"settings/linked-account-list-container"}},{key:"contentContainer",get:function(){return{LinkedAccountsListView:".linked-accounts #linked-accounts-list"}}},{key:"subViews",get:function(){return[LinkedAccountsListView]}},{key:"linkableAccounts",get:function(){var deliveryTypeConfigs=[];return LinkedAccount.type_configs.forEach(function(delivery_type_config){if(delivery_type_config.disabled)return!1;delivery_type_config.authentication_type&&(delivery_type_config.account_types instanceof Array?delivery_type_config.account_types.forEach(function(account_type){deliveryTypeConfigs.push(Object.assign({account_type:account_type},delivery_type_config))}):deliveryTypeConfigs.push(delivery_type_config))}),deliveryTypeConfigs}}]),LinkedAccountsListContainer}(),LinkedAccountsListView=function(_AdharaTemplateView2){function LinkedAccountsListView(){return _classCallCheck(this,LinkedAccountsListView),_possibleConstructorReturn(this,(LinkedAccountsListView.__proto__||Object.getPrototypeOf(LinkedAccountsListView)).apply(this,arguments))}return _inherits(LinkedAccountsListView,AdharaTemplateView),_createClass(LinkedAccountsListView,[{key:"onInit",value:function(){this.linkedAccount=null}},{key:"reconnect",value:function(event,data){var _this118=this;this.linkedAccount=this.data.filter(function(_account){return _account.id===+data.id})[0],linkAccount(LinkedAccount.type_configs.filter(function(_){return _.type===_this118.linkedAccount.type})[0].type,this.linkedAccount.accountType,function(){LinkedAccountsListView.cleanUp(),_this118.refresh()},this,this.linkedAccount.id)}},{key:"revokeAccess",value:function(event,data){this.linkedAccount=this.data.filter(function(_account){return _account.id===+data.id})[0],Adhara.createView(Adhara.getView(DeleteLinkedAccountView,this))}},{key:"headerTemplate",get:function(){return""}},{key:"itemTemplate",get:function(){return"settings/linked-account-template-item"}},{key:"tableClass",get:function(){return"table-bordered table-hover"}}],[{key:"cleanUp",value:function(){Adhara.dataInterface.remove(URLS.linked_accounts)}}]),LinkedAccountsListView}();function linkAccount(delivery_type,account_type,on_link_success,current_view){var linked_account_id=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,delivery_type_config=LinkedAccount.getConfigForType(delivery_type);linkAccount.cb=on_link_success,delivery_type_config.authentication_type===LinkedAccount.authTypes.OAUTH?window.open(Adhara.getView(ContainerView).data.meta.getIntegrationURL(delivery_type,account_type,linked_account_id),"","width="+screen.width/2+",height="+screen.height/2+",left="+screen.width/4+",top="+screen.height/4):Adhara.createView(Adhara.getView(delivery_type_config.delivery_account_view(),current_view),current_view)}function onIntegratorAuthenticated(integrator,accounts){linkAccount.cb(integrator,Array.isArray(accounts)?accounts:[accounts])}linkAccount.cb=null;var LinkedAccountHellosignMutationView=function(_AdharaDialogFormView2){function LinkedAccountHellosignMutationView(){return _classCallCheck(this,LinkedAccountHellosignMutationView),_possibleConstructorReturn(this,(LinkedAccountHellosignMutationView.__proto__||Object.getPrototypeOf(LinkedAccountHellosignMutationView)).apply(this,arguments))}return _inherits(LinkedAccountHellosignMutationView,AdharaDialogFormView),_createClass(LinkedAccountHellosignMutationView,[{key:"getURLPathParams",value:function(batch_identifier){if(this.isEdit)return{account_id:this.parentView.linkedAccount.id}}},{key:"formatData",value:function(data){return data.credentials={access_token:data.access_token},delete data.access_token,data}},{key:"onSuccess",value:function(data){this.hide(),Adhara.toast.success(Adhara.i18n.get("linked_accounts.create.success")),onIntegratorAuthenticated(this.parentView.type,data)}},{key:"titleTemplate",get:function(){return this.isEdit?Adhara.i18n.get("linked_accounts.update"):Adhara.i18n.get("linked_accounts.create")}},{key:"messageTemplate",get:function(){return"settings/new-hellosign-linked-account"}},{key:"method",get:function(){return this.isEdit?"put":"post"}},{key:"isEdit",get:function(){return!!this.parentView.linkedAccount}},{key:"action",get:function(){return this.isEdit?URLS.linked_account:URLS.linked_accounts}}]),LinkedAccountHellosignMutationView}(),LinkedAccountS3MutationView=function(_LinkedAccountHellosi){function LinkedAccountS3MutationView(){return _classCallCheck(this,LinkedAccountS3MutationView),_possibleConstructorReturn(this,(LinkedAccountS3MutationView.__proto__||Object.getPrototypeOf(LinkedAccountS3MutationView)).apply(this,arguments))}return _inherits(LinkedAccountS3MutationView,LinkedAccountHellosignMutationView),_createClass(LinkedAccountS3MutationView,[{key:"formatData",value:function(data){return data.credentials={aws_access_key_id:data.aws_access_key_id,aws_secret_access_key:data.aws_secret_access_key},delete data.aws_access_key_id,delete data.aws_secret_access_key,data.type="aws_s3",data}},{key:"messageTemplate",get:function(){return"settings/new-s3-linked-account"}}]),LinkedAccountS3MutationView}(),DeleteLinkedAccountView=function(_GenericDeleteAlertVi2){function DeleteLinkedAccountView(){return _classCallCheck(this,DeleteLinkedAccountView),_possibleConstructorReturn(this,(DeleteLinkedAccountView.__proto__||Object.getPrototypeOf(DeleteLinkedAccountView)).apply(this,arguments))}return _inherits(DeleteLinkedAccountView,GenericDeleteAlertView),_createClass(DeleteLinkedAccountView,[{key:"getURLPathParams",value:function(batch_identifier){return{account_id:this.linkedAccount.id}}},{key:"onDeleteSuccess",value:function(){var _ref41=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,_context8.next=3,LinkedAccountsListView.cleanUp();case 3:_context8.next=7;break;case 5:_context8.prev=5,_context8.t0=_context8.catch(0);case 7:Adhara.getView(LinkedAccountsListView).refresh();case 8:case"end":return _context8.stop()}},_callee8,this,[[0,5]])}));return function(){return _ref41.apply(this,arguments)}}()},{key:"message",get:function(){return Adhara.i18n.get("linked_accounts.del_message",[Adhara.i18n.get("delivery."+this.linkedAccount.type+".label"),this.linkedAccount.name])}},{key:"linkedAccount",get:function(){return this.parentView.linkedAccount}},{key:"entityName",get:function(){return"linked_accounts"}},{key:"entityConfigName",get:function(){return"linked_account"}},{key:"entryName",get:function(){return this.linkedAccount.name}},{key:"primaryAction",get:function(){return Adhara.i18n.get("linked_accounts.del")}},{key:"strictConsentText",get:function(){return"DELETE MY DELIVERIES"}}]),DeleteLinkedAccountView}(),SecuritySettingsView=function(_AdharaFormView2){function SecuritySettingsView(){return _classCallCheck(this,SecuritySettingsView),_possibleConstructorReturn(this,(SecuritySettingsView.__proto__||Object.getPrototypeOf(SecuritySettingsView)).apply(this,arguments))}return _inherits(SecuritySettingsView,AdharaFormView),_createClass(SecuritySettingsView,[{key:"validate",value:function(data){if(data.new_password!==data.confirm_new_password)throw new Error(Adhara.i18n.get("auth.password.error.no_match"));if(data.current_password===data.new_password)throw new Error(Adhara.i18n.get("auth.password.error.same_password"));SignupView.validatePasswordLength(data.new_password)}},{key:"onError",value:function(error){Adhara.toast.error(error||Adhara.i18n.get("update.password.failed"))}},{key:"onSuccess",value:function(data){Adhara.toast.success(Adhara.i18n.get("update.password.success"))}},{key:"template",get:function(){return"settings/security-tab"}},{key:"method",get:function(){return"put"}},{key:"action",get:function(){return URLS.update_password}}]),SecuritySettingsView}(),ProfileSettingsView=function(_AdharaFormView3){function ProfileSettingsView(){return _classCallCheck(this,ProfileSettingsView),_possibleConstructorReturn(this,(ProfileSettingsView.__proto__||Object.getPrototypeOf(ProfileSettingsView)).apply(this,arguments))}return _inherits(ProfileSettingsView,AdharaFormView),_createClass(ProfileSettingsView,[{key:"onSuccess",value:function(){var _ref42=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(data){return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,ProfileSettingsView.cleanUp();case 3:_context9.next=7;break;case 5:_context9.prev=5,_context9.t0=_context9.catch(0);case 7:Adhara.toast.success(Adhara.i18n.get("update.profile.success")),Adhara.lightReload();case 9:case"end":return _context9.stop()}},_callee9,this,[[0,5]])}));return function(_x8){return _ref42.apply(this,arguments)}}()},{key:"onError",value:function(){Adhara.toast.error(Adhara.i18n.get("update.profile.failed"))}},{key:"template",get:function(){return"settings/profile"}},{key:"user",get:function(){return this.parentView.parentView.data}},{key:"action",get:function(){return URLS.user_profile}},{key:"method",get:function(){return"put"}}],[{key:"cleanUp",value:function(){return Adhara.dataInterface.remove(URLS.user_profile)}}]),ProfileSettingsView}(),ReportsView=function(_AdharaView10){function ReportsView(){return _classCallCheck(this,ReportsView),_possibleConstructorReturn(this,(ReportsView.__proto__||Object.getPrototypeOf(ReportsView)).apply(this,arguments))}return _inherits(ReportsView,AdharaView),_createClass(ReportsView,[{key:"template",get:function(){return"reports/reports-home"}},{key:"contentContainer",get:function(){return{ReportsTabsView:".reports-container #reports-tabs-container",HelpView:".reports-container #reports-info-container"}}},{key:"subViews",get:function(){return[ReportsTabsView,HelpView]}},{key:"helpCard",get:function(){return{template:{overview:"reports/overview",history:"reports/history"}[Adhara.router.getPathParam("tab")]}}}]),ReportsView}(),ReportsTabsView=function(_DmioTabView2){function ReportsTabsView(){return _classCallCheck(this,ReportsTabsView),_possibleConstructorReturn(this,(ReportsTabsView.__proto__||Object.getPrototypeOf(ReportsTabsView)).apply(this,arguments))}return _inherits(ReportsTabsView,DmioTabView),_createClass(ReportsTabsView,[{key:"tabs",get:function(){return[{id:"history",link:"/reports/history",name:"History",view:ReportsHistoryView}]}}]),ReportsTabsView}(),ReportsOverviewView=function(_AdharaView11){function ReportsOverviewView(){return _classCallCheck(this,ReportsOverviewView),_possibleConstructorReturn(this,(ReportsOverviewView.__proto__||Object.getPrototypeOf(ReportsOverviewView)).apply(this,arguments))}return _inherits(ReportsOverviewView,AdharaView),_createClass(ReportsOverviewView,[{key:"format",value:function(){jQuery(".input-daterange input").each(function(){jQuery(this).datepicker({assumeNearbyYear:!0})})}},{key:"showReport",value:function(){new Date(jQuery("#report-start-date").datepicker("getDate")).getTime();var end_date=new Date(jQuery("#report-end-date").datepicker("getDate")).getTime();-1!==moment(end_date).calendar().indexOf("Today")&&(end_date=0)}},{key:"template",get:function(){return"reports/reports-overview"}},{key:"contentContainer",get:function(){return{MergeReportView:".reports-overview-container #merge-report",DeliveryReportView:".reports-overview-container #delivery-report",OutputFormatReportView:".reports-overview-container #output-format-report",MergesByDocumentReportView:".reports-overview-container #merges-by-document-report"}}},{key:"subViews",get:function(){return[MergeReportView,DeliveryReportView,OutputFormatReportView,MergesByDocumentReportView]}},{key:"defaultDateRange",get:function(){return{threeMonthsBack:moment().subtract(3,"months").format("MM/DD/YYYY"),now:moment().format("MM/DD/YYYY")}}}]),ReportsOverviewView}(),MergeReportView=function(_ChartView2){function MergeReportView(){return _classCallCheck(this,MergeReportView),_possibleConstructorReturn(this,(MergeReportView.__proto__||Object.getPrototypeOf(MergeReportView)).apply(this,arguments))}return _inherits(MergeReportView,ChartView),_createClass(MergeReportView,[{key:"formatDataOverTime",value:function(data){var formatted_ref={},formatted_data=[];function setFormattedData(moment_instance,path,set_value){var current_value=getValueFromJSON(formatted_ref,path);current_value&&(set_value+=current_value),setValueToJson(formatted_ref,path,set_value),formatted_data.push({x:path,y:set_value})}var previous__m_datum=null,_iteratorNormalCompletion41=!0,_didIteratorError41=!1,_iteratorError41=void 0;try{for(var _step41,_iterator41=data[Symbol.iterator]();!(_iteratorNormalCompletion41=(_step41=_iterator41.next()).done);_iteratorNormalCompletion41=!0){var datum=_step41.value,m_datum=moment(datum.x,"MM-DD-YYYY"),path=m_datum.format("YYYY.MM.DD");if(previous__m_datum&&previous__m_datum.format("YYYY.MM.DD")!==path){var path__next_of_prev_m=previous__m_datum.clone(),path__next_of_prev=path__next_of_prev_m.add(1,"days").format("YYYY.MM.DD");path__next_of_prev!==path&&setFormattedData(0,path__next_of_prev,0);var path__prev_of_current_m=m_datum.clone(),path__prev_of_current=path__prev_of_current_m.subtract(1,"days").format("YYYY.MM.DD");path__prev_of_current!==path__next_of_prev&&setFormattedData(0,path__prev_of_current,0)}setFormattedData(0,path,datum.y),previous__m_datum=m_datum}}catch(err){_didIteratorError41=!0,_iteratorError41=err}finally{try{!_iteratorNormalCompletion41&&_iterator41.return&&_iterator41.return()}finally{if(_didIteratorError41)throw _iteratorError41}}return formatted_data}},{key:"width",get:function(){return"700"}},{key:"height",get:function(){return"400"}},{key:"chartType",get:function(){return"line"}},{key:"chartData",get:function(){return{datasets:[{label:"Test Merges",xAxisID:"time",yAxisID:"merge-count",fill:!0,lineTension:0,data:this.formatDataOverTime([{x:"01-01-2018",y:10},{x:"02-01-2018",y:5},{x:"02-05-2018",y:15},{x:"03-04-2018",y:3},{x:"03-15-2018",y:19},{x:"04-05-2018",y:30},{x:"04-06-2018",y:32},{x:"04-07-2018",y:38},{x:"04-08-2018",y:22},{x:"04-09-2018",y:20},{x:"04-15-2018",y:30}]),pointBackgroundColor:"rgb(51, 122, 183, 1)",pointBorderColor:"rgb(51, 122, 183, 1)",pointRadius:3,pointHoverRadius:5,pointHitRadius:12,backgroundColor:["rgb(51, 122, 183, 0.2)"],borderColor:["rgb(51, 122, 183, 1)"]}]}}},{key:"chartOptions",get:function(){return{scales:{yAxes:[{id:"merge-count",type:"linear"}],xAxes:[{id:"time",type:"time",time:{tooltipFormat:"DD MMMM, YYYY"}}]}}}}]),MergeReportView}(),DeliveryReportView=function(_ChartView3){function DeliveryReportView(){return _classCallCheck(this,DeliveryReportView),_possibleConstructorReturn(this,(DeliveryReportView.__proto__||Object.getPrototypeOf(DeliveryReportView)).apply(this,arguments))}return _inherits(DeliveryReportView,ChartView),DeliveryReportView}(),OutputFormatReportView=function(_ChartView4){function OutputFormatReportView(){return _classCallCheck(this,OutputFormatReportView),_possibleConstructorReturn(this,(OutputFormatReportView.__proto__||Object.getPrototypeOf(OutputFormatReportView)).apply(this,arguments))}return _inherits(OutputFormatReportView,ChartView),OutputFormatReportView}(),MergesByDocumentReportView=function(_AdharaTemplateView3){function MergesByDocumentReportView(){return _classCallCheck(this,MergesByDocumentReportView),_possibleConstructorReturn(this,(MergesByDocumentReportView.__proto__||Object.getPrototypeOf(MergesByDocumentReportView)).apply(this,arguments))}return _inherits(MergesByDocumentReportView,AdharaTemplateView),MergesByDocumentReportView}(),ReportsHistoryView=function(_AdharaView12){function ReportsHistoryView(){return _classCallCheck(this,ReportsHistoryView),_possibleConstructorReturn(this,(ReportsHistoryView.__proto__||Object.getPrototypeOf(ReportsHistoryView)).apply(this,arguments))}return _inherits(ReportsHistoryView,AdharaView),_createClass(ReportsHistoryView,[{key:"template",get:function(){return"reports/reports-history"}},{key:"contentContainer",get:function(){return{ReportsHistoryListView:".reports-history-container #reports-history-list",ReportsHistoryFilterView:".reports-history-container #reports-history-filter-form"}}},{key:"subViews",get:function(){return[ReportsHistoryListView,ReportsHistoryFilterView]}}],[{key:"getFilterParams",value:function(){var doc_id=+Adhara.router.getQueryParam("doc_id")||0,doc_title=0===doc_id?Adhara.i18n.get("reports.all_documents"):Adhara.router.getQueryParam("doc_title");doc_title=Adhara.app.renderTemplate("{{this}}",doc_title);var status=Adhara.router.getQueryParam("status"),params={doc_id:doc_id,doc_title:doc_title,start_date:Adhara.router.getQueryParam("start_date")||window.moment().subtract(3,"months").format("MM/DD/YYYY"),end_date:Adhara.router.getQueryParam("end_date")||window.moment().format("MM/DD/YYYY")};return status&&(params.status=status),params}}]),ReportsHistoryView}(),ReportsHistoryFilterView=function(_AdharaFormView4){function ReportsHistoryFilterView(){return _classCallCheck(this,ReportsHistoryFilterView),_possibleConstructorReturn(this,(ReportsHistoryFilterView.__proto__||Object.getPrototypeOf(ReportsHistoryFilterView)).apply(this,arguments))}return _inherits(ReportsHistoryFilterView,AdharaFormView),_createClass(ReportsHistoryFilterView,[{key:"format",value:function(container){var _this133=this,self=this;jQuery(container).find("input.date-range").each(function(){jQuery(this).datepicker({assumeNearbyYear:!0}).on("changeDate",function(e){self.filterChanged()})}),jQuery(container).find(".doc-search").select2({ajax:{url:URLS.documents,delay:250,dataType:"json",data:function(params){return{search:params.term,filter:"all"}},processResults:function(response){var scoped_documents={},folders={0:Adhara.i18n.get("folders.home")},_iteratorNormalCompletion42=!0,_didIteratorError42=!1,_iteratorError42=void 0;try{for(var _step42,_iterator42=response.data[Symbol.iterator]();!(_iteratorNormalCompletion42=(_step42=_iterator42.next()).done);_iteratorNormalCompletion42=!0){var datum=_step42.value,folder_ref=datum.folder?datum.folder.id:0;datum.folder&&(folders[datum.folder.id]=datum.folder.name),scoped_documents[folder_ref]?scoped_documents[folder_ref].push(datum):scoped_documents[folder_ref]=[datum]}}catch(err){_didIteratorError42=!0,_iteratorError42=err}finally{try{!_iteratorNormalCompletion42&&_iterator42.return&&_iterator42.return()}finally{if(_didIteratorError42)throw _iteratorError42}}var filter_documents=[{id:0,title:Adhara.i18n.get("reports.all_documents")}];for(var scope in scoped_documents)scoped_documents.hasOwnProperty(scope)&&filter_documents.push({text:folders[scope],children:scoped_documents[scope]});return{results:filter_documents}}},escapeMarkup:function(markup){return markup},templateResult:function(entry){return entry.children?Adhara.app.renderTemplate("{{this}}",entry.text):entry.loading?entry.text:Adhara.app.renderTemplate("documents/inline-search-results",new Doc(entry))},templateSelection:function(document){return Adhara.app.renderTemplate("{{this}}",document.text||new Doc(document).title)}}).on("select2:select",function(e){_this133.selected_doc_title=e.currentTarget.selectedOptions[0].title,_this133.submit()})}},{key:"clearFilters",value:function(){this.updateReport({}),this.refresh()}},{key:"filterChanged",value:function(event,data){this.submit()}},{key:"handleSubmitButton",value:function(){}},{key:"control",value:function(method,entity_config,data){data.doc_title=this.selected_doc_title,this.updateReport(data)}},{key:"updateReport",value:function(data){Adhara.getView(ReportsHistoryListView).setPage(1),Adhara.router.updateQueryParams(data,!0,Adhara.router.RouteTypes.SET),Adhara.getView(ReportsHistoryListView).refresh()}},{key:"onInit",value:function(){var _this134=this;Adhara.getView(ReportsHistoryListView).onViewRendered(function(e){_this134.updateFormState(!1)})}},{key:"template",get:function(){return"reports/reports-history-filter-form"}},{key:"duplicateSubmissions",get:function(){return!0}},{key:"dateRange",get:function(){return{start_date:this.data.start_date||window.moment().subtract(3,"months").format("MM/DD/YYYY"),end_date:this.data.end_date||window.moment().format("MM/DD/YYYY")}}},{key:"data",get:function(){return ReportsHistoryView.getFilterParams()}}]),ReportsHistoryFilterView}(),ReportsHistoryListView=function(_AdharaTemplateView4){function ReportsHistoryListView(){return _classCallCheck(this,ReportsHistoryListView),_possibleConstructorReturn(this,(ReportsHistoryListView.__proto__||Object.getPrototypeOf(ReportsHistoryListView)).apply(this,arguments))}return _inherits(ReportsHistoryListView,AdharaTemplateView),_createClass(ReportsHistoryListView,[{key:"getURLPathParams",value:function(history_id){return{history_id:history_id}}},{key:"downloadURL",value:function(history_id){return this.formatURL(URLS.history_download,this.getURLPathParams(history_id))}},{key:"downloadMergedFile",value:function(event,data){document.querySelector("#test-download-frame").src=this.downloadURL(+data.id)}},{key:"viewData",value:function(event,data){event.stopPropagation(),this.current=this.data.filter(function(history){return history.id===+data.id})[0],Adhara.createView(Adhara.getView(HistoryDataView,this))}},{key:"headerTemplate",get:function(){return"reports/report-history-list-header"}},{key:"itemTemplate",get:function(){return"reports/report-history-list-item"}},{key:"tableClass",get:function(){return"table-bordered table-hover"}},{key:"isPaginationRequired",get:function(){return!0}},{key:"payload",get:function(){var filter=ReportsHistoryView.getFilterParams();return"all"===filter.status&&delete filter.status,0==+filter.doc_id&&delete filter.doc_id,delete filter.doc_title,filter.start_date=DmioBlob.getUTCMillis(filter.start_date,DmioBlob.DEFAULT_DATE_FORMAT),filter.end_date=DmioBlob.getUTCMillis(filter.end_date,DmioBlob.DEFAULT_DATE_FORMAT),filter}}]),ReportsHistoryListView}(),HistoryDataView=function(_AdharaDialogView2){function HistoryDataView(){return _classCallCheck(this,HistoryDataView),_possibleConstructorReturn(this,(HistoryDataView.__proto__||Object.getPrototypeOf(HistoryDataView)).apply(this,arguments))}return _inherits(HistoryDataView,AdharaDialogView),_createClass(HistoryDataView,[{key:"messageTemplate",get:function(){return"reports/history-data"}},{key:"titleTemplate",get:function(){return"Data"}},{key:"entityConfigName",get:function(){return"document"}},{key:"data",get:function(){return JSON.stringify(this.parentView.current.data,null,4)}}]),HistoryDataView}(),DeliveryTestView=function(_AdharaView13){function DeliveryTestView(){return _classCallCheck(this,DeliveryTestView),_possibleConstructorReturn(this,(DeliveryTestView.__proto__||Object.getPrototypeOf(DeliveryTestView)).apply(this,arguments))}return _inherits(DeliveryTestView,AdharaView),_createClass(DeliveryTestView,[{key:"template",get:function(){return"delivery/delivery-test"}}]),DeliveryTestView}(),DeliveryTypesListView=function(_AdharaCardView2){function DeliveryTypesListView(){return _classCallCheck(this,DeliveryTypesListView),_possibleConstructorReturn(this,(DeliveryTypesListView.__proto__||Object.getPrototypeOf(DeliveryTypesListView)).apply(this,arguments))}return _inherits(DeliveryTypesListView,AdharaCardView),_createClass(DeliveryTypesListView,[{key:"template",get:function(){return"delivery/delivery-types-list"}},{key:"title",get:function(){return Adhara.i18n.get("delivery.add.title")}},{key:"partialLink",get:function(){return"/templates/"+Adhara.router.getPathParam("doc_id")+"/deliver/add/"}},{key:"deliveryTypeConfigs",get:function(){return LinkedAccount.type_configs.filter(function(linked_account){return!1!==linked_account.can_deliver})}}]),DeliveryTypesListView}(),DeliveryMutationView=function(_PickableFieldsFormVi){function DeliveryMutationView(){return _classCallCheck(this,DeliveryMutationView),_possibleConstructorReturn(this,(DeliveryMutationView.__proto__||Object.getPrototypeOf(DeliveryMutationView)).apply(this,arguments))}return _inherits(DeliveryMutationView,PickableFieldsFormView),_createClass(DeliveryMutationView,[{key:"refreshRows",value:function(data,is_add){var _this140=this,_loop2=function(name,config){var list_data=[],children=_this140.getParentContainerElement().querySelector("#"+name).children;if(Array.from(children).forEach(function(row){var idx=row.id.split("-")[2],_data={},_iteratorNormalCompletion44=!0,_didIteratorError44=!1,_iteratorError44=void 0;try{for(var _step44,_iterator44=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion44=(_step44=_iterator44.next()).done);_iteratorNormalCompletion44=!0){var field=_step44.value;_data[field.name]=row.querySelector("[name="+name+"-"+field.name+"-"+idx+"]").value}}catch(err){_didIteratorError44=!0,_iteratorError44=err}finally{try{!_iteratorNormalCompletion44&&_iterator44.return&&_iterator44.return()}finally{if(_didIteratorError44)throw _iteratorError44}}list_data.push(_data)}),is_add&&name===data.type){var _data={},_iteratorNormalCompletion45=!0,_didIteratorError45=!1,_iteratorError45=void 0;try{for(var _step45,_iterator45=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion45=(_step45=_iterator45.next()).done);_iteratorNormalCompletion45=!0){_data[_step45.value.name]=""}}catch(err){_didIteratorError45=!0,_iteratorError45=err}finally{try{!_iteratorNormalCompletion45&&_iterator45.return&&_iterator45.return()}finally{if(_didIteratorError45)throw _iteratorError45}}list_data.push(_data)}_this140.data.delivery.setListData(name,list_data)},_iteratorNormalCompletion43=!0,_didIteratorError43=!1,_iteratorError43=void 0;try{for(var _step43,_iterator43=Object.entries(this.data.delivery.listDataTypes)[Symbol.iterator]();!(_iteratorNormalCompletion43=(_step43=_iterator43.next()).done);_iteratorNormalCompletion43=!0){var _ref43=_step43.value,_ref44=_slicedToArray(_ref43,2);_loop2(_ref44[0],_ref44[1])}}catch(err){_didIteratorError43=!0,_iteratorError43=err}finally{try{!_iteratorNormalCompletion43&&_iterator43.return&&_iterator43.return()}finally{if(_didIteratorError43)throw _iteratorError43}}var form_data=this.getFormData(),current_data=this.data.delivery.getSerializedDeliverySettings(form_data);current_data.name=form_data.name,this.data.delivery.updateCurrentData(current_data),this.render()}},{key:"addRow",value:function(e,data){this.refreshRows(data,!0)}},{key:"removeRow",value:function(e,data){var container_element=this.getParentContainerElement();container_element.querySelector("#"+data.type).children.length-1&&(container_element.querySelector("#row-"+data.type+"-"+data.idx).remove(),this.addRow(data,!1))}},{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.docId,delivery_id:this.deliveryId}}},{key:"updateDataStore",value:function(response){var delivery_config=Adhara.app.getEntityConfig("delivery").data_config.batch_data_override[0],_url=delivery_config.url,url=this.formatURL(_url,this.getURLPathParams()),reuse=delivery_config.reuse;Adhara.dataInterface.remember(url,response,reuse,_url)}},{key:"onSuccess",value:function(){var _ref45=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(data){return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return Toast.success(Adhara.i18n.get(this.isAdd?"delivery.operation.add.success":"delivery.operation.update.success")),_context10.prev=1,_context10.next=4,this.updateDataStore(data);case 4:_context10.next=9;break;case 6:_context10.prev=6,_context10.t0=_context10.catch(1),console.warn(_context10.t0);case 9:return _context10.prev=9,_context10.next=12,DocumentNavigationView.cleanUpDeliveries();case 12:_context10.next=17;break;case 14:_context10.prev=14,_context10.t1=_context10.catch(9),console.warn(_context10.t1);case 17:Adhara.getView(DocumentDetailsMergeFieldsView).hardRefresh(),Adhara.router.navigateTo("/templates/"+this.docId+"/deliver/"+data.id+"/edit?type="+this.type);case 19:case"end":return _context10.stop()}},_callee10,this,[[1,6],[9,14]])}));return function(_x9){return _ref45.apply(this,arguments)}}()},{key:"dataChange",value:function(new_data){var _ref46;this._data={delivery:new_data.delivery?new_data.delivery.getDeliveryBlob(new_data.accounts):new(DocumentDelivery.getDeliveryClass(this.type))((_ref46={},_defineProperty(_ref46,this.type,{}),_defineProperty(_ref46,"type",this.type),_defineProperty(_ref46,"accounts",new_data.accounts),_ref46)),schema:new_data.schema},this._error=null}},{key:"validate",value:function(data){if(this.type===LinkedAccount.types.DOCUSIGN&&data.custom_tags.trim())try{JSON.parse(data.custom_tags)}catch(e){throw new Error("Invalid JSON for Custom anchor tags\n"+e)}new Parser(Handlebars).extractSchemaFromObject(data)}},{key:"formatData",value:function(data){return this.data.delivery.serializeDeliveryFormJson(data,this.type)}},{key:"toggleOverflow",value:function(event){event.preventDefault(),AppUtils.overflowToggle(event)}},{key:"toggleMore",value:function(){document.querySelector(".more-options .form-group").classList.toggle("hide")}},{key:"openOAuthWindow",value:function(event,data){linkAccount(this.type,data.accounttype,onNewAccount,this)}},{key:"format",value:function(container){_get(DeliveryMutationView.prototype.__proto__||Object.getPrototypeOf(DeliveryMutationView.prototype),"format",this).call(this,container),this.accountChange()}},{key:"updateFolders",value:function(folders,selected_folder){document.querySelector("#delivery-fields select#folder").innerHTML=TemplateUtils.execute("delivery/google_drive-delivery",{folders:folders,selected_folder:selected_folder})}},{key:"accountChange",value:function(event,data){this.type===LinkedAccount.types.GOOGLE_DRIVE&&this.gDriveFolderChange(event,data,!0)}},{key:"gDriveFolderChange",value:function(event,data,reset){var _this141=this,parent_folder_element=document.querySelector(".delivery-form-content #folder"),parent_folder_id=!0===reset?"root":parent_folder_element.value,parent_folder_name=!0===reset?"Root":$(parent_folder_element).find(":selected").text(),account_id=document.querySelector(".delivery-form-content #account").value;!this.gdrive_first_render_complete&&this.data.delivery.folderId&&"root"!==this.data.delivery.folderId?this.updateFolders([{id:"root",name:"Root"},{id:this.data.delivery.folderId,name:this.data.delivery.folderName}],this.data.delivery.folderId):account_id&&$.ajax({url:URLS.google_drive_folders+"?delivery_account_id="+account_id+"&parent_folder="+(parent_folder_id||"root"),headers:Adhara.restAPI.getHeaders(""),success:function(response,status,xhr){var folders=response.data;"root"!==parent_folder_id&&folders.unshift({id:parent_folder_id,name:parent_folder_name}),folders.unshift({id:"root",name:"Root"}),_this141.updateFolders(folders,parent_folder_id)},error:function(){Adhara.toast.error("Failed to fetch folders")}}),this.gdrive_first_render_complete=!0}},{key:"template",get:function(){return"delivery/delivery-form"}},{key:"submitButton",get:function(){return this.formElement.querySelector('.delivery-form-footer [type="submit"]')}},{key:"contentContainer",get:function(){return{EmailContentView:"#email-content-editor",EmailStaticFileView:"#email-static-file"}}},{key:"subViews",get:function(){if("email"===this.type)return[EmailContentView,EmailStaticFileView]}},{key:"isInFreePlan",get:function(){return Adhara.getView(ContainerView).data.subscription.isFreePlan}},{key:"delivery",get:function(){return null}},{key:"docId",get:function(){return+Adhara.router.getPathParam("doc_id")}},{key:"deliveryId",get:function(){return+Adhara.router.getPathParam("delivery_id")}},{key:"isAdd",get:function(){return isNaN(this.deliveryId)}},{key:"isExternal",get:function(){return this.type!==LinkedAccount.types.EMAIL&&this.type!==LinkedAccount.types.WEBHOOK}},{key:"document",get:function(){return Adhara.getView(DeliveryMutationView).parentView.data.document}},{key:"entityConfig",get:function(){var entity_config=_get(DeliveryMutationView.prototype.__proto__||Object.getPrototypeOf(DeliveryMutationView.prototype),"entityConfig",this);return this.isAdd&&entity_config.data_config.batch_data_override.shift(),this.isExternal&&entity_config.data_config.batch_data_override.push({url:URLS.linked_accounts+"?type="+this.type,identifier:"accounts",blob:LinkedAccount,query_type:"get_list",reuse:{enable:!1}}),entity_config}},{key:"type",get:function(){return this.isAdd?Adhara.router.getPathParam("delivery_type"):Adhara.router.getQueryParam("type")}},{key:"method",get:function(){return this.isAdd?"post":"put"}},{key:"user",get:function(){return Adhara.getView(ContainerView).data.profile}},{key:"currentFromEmail",get:function(){return this.data.delivery.fromEmail||this.user.email}},{key:"action",get:function(){return this.isAdd?URLS.document_deliveries:URLS.document_delivery}},{key:"title",get:function(){return Adhara.i18n.get(this.isAdd?"delivery.add.form.title":"delivery.update.form.title",["delivery."+this.type+".label"])}},{key:"goBackURL",get:function(){return this.isAdd?"/templates/"+this.docId+"/deliver/add":"/templates/"+this.docId+"/deliver"}},{key:"handleFileUploads",get:function(){return!1}}]),DeliveryMutationView}();function onNewAccount(integrator,accounts){var _deliveryMutationView=Adhara.getView(DeliveryMutationView),_iteratorNormalCompletion46=!0,_didIteratorError46=!1,_iteratorError46=void 0;try{for(var _step46,_iterator46=accounts[Symbol.iterator]();!(_iteratorNormalCompletion46=(_step46=_iterator46.next()).done);_iteratorNormalCompletion46=!0){var account=_step46.value,linked_account=new LinkedAccount(account);_deliveryMutationView.data.delivery.addAccount(linked_account),_deliveryMutationView.data.delivery.account=linked_account}}catch(err){_didIteratorError46=!0,_iteratorError46=err}finally{try{!_iteratorNormalCompletion46&&_iterator46.return&&_iterator46.return()}finally{if(_didIteratorError46)throw _iteratorError46}}LinkedAccountsListView.cleanUp(),_deliveryMutationView.render()}var EmailContentView=function(_HTMLEditorView){function EmailContentView(){return _classCallCheck(this,EmailContentView),_possibleConstructorReturn(this,(EmailContentView.__proto__||Object.getPrototypeOf(EmailContentView)).apply(this,arguments))}return _inherits(EmailContentView,HTMLEditorView),_createClass(EmailContentView,[{key:"htmlContent",get:function(){return this.parentView.data?this.parentView.data.delivery.body:""}},{key:"toolbar",get:function(){return[{name:"document",items:["Source"]},{name:"clipboard",items:["Undo","Redo","-","Cut","Copy","Paste"]},{name:"insert",items:["Image","Table","HorizontalRule","SpecialChar"]},{name:"links",items:["Link","Unlink"]},{name:"colors",items:["TextColor","BGColor"]},"/",{name:"styles",items:["Format","Font","FontSize"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","CopyFormatting","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]}]}}]),EmailContentView}(),EmailStaticFileView=function(_FileWidget){function EmailStaticFileView(){return _classCallCheck(this,EmailStaticFileView),_possibleConstructorReturn(this,(EmailStaticFileView.__proto__||Object.getPrototypeOf(EmailStaticFileView)).apply(this,arguments))}return _inherits(EmailStaticFileView,FileWidget),_createClass(EmailStaticFileView,[{key:"onInit",value:function(){_get(EmailStaticFileView.prototype.__proto__||Object.getPrototypeOf(EmailStaticFileView.prototype),"onInit",this).call(this),this._files=this.parentView.data.delivery.attachments}},{key:"onUpdate",value:function(){this.parentView.data.delivery.attachments=this._files,this.parentView.submit(),this.render()}},{key:"onSuccess",value:function(data){this._files.push.apply(this._files,data),this.onUpdate()}},{key:"onDeleteSuccess",value:function(id){this._files=this._files.filter(function(_){return+_.id!=+id}),this.onUpdate()}},{key:"files",get:function(){return this._files.map(function(_){return{id:_.id,url:_.url,name:_.name,size:(_.size/1e6).toPrecision(2)+"MB"}})}},{key:"placeholder",get:function(){return"Attach static files"}},{key:"purpose",get:function(){return"email_attachments"}},{key:"query",get:function(){return JSON.stringify({delivery_id:this.parentView.deliveryId})}}]),EmailStaticFileView}(),DeleteDeliveryView=function(_GenericDeleteAlertVi3){function DeleteDeliveryView(){return _classCallCheck(this,DeleteDeliveryView),_possibleConstructorReturn(this,(DeleteDeliveryView.__proto__||Object.getPrototypeOf(DeleteDeliveryView)).apply(this,arguments))}return _inherits(DeleteDeliveryView,GenericDeleteAlertView),_createClass(DeleteDeliveryView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.docId,delivery_id:this.delivery.id}}},{key:"onDeleteSuccess",value:function(){var _ref47=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.prev=0,_context11.next=3,DocumentNavigationView.cleanUpDeliveries();case 3:_context11.next=7;break;case 5:_context11.prev=5,_context11.t0=_context11.catch(0);case 7:return _context11.next=9,Adhara.getView(DocumentDetailsMergeFieldsView).hardRefresh();case 9:this.delivery.id===+Adhara.router.getPathParam("delivery_id")?Adhara.router.navigateTo(this.parentView.baseURL+this.parentView.lhsItems[0].tabs[0].link):Adhara.getView(DocumentDetailsHomeView).refresh();case 10:case"end":return _context11.stop()}},_callee11,this,[[0,5]])}));return function(){return _ref47.apply(this,arguments)}}()},{key:"delivery",get:function(){return this.parentView.delivery_in_action}},{key:"entityName",get:function(){return"delivery"}},{key:"entityConfigName",get:function(){return"delivery_unique"}},{key:"messageTemplate",get:function(){return"documents/delivery-delete-alert"}},{key:"entryName",get:function(){return this.delivery.name}}]),DeleteDeliveryView}(),DocumentNavigationView=function(_AdharaView14){function DocumentNavigationView(){return _classCallCheck(this,DocumentNavigationView),_possibleConstructorReturn(this,(DocumentNavigationView.__proto__||Object.getPrototypeOf(DocumentNavigationView)).apply(this,arguments))}return _inherits(DocumentNavigationView,AdharaView),_createClass(DocumentNavigationView,[{key:"isSelected",value:function(link){var _this146=this;return link instanceof Array?link.map(function(li){return Adhara.router.getCurrentURL()===_this146.baseURL+li?"active":""}).filter(function(selected_class){return!!selected_class})[0]:Adhara.router.getCurrentURL()===this.baseURL+link?"active":""}},{key:"deleteDelivery",value:function(event,data){this.delivery_in_action=this.deliveries.filter(function(delivery){return delivery.id===+data.id})[0],Adhara.createView(Adhara.getView(DeleteDeliveryView,this))}},{key:"template",get:function(){return"document_details/document-navigation"}},{key:"data",get:function(){return this.parentView.data.document}},{key:"docId",get:function(){return this.parentView.docId}},{key:"baseURL",get:function(){return"/templates/"+this.docId+"/"}},{key:"deliveries",get:function(){return this.parentView.data.deliveries}},{key:"lhsItems",get:function(){var content_tab_id=this.data.contentTabId,items=[{brief:"documents.details.label",graphic_class:this.data.type,tabs:[{link:this.data.contentTabId,name:"documents.details.tabs."+content_tab_id,title:"editor"===content_tab_id?"Edit document":"View/Update uploaded document",icon:"editor"===content_tab_id?"fa-pencil-alt":"fa-file",selected:this.isSelected(this.data.contentTabId)},{link:"preferences",name:"documents.details.tabs.preferences",title:"Preferences: Configure the document settings and output file behavior",icon:"fa-cog",selected:this.isSelected("preferences")},{link:"test",name:"documents.details.tabs.test",title:"Test your document for output",icon:"fa-flask",selected:this.isSelected("test")},{link:"generate/manual",name:"documents.details.tabs.merge",title:"Create Documents by integrating with other apps or by using data-capture form",icon:"fa-bolt",selected:this.isSelected(["generate/manual","generate/integrations","generate/zapier"])}]}],_iteratorNormalCompletion47=!0,_didIteratorError47=!1,_iteratorError47=void 0;try{for(var _step47,_iterator47=this.deliveries[Symbol.iterator]();!(_iteratorNormalCompletion47=(_step47=_iterator47.next()).done);_iteratorNormalCompletion47=!0){var delivery=_step47.value;items.push({name:delivery.name,brief:"documents.details.lhs.brief.delivery",graphic_class:delivery.type,tabs:[{link:"deliver/"+delivery.id+"/edit?type="+delivery.type,name:"documents.details.tabs.configure",icon:"fa-cog",selected:this.isSelected("deliver/"+delivery.id+"/edit")},{name:"documents.details.tabs.delete",icon:"fa-trash",attributes:{"data-onclick":"deleteDelivery","data-id":delivery.id}}]})}}catch(err){_didIteratorError47=!0,_iteratorError47=err}finally{try{!_iteratorNormalCompletion47&&_iterator47.return&&_iterator47.return()}finally{if(_didIteratorError47)throw _iteratorError47}}return items}}],[{key:"cleanUpDeliveries",value:function(){var documentNavigationView=Adhara.getView(DocumentNavigationView),remove_docs_list=Adhara.dataInterface.remove(documentNavigationView.formatURL(URLS.document_deliveries,documentNavigationView.parentView.parentView.getURLPathParams("deliveries"))),remove_each_delivery=Adhara.dataInterface.db_table.removeMultiple(function(key,response){return response._.url===URLS.document_delivery});return Promise.all([remove_docs_list,remove_each_delivery])}}]),DocumentNavigationView}(),DocumentDetailsSummaryView=function(_AdharaView15){function DocumentDetailsSummaryView(){return _classCallCheck(this,DocumentDetailsSummaryView),_possibleConstructorReturn(this,(DocumentDetailsSummaryView.__proto__||Object.getPrototypeOf(DocumentDetailsSummaryView)).apply(this,arguments))}return _inherits(DocumentDetailsSummaryView,AdharaView),_createClass(DocumentDetailsSummaryView,[{key:"onCheckboxChanged",value:function(event,data){"status-slider"===data.id&&this.updateStatus(event.target.checked?"active":"test")}},{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.data.document.id}}},{key:"updateStatus",value:function(document_status){this.cleanUp(),Adhara.restAPI.put({url:this.formatURL(URLS.document,this.getURLPathParams()),data:JSON.stringify({document_status:document_status}),success:function(){Adhara.getView(DocumentDetailsHomeView).refresh()}})}},{key:"cleanUp",value:function(){return Adhara.dataInterface.remove(this.formatURL(URLS.document,this.getURLPathParams()))}},{key:"template",get:function(){return"document_details/rhs-summary"}},{key:"data",get:function(){return this.parentView.parentView.data}}]),DocumentDetailsSummaryView}(),DocumentDetailsMergeFieldsView=function(_AdharaView16){function DocumentDetailsMergeFieldsView(){return _classCallCheck(this,DocumentDetailsMergeFieldsView),_possibleConstructorReturn(this,(DocumentDetailsMergeFieldsView.__proto__||Object.getPrototypeOf(DocumentDetailsMergeFieldsView)).apply(this,arguments))}return _inherits(DocumentDetailsMergeFieldsView,AdharaView),_createClass(DocumentDetailsMergeFieldsView,[{key:"insertField",value:function(e,data){Adhara.getView(DocumentEditorView).insertHtmlAtCaret("{{"+data.fieldname+"}}")}},{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.parentView.docId}}},{key:"hardRefresh",value:function(){var _ref48=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(){return regeneratorRuntime.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.prev=0,_context12.next=3,this.cleanUp();case 3:_context12.next=8;break;case 5:_context12.prev=5,_context12.t0=_context12.catch(0),console.warn(_context12.t0);case 8:this.refresh();case 9:case"end":return _context12.stop()}},_callee12,this,[[0,5]])}));return function(){return _ref48.apply(this,arguments)}}()},{key:"cleanUp",value:function(){return Adhara.dataInterface.remove(this.formatURL(URLS.document_schema,this.getURLPathParams()))}},{key:"template",get:function(){return"document_details/merge-fields"}},{key:"label",get:function(){return"documents.details.rhs.merge_fields.label"}},{key:"errorTemplate",get:function(){return this.template}},{key:"isQuickInsertEnabled",get:function(){return"editor"===AdharaRouter.getPathParam("tab")}}]),DocumentDetailsMergeFieldsView}(),DocumentDetailsReservedTokensView=function(_DocumentDetailsMerge){function DocumentDetailsReservedTokensView(){return _classCallCheck(this,DocumentDetailsReservedTokensView),_possibleConstructorReturn(this,(DocumentDetailsReservedTokensView.__proto__||Object.getPrototypeOf(DocumentDetailsReservedTokensView)).apply(this,arguments))}return _inherits(DocumentDetailsReservedTokensView,DocumentDetailsMergeFieldsView),_createClass(DocumentDetailsReservedTokensView,[{key:"label",get:function(){return"documents.details.rhs.reserved_tokens"}},{key:"data",get:function(){var document_details=Adhara.getView(DocumentDetailsHomeView).data.document._data;return{schema:DocumentSchema.reservedTokens.map(function(token){var token_schema={name:token,type:"string"};return"_auto_number"!==token||document_details.auto_number||(token_schema.disabled=!0,token_schema.tooltip="enable auto_number in Preferences > More Options"),token_schema})}}}]),DocumentDetailsReservedTokensView}(),DocumentDetailsRHSView=function(_AdharaView17){function DocumentDetailsRHSView(){return _classCallCheck(this,DocumentDetailsRHSView),_possibleConstructorReturn(this,(DocumentDetailsRHSView.__proto__||Object.getPrototypeOf(DocumentDetailsRHSView)).apply(this,arguments))}return _inherits(DocumentDetailsRHSView,AdharaView),_createClass(DocumentDetailsRHSView,[{key:"template",get:function(){return"document_details/rhs"}},{key:"contentContainer",get:function(){return{DocumentDetailsSummaryView:".doc-details-rhs-wrapper #doc-summary",DocumentDetailsMergeFieldsView:".doc-details-rhs-wrapper #merge-fields",DocumentDetailsReservedTokensView:".doc-details-rhs-wrapper #reserved-tokens",HelpView:".doc-details-rhs-wrapper #rhs-help"}}},{key:"subViews",get:function(){return[DocumentDetailsSummaryView,DocumentDetailsMergeFieldsView,DocumentDetailsReservedTokensView,HelpView]}},{key:"helpCard",get:function(){var current_tab=Adhara.router.getPathParam("tab"),template={editor:"document/editor",preferences:"document/preferences",generate:"document/generate",test:"document/test",deliver:"document/deliver"}[current_tab];return"deliver"===current_tab&&Adhara.router.getPathParam("is_mutate")&&(Adhara.router.getPathParam("delivery_type")||Adhara.router.getPathParam("delivery_tab"))&&(template="document/configure_delivery"),{template:template,title:{editor:"How to insert a template token?"}[current_tab]}}}]),DocumentDetailsRHSView}(),DocumentDetailsHomeView=function(_AdharaView18){function DocumentDetailsHomeView(){return _classCallCheck(this,DocumentDetailsHomeView),_possibleConstructorReturn(this,(DocumentDetailsHomeView.__proto__||Object.getPrototypeOf(DocumentDetailsHomeView)).apply(this,arguments))}return _inherits(DocumentDetailsHomeView,AdharaView),_createClass(DocumentDetailsHomeView,[{key:"getURLPathParams",value:function(batch_identifier){var doc={document_id:this.docId};return{document:doc,deliveries:doc}[batch_identifier]}},{key:"dataChange",value:function(new_data){var doc_folder_id=new_data.document.folder.id;new_data.folders.unshift(Folder.create(Folder.types.HOME)),new_data.document.folder=new_data.folders.filter(function(folder){return folder.id===doc_folder_id})[0],this._data=new_data,this._error=null}},{key:"template",get:function(){return"document_details/document-details-home"}},{key:"docId",get:function(){return this._doc_id||(this._doc_id=Adhara.router.getPathParam("doc_id")),this._doc_id}},{key:"contentContainer",get:function(){return{DocumentDetailsView:".document-details-wrapper #document-details",DocumentDetailsRHSView:".document-details-wrapper #document-rhs"}}},{key:"subViews",get:function(){return[DocumentDetailsView,DocumentDetailsRHSView]}}]),DocumentDetailsHomeView}(),DocumentDetailsView=function(_AdharaView19){function DocumentDetailsView(){return _classCallCheck(this,DocumentDetailsView),_possibleConstructorReturn(this,(DocumentDetailsView.__proto__||Object.getPrototypeOf(DocumentDetailsView)).apply(this,arguments))}return _inherits(DocumentDetailsView,AdharaView),_createClass(DocumentDetailsView,[{key:"template",get:function(){return"document_details/document-details"}},{key:"contentContainer",get:function(){return{DocumentNavigationView:".document-details #details-navigation","*":".document-details #details-content"}}},{key:"data",get:function(){return this.parentView.data}},{key:"docId",get:function(){return this.parentView.docId}},{key:"subViews",get:function(){var deliverView=null;deliverView="add"===Adhara.router.getPathParam("delivery_id")?Adhara.router.getPathParam("delivery_type")?DeliveryMutationView:DeliveryTypesListView:{edit:DeliveryMutationView,test:DeliveryTestView}[Adhara.router.getPathParam("delivery_tab")];var content_view={editor:DocumentEditorView,content:DocumentFileView,preferences:DocumentPreferencesView,test:DocumentTestView,generate:DocumentMergeInfoView,deliver:deliverView}[Adhara.router.getPathParam("tab")];return[DocumentNavigationView,content_view]}}]),DocumentDetailsView}(),InsertMergeFieldView=function(_AdharaDialogFormView3){function InsertMergeFieldView(){return _classCallCheck(this,InsertMergeFieldView),_possibleConstructorReturn(this,(InsertMergeFieldView.__proto__||Object.getPrototypeOf(InsertMergeFieldView)).apply(this,arguments))}return _inherits(InsertMergeFieldView,AdharaDialogFormView),_createClass(InsertMergeFieldView,[{key:"onInit",value:function(){this.current_type="variable",this.sub_type=null,_get(InsertMergeFieldView.prototype.__proto__||Object.getPrototypeOf(InsertMergeFieldView.prototype),"onInit",this).call(this)}},{key:"create",value:function(parentViewInstance){this.current_type="variable",_get(InsertMergeFieldView.prototype.__proto__||Object.getPrototypeOf(InsertMergeFieldView.prototype),"create",this).call(this,parentViewInstance)}},{key:"fieldTypeChange",value:function(e,data){this.current_type=data.type,this.sub_type=data.sub_type;var template_name={condition:"insert-condition",variable:"insert-variable",loop:"insert-loop",table:"insert-table"}[data.type];this.getParentContainerElement().querySelector("#fields-form").innerHTML=Adhara.app.renderTemplate("document_details/merge_fields/insert-demo",this)+'<div class="col-md-12">'+Adhara.app.renderTemplate("document_details/merge_fields/"+template_name,this)+"</div>",this._format(this.getParentContainerElement())}},{key:"loopTypeChange",value:function(e,data){this.fieldTypeChange(e,{type:"loop",sub_type:e.target.value})}},{key:"formatData",value:function(data){return data.name=AppUtils.makeToken(data.name||"Field 1"),"variable"===data.type?"{{"+data.name+"}}":"condition"===data.type?data.conditional&&data.value?(isNaN(data.value)&&(data.value='"'+data.value+'"'),"{{#if "+data.name+' "'+data.conditional+'" '+data.value+"}}...{{else}}...{{/if}}"):"{{#if "+data.name+"}}...{{else}}...{{/if}}":"loop"===data.type?"simple"!==data.loopType?"<"+data.loopType+"><li>{{#list "+data.name+"}}{{this}}{{/list}}</li></"+data.loopType+">":"{{#each "+data.name+"}}{{this}} {{/each}}":"table"===data.type?(data.cols=data.cols||"Column 1, Column 2, Column 3",data.cols=data.cols.split(",").map(function(col){return{col:col,field:AppUtils.makeToken(col.trim())}}),Adhara.app.renderTemplate("document_details/merge_fields/default-table-template",data)):void 0}},{key:"control",value:function(method,formEntityConfig,content){this.parentView.insertHtmlAtCaret(content,!0),this.updateFormState(!1),this.hide()}},{key:"titleTemplate",get:function(){return"Insert Merge Field"}},{key:"messageTemplate",get:function(){return"document_details/merge_fields/insert-form"}},{key:"fieldTypes",get:function(){return["variable","condition","loop","table"]}},{key:"conditionalFieldTypes",get:function(){return["boolean","expression"]}},{key:"conditionals",get:function(){return["==","!=",">",">=","<","<="]}},{key:"currentType",get:function(){return this.current_type||"variable"}},{key:"subType",get:function(){return this.sub_type||{condition:"boolean",loop:"simple"}[this.current_type]}},{key:"help",get:function(){var _help={condition:{boolean:{variable:"is_new_prospect",insert:"{{#if is_new_prospect}}<br/>Unhappy with current Service?<br/>{{else}}<br/>Welcome on board...<br/>{{/if}}",output:'<small class="text-muted">if is_new_prospect is true</small><br />Unhappy with current Service?<br /><small class="text-muted">if is_new_prospect is false</small><br />Welcome on board...'},expression:{variable:"subscription_plan",insert:'{{#if subscription_plan == "enterprise"}}<br/>Thank you for choosing our enterprise plan.<br/>{{else}}<br/>Thank you fos using our services.<br/>{{/if}}',output:'<small class="text-muted">if subscription_plan is "enterprise"</small><br />Thank you for choosing our enterprise plan.<br /><small class="text-muted">else</small><br />Thank you fos using our services.'}},variable:{variable:"name",insert:"{{name}}",output:"Jane"},loop:{simple:{variable:"items",insert:"{{#loop items}}{{this}} {{/loop}}",output:"Laptop Mouse Keyboard"},ul:{variable:"items",insert:"{{#list items}}{{this}} {{/loop}}",output:"<ul><li>Laptop</li><li>Mouse</li><li>Keyboard</li></ul>"},ol:{variable:"items",insert:"{{#list items}}{{this}} {{/loop}}",output:"<ol><li>Laptop</li><li>Mouse</li><li>Keyboard</li></ol>"}},table:{variable:"line_items<br />col1, col2, col3",insert:"Table with line items looping the row and columns col1, col2 and col3",output:"Table with merged line items where columns will be having data for col1, col2 and col3"}}[this.current_type];return null!=this.subType?_help[this.subType]:_help}},{key:"primaryActionTitle",get:function(){return"Insert"}}]),InsertMergeFieldView}(),DocumentEditorView=function(_HTMLEditorView2){function DocumentEditorView(){return _classCallCheck(this,DocumentEditorView),_possibleConstructorReturn(this,(DocumentEditorView.__proto__||Object.getPrototypeOf(DocumentEditorView)).apply(this,arguments))}return _inherits(DocumentEditorView,HTMLEditorView),_createClass(DocumentEditorView,[{key:"onInit",value:function(){this.savable=!1,this.documentModified=this.documentModified.bind(this),this.refreshMergeFields=this.refreshMergeFields.bind(this),this.saveDocument=this.saveDocument.bind(this),this.insertMergeField=this.insertMergeField.bind(this),this.downloadContent=this.downloadContent.bind(this),this.ticker=new AdharaTicker(3e4),this.ticker.start(this.saveDocument),_get(DocumentEditorView.prototype.__proto__||Object.getPrototypeOf(DocumentEditorView.prototype),"onInit",this).call(this)}},{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.docId}}},{key:"extractSchema",value:function(){var code=this.getContent();return new Parser(Handlebars).getSchema(code)}},{key:"getContentAsElement",value:function(){return this.getParentContainerElement().querySelector('[contenteditable="true"]')}},{key:"documentModified",value:function(e){this.savable=!0,this.refreshMergeFields()}},{key:"refreshMergeFields",value:function(){try{var rhs_document=Adhara.getView(DocumentDetailsMergeFieldsView).data;rhs_document.schema=this.extractSchema(),Adhara.getView(DocumentDetailsMergeFieldsView).handleDataChange(rhs_document)}catch(e){if(!(e instanceof ParserError||e.error_code))throw e;Adhara.getView(DocumentDetailsMergeFieldsView).handleDataError(e.message)}}},{key:"format",value:function(container){_get(DocumentEditorView.prototype.__proto__||Object.getPrototypeOf(DocumentEditorView.prototype),"format",this).call(this,container),this.editor&&(this.editor.addCommand("save-doc",{exec:this.saveDocument}),this.editor.addCommand("insert-token",{exec:this.insertMergeField}),this.editor.addCommand("download",{exec:this.downloadContent}),this.editor.ui.addButton("SaveButton",{label:Adhara.i18n.get("documents.content.save",[""]),command:"save-doc",toolbar:"doc-group",icon:"_ editor-save _"}),this.editor.ui.addButton("InsertToken",{label:Adhara.i18n.get("documents.content.insert_field",["(ctrl+m/cmd+m)"]),command:"insert-token",toolbar:"doc-group",icon:"_ focus-bitch insert-token-icon _"}),this.editor.ui.addButton("Download",{label:Adhara.i18n.get("documents.content.download"),command:"download",toolbar:"doc-group",icon:"_ download-html-icon fa-download _"}),this.editor.on("change",this.documentModified),this.editor.setKeystroke(window.CKEDITOR.CTRL+83,"save-doc"),this.editor.setKeystroke(window.CKEDITOR.CTRL+77,"insert-token"))}},{key:"onDestroy",value:function(){this.ticker.stop()}},{key:"insertMergeField",value:function(e){Adhara.createView(Adhara.getView(InsertMergeFieldView,this),this)}},{key:"downloadContent",value:function(e){var code=this.getContent(),element=document.createElement("a");element.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(code)),element.setAttribute("download",this.parentView.data.document.title+".html"),element.style.display="none",document.body.appendChild(element),element.click(),document.body.removeChild(element)}},{key:"saveDocument",value:function(e,onSaved){var _this155=this;if(e&&e.preventDefault&&e.preventDefault(),this.savable){this.savable=!1;var entity_config=Adhara.app.getEntityConfig("document_content");entity_config.processor={success:function(){var _ref49=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(){return regeneratorRuntime.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:Adhara.toast.success(Adhara.i18n.get("documents.content.updated")),"function"==typeof onSaved?onSaved():(_this155.cleanUp(),Adhara.getView(DocumentDetailsMergeFieldsView).hardRefresh(),_this155.ticker.next());case 2:case"end":return _context13.stop()}},_callee13,_this155)}));return function(){return _ref49.apply(this,arguments)}}(),error:function(){_this155.savable=!0}},this.postData(this.formatEntityConfig(entity_config),{content:this.getContent()})}}},{key:"cleanUp",value:function(){return Adhara.dataInterface.remove(this.formatURL(URLS.document_content,this.getURLPathParams()))}},{key:"containerClass",get:function(){return"doc-editor-container"}},{key:"htmlContent",get:function(){return this.data.content}},{key:"editorConfig",get:function(){return{height:800,contentsCss:[window.base_url+"plugins/ckeditor/ckeditor.css"]}}},{key:"toolbar",get:function(){var default_toolbar=_get(DocumentEditorView.prototype.__proto__||Object.getPrototypeOf(DocumentEditorView.prototype),"toolbar",this).slice();return default_toolbar.unshift({name:"document",items:["SaveButton","InsertToken","-","Source","-","Download"]}),default_toolbar}}]),DocumentEditorView}(),DocumentFileView=function(_AdharaFormView5){function DocumentFileView(){return _classCallCheck(this,DocumentFileView),_possibleConstructorReturn(this,(DocumentFileView.__proto__||Object.getPrototypeOf(DocumentFileView)).apply(this,arguments))}return _inherits(DocumentFileView,AdharaFormView),_createClass(DocumentFileView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.docId}}},{key:"dataChange",value:function(new_data){var _this157=this;this._data=Object.assign(new_data,{delivery:{accounts:new_data.linked_accounts.filter(function(_){return _.type===_this157.type})}})}},{key:"openOAuthWindow",value:function(event,data){linkAccount(this.type,data.accounttype,onNewAccount,this)}},{key:"format",value:function(container){var _this158=this;if(_get(DocumentFileView.prototype.__proto__||Object.getPrototypeOf(DocumentFileView.prototype),"format",this).call(this,container),this.timerID&&clearInterval(this.timerID),jQuery('[data-toggle="tooltip"]').tooltip(),this.data.document_content.fileInfo){var setIframeURL=function(){_this158.isActive()&&(document.getElementById("preview-frame").src=_this158.data.document_content.fileInfo.previewURL)};container.querySelector("#preview-frame").addEventListener("load",function(){clearInterval(_this158.timerID),container.querySelector("#preview-loading").classList.add("hide")}),setIframeURL(),this.timerID=setTimeout(function(){setIframeURL()},5e3)}}},{key:"onSuccess",value:function(){var _ref50=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(data){return regeneratorRuntime.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return Adhara.toast.success(data),_context14.prev=1,_context14.next=4,this.cleanUp();case 4:_context14.next=8;break;case 6:_context14.prev=6,_context14.t0=_context14.catch(1);case 8:Adhara.getView(DocumentFileView).parentView.parentView.refresh();case 9:case"end":return _context14.stop()}},_callee14,this,[[1,6]])}));return function(_x10){return _ref50.apply(this,arguments)}}()},{key:"onError",value:function(error){var errorDiv=this.getParentContainerElement().querySelector("#template-upload-error");errorDiv.innerText=error,errorDiv.classList.remove("hide"),this.getParentContainerElement().querySelector("#template-upload-error-support").classList.remove("hide")}},{key:"cleanUp",value:function(){var _ref51=_asyncToGenerator(regeneratorRuntime.mark(function _callee15(){return regeneratorRuntime.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,Adhara.dataInterface.remove(this.formatURL(URLS.document_schema,this.getURLPathParams()));case 2:return _context15.next=4,Adhara.dataInterface.remove(this.formatURL(URLS.document_content,this.getURLPathParams()));case 4:return _context15.next=6,Adhara.dataInterface.remove(this.formatURL(URLS.document,this.getURLPathParams()));case 6:case"end":return _context15.stop()}},_callee15,this)}));return function(){return _ref51.apply(this,arguments)}}()},{key:"openFileUpload",value:function(e,data){Adhara.createView(Adhara.getView(FileUploadView,this))}},{key:"updateDocument",value:function(){var _ref52=_asyncToGenerator(regeneratorRuntime.mark(function _callee16(e,data){return regeneratorRuntime.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,this.cleanUp();case 2:Adhara.restAPI.post({url:this.formatURL(URLS.document_content,this.getURLPathParams()),data:JSON.stringify({linked_account:this.data.document_content.fileInfo.linkedAccountId,google_document_id:this.data.document_content.fileInfo.filePath}),success:function(){Adhara.getView(DocumentFileView).refresh(),Adhara.getView(DocumentDetailsMergeFieldsView).refresh()}});case 3:case"end":return _context16.stop()}},_callee16,this)}));return function(_x11,_x12){return _ref52.apply(this,arguments)}}()},{key:"template",get:function(){return"document_details/document-file"}},{key:"fileContentType",get:function(){return{fillable_pdf:"application/pdf",pdf:"application/pdf",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",jpeg:"image/jpeg",png:"image/png",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}[this.document.type]}},{key:"action",get:function(){return URLS.document_content}},{key:"method",get:function(){return"post"}},{key:"document",get:function(){return this.parentView.data.document}},{key:"type",get:function(){if(this.isGoogleDocument)return LinkedAccount.types.GOOGLE_DRIVE}},{key:"isGoogleDocument",get:function(){return Doc.types.isGoogleDocType(this.document.type)}}]),DocumentFileView}(),FileUploadView=function(_AdharaDialogFormView4){function FileUploadView(){return _classCallCheck(this,FileUploadView),_possibleConstructorReturn(this,(FileUploadView.__proto__||Object.getPrototypeOf(FileUploadView)).apply(this,arguments))}return _inherits(FileUploadView,AdharaDialogFormView),_createClass(FileUploadView,[{key:"dataChange",value:function(new_data){var _this160=this;this._data={delivery:{accounts:new_data.filter(function(_){return _.type===_this160.type})}}}},{key:"getURLPathParams",value:function(batch_identifier){return Adhara.getView(DocumentFileView).getURLPathParams(batch_identifier)}},{key:"onSuccess",value:function(){var _ref53=_asyncToGenerator(regeneratorRuntime.mark(function _callee17(data){return regeneratorRuntime.wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return this.hide(),Adhara.toast.success(Adhara.i18n.get("common.uploaded")),Adhara.getView(DocumentFileView).cleanUp(),_context17.prev=3,_context17.next=6,ApiSettingsView.cleanUp();case 6:_context17.next=10;break;case 8:_context17.prev=8,_context17.t0=_context17.catch(3);case 10:Adhara.lightReload();case 11:case"end":return _context17.stop()}},_callee17,this,[[3,8]])}));return function(_x13){return _ref53.apply(this,arguments)}}()},{key:"onError",value:function(error){var errorDiv=this.getParentContainerElement().querySelector("#template-upload-error");errorDiv.innerText=error,errorDiv.classList.remove("hide"),this.getParentContainerElement().querySelector("#template-upload-error-support").classList.remove("hide")}},{key:"titleTemplate",get:function(){return"Update document"}},{key:"messageTemplate",get:function(){return"document_details/document-file-upload"}},{key:"primaryActionTitle",get:function(){return Adhara.i18n.get("common.upload")}},{key:"action",get:function(){return Adhara.getView(DocumentFileView).action}},{key:"type",get:function(){return Adhara.getView(DocumentFileView).type}},{key:"isGoogleDocument",get:function(){return Adhara.getView(DocumentFileView).isGoogleDocument}},{key:"fileContentType",get:function(){return Adhara.getView(DocumentFileView).fileContentType}}]),FileUploadView}(),DocumentPreferencesView=function(_PickableFieldsFormVi2){function DocumentPreferencesView(){return _classCallCheck(this,DocumentPreferencesView),_possibleConstructorReturn(this,(DocumentPreferencesView.__proto__||Object.getPrototypeOf(DocumentPreferencesView)).apply(this,arguments))}return _inherits(DocumentPreferencesView,PickableFieldsFormView),_createClass(DocumentPreferencesView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.docId}}},{key:"onSuccess",value:function(data){Adhara.dataInterface.remove(this.formatURL(URLS.document,this.parentView.parentView.getURLPathParams("document"))).then(function(){Adhara.toast.success("Preferences updated successfully"),Adhara.getView(DocumentDetailsMergeFieldsView).cleanUp(),Adhara.lightReload()})}},{key:"validate",value:function(data){if(new Parser(Handlebars).extractSchemaFromObject(data),(data=this.document.serializePreferencesFormJson(Object.assign({},data))).dynamic_images){var page_width=this.document.pageWidth,page_height=this.document.pageHeight,overflow=0,_iteratorNormalCompletion48=!0,_didIteratorError48=!1,_iteratorError48=void 0;try{for(var _step48,_iterator48=data.dynamic_images[Symbol.iterator]();!(_iteratorNormalCompletion48=(_step48=_iterator48.next()).done);_iteratorNormalCompletion48=!0){var image=_step48.value;if(!image.token)throw new Error("One of the tokens for dynamic images is missing");if(!image.page)throw new Error('"page" is missing for "'+image.token+'"');if(!image.left||!image.top)throw new Error('"left/top" is missing for "'+image.token+'"');if(image.width&&(overflow=+image.width+ +image.left-page_width)>0)throw new Error('"'+image.token+'" overflows page dimensions by '+overflow+' px. Adjust "width" or "left offset" for');if(image.height&&(overflow=+image.height+ +image.top-page_height)>0)throw new Error('"'+image.token+'" overflows page dimensions by '+overflow+' px. Adjust "height" or "top offset"')}}catch(err){_didIteratorError48=!0,_iteratorError48=err}finally{try{!_iteratorNormalCompletion48&&_iterator48.return&&_iterator48.return()}finally{if(_didIteratorError48)throw _iteratorError48}}}}},{key:"formatData",value:function(data){return"0"===(data=this.document.serializePreferencesFormJson(data)).folder&&(data.folder=null),this.document.type===Doc.types.BUILDER&&data.output_type===Doc.types.PDF&&(data.margin={top:data.margin_top||null,left:data.margin_left||null,right:data.margin_right||null,bottom:data.margin_bottom||null},delete data.margin_top,delete data.margin_left,delete data.margin_right,delete data.margin_bottom,data.header=Adhara.getView(HeaderContentView).getContent(),data.footer=Adhara.getView(FooterContentView).getContent()),data.output_type!==Doc.types.PDF&&this.document.type!==Doc.types.FILLABLE_PDF||(data.password=data.encryption_key,delete data.encryption_key,data.dynamic_images&&(data.dynamic_images=data.dynamic_images.map(function(_){return _.page=parseInt(_.page),_.top=parseFloat(_.top),_.left=parseFloat(_.left),_.width=parseFloat(_.width),_.height=parseFloat(_.height),_}))),data.auto_number=""===data.auto_number?null:data.auto_number,data}},{key:"format",value:function(container){_get(DocumentPreferencesView.prototype.__proto__||Object.getPrototypeOf(DocumentPreferencesView.prototype),"format",this).call(this),this.outputTypeChanged()}},{key:"outputTypeChanged",value:function(){if(this.document.type!==Doc.types.FILLABLE_PDF){var output_type=this.getFieldValue("output_type");this.getParentContainerElement().querySelectorAll(".only-pdf").forEach(function(onlyPDFElement){onlyPDFElement.style.display=output_type===Doc.types.PDF?"block":"none"})}}},{key:"toggleMore",value:function(){document.querySelector(".more-options #hidden-fields").classList.toggle("hide")}},{key:"onCheckboxChanged",value:function(event,data){if("auto-number"===data.id){var _e=document.autoNumber||this.formElement.auto_number.value;this.formElement.auto_number.value=_e?null:1,_e?this.formElement.auto_number.classList.add("hide"):this.formElement.auto_number.classList.remove("hide")}}},{key:"refreshRows",value:function(data,is_add){var _this162=this,_loop3=function(name,config){var list_data=[],children=_this162.getParentContainerElement().querySelector("#"+name).children;if(Array.from(children).forEach(function(row){var idx=row.id.split("-")[2],_data={},_iteratorNormalCompletion50=!0,_didIteratorError50=!1,_iteratorError50=void 0;try{for(var _step50,_iterator50=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion50=(_step50=_iterator50.next()).done);_iteratorNormalCompletion50=!0){var field=_step50.value;_data[field.name]=row.querySelector("[name="+name+"-"+field.name+"-"+idx+"]").value}}catch(err){_didIteratorError50=!0,_iteratorError50=err}finally{try{!_iteratorNormalCompletion50&&_iterator50.return&&_iterator50.return()}finally{if(_didIteratorError50)throw _iteratorError50}}list_data.push(_data)}),is_add&&name===data.type){var _data={},_iteratorNormalCompletion51=!0,_didIteratorError51=!1,_iteratorError51=void 0;try{for(var _step51,_iterator51=config.fields[Symbol.iterator]();!(_iteratorNormalCompletion51=(_step51=_iterator51.next()).done);_iteratorNormalCompletion51=!0){_data[_step51.value.name]=""}}catch(err){_didIteratorError51=!0,_iteratorError51=err}finally{try{!_iteratorNormalCompletion51&&_iterator51.return&&_iterator51.return()}finally{if(_didIteratorError51)throw _iteratorError51}}list_data.push(_data)}_this162.document.setListData(name,list_data)},_iteratorNormalCompletion49=!0,_didIteratorError49=!1,_iteratorError49=void 0;try{for(var _step49,_iterator49=Object.entries(this.document.listDataTypes)[Symbol.iterator]();!(_iteratorNormalCompletion49=(_step49=_iterator49.next()).done);_iteratorNormalCompletion49=!0){var _ref54=_step49.value,_ref55=_slicedToArray(_ref54,2);_loop3(_ref55[0],_ref55[1])}}catch(err){_didIteratorError49=!0,_iteratorError49=err}finally{try{!_iteratorNormalCompletion49&&_iterator49.return&&_iterator49.return()}finally{if(_didIteratorError49)throw _iteratorError49}}var form_data=this.getFormData(),current_data=this.document.getSerializedPerferences(form_data);this.document.updateCurrentData(current_data),this.expandMore=!0,this.render()}},{key:"addRow",value:function(e,data){this.refreshRows(data,!0)}},{key:"removeRow",value:function(e,data){var container_element=this.getParentContainerElement();container_element.querySelector("#"+data.type).children.length-1&&(container_element.querySelector("#row-"+data.type+"-"+data.idx).remove(),this.addRow(data,!1))}},{key:"template",get:function(){return"document_details/document-preferences"}},{key:"action",get:function(){return URLS.document}},{key:"method",get:function(){return"put"}},{key:"document",get:function(){return this.parentView.parentView.data.document}},{key:"folders",get:function(){return this.parentView.parentView.data.folders}},{key:"canConfigurePage",get:function(){return this.document.type===Doc.types.BUILDER}},{key:"canConfigureAdvanced",get:function(){return this.document.type===Doc.types.WORD||this.document.type===Doc.types.EXCEL}},{key:"outputTypes",get:function(){return this.document.type===Doc.types.BUILDER?[Doc.types.PDF,Doc.types.PNG,Doc.types.HTML]:this.document.type===Doc.types.POWERPOINT?[Doc.types.POWERPOINT,Doc.types.PDF]:this.document.type===Doc.types.EXCEL?[Doc.types.EXCEL,Doc.types.PDF]:[Doc.types.PDF,Doc.types.WORD]}},{key:"pageSizes",get:function(){return["A3","A4","A5","Legal","Letter","Tabloid"]}},{key:"orientations",get:function(){return["landscape","portrait"]}},{key:"contentContainer",get:function(){return{HeaderContentView:"#header-content-editor",FooterContentView:"#footer-content-editor"}}},{key:"subViews",get:function(){if(this.document.type===Doc.types.BUILDER)return[HeaderContentView,FooterContentView]}}]),DocumentPreferencesView}(),HeaderContentView=function(_HTMLEditorView3){function HeaderContentView(){return _classCallCheck(this,HeaderContentView),_possibleConstructorReturn(this,(HeaderContentView.__proto__||Object.getPrototypeOf(HeaderContentView)).apply(this,arguments))}return _inherits(HeaderContentView,HTMLEditorView),_createClass(HeaderContentView,[{key:"htmlContent",get:function(){return this.parentView.document.header}},{key:"editorId",get:function(){return"template-header-content"}},{key:"editorConfig",get:function(){return{extraAllowedContent:"*{*}(*)[*];div{*}(*)[*];span{*}(*)[*];style[*];"}}},{key:"toolbar",get:function(){return[{name:"document",items:["Source"]},{name:"clipboard",items:["Undo","Redo","-","Cut","Copy","Paste"]},{name:"insert",items:["Image","Table","HorizontalRule","SpecialChar"]},{name:"links",items:["Link","Unlink"]},{name:"colors",items:["TextColor","BGColor"]},"/",{name:"styles",items:["Format","Font","FontSize"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","CopyFormatting","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]}]}}]),HeaderContentView}(),FooterContentView=function(_HeaderContentView){function FooterContentView(){return _classCallCheck(this,FooterContentView),_possibleConstructorReturn(this,(FooterContentView.__proto__||Object.getPrototypeOf(FooterContentView)).apply(this,arguments))}return _inherits(FooterContentView,HeaderContentView),_createClass(FooterContentView,[{key:"htmlContent",get:function(){return this.parentView.document.footer}},{key:"editorId",get:function(){return"template-footer-content"}}]),FooterContentView}(),DocumentTestView=function(_JSONFormView){function DocumentTestView(){return _classCallCheck(this,DocumentTestView),_possibleConstructorReturn(this,(DocumentTestView.__proto__||Object.getPrototypeOf(DocumentTestView)).apply(this,arguments))}return _inherits(DocumentTestView,JSONFormView),_createClass(DocumentTestView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.docId}}},{key:"toggleBtn",value:function(enable){var text=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.isActive()){var btn=this.getParentContainerElement().querySelector("#test-doc");enable?(btn.disabled=!1,btn.innerHTML=Adhara.i18n.get(text||"documents.details.tabs.test")):(btn.disabled=!0,btn.innerHTML=Adhara.i18n.get(text||"common.processing"))}}},{key:"testDocument",value:function(){var _this166=this;this.toggleBtn(!1),this.control("post",{data_config:{url:this.testURL,allowed_query_types:["post"]},processor:{success:function(query_type,entity_config,response,xhr,pass_over){document.querySelector("#test-download-frame").src=response.file_url,JSON.stringify(_this166.getJSON())!==JSON.stringify(_this166.data._data)&&_this166.cleanUp(),_this166.toggleBtn(!0)},error:function(query_type,entity_config,_error3,xhr){return Adhara.toast.error(_error3||Adhara.i18n.get("document.create.test.failed")),_this166.toggleBtn(!0)}}},this.getJSON())}},{key:"handleDataError",value:function(error){Adhara.toast.error(error.error)}},{key:"format",value:function(container){var mergeFormContainer=container.querySelector("#merge-form-container");this.errors||!this.schema.length||mergeFormContainer.dataset.rendered||(_get(DocumentTestView.prototype.__proto__||Object.getPrototypeOf(DocumentTestView.prototype),"format",this).call(this),mergeFormContainer.dataset.rendered=!0,this.getParentContainerElement().querySelector(".hide").classList.remove("hide"))}},{key:"alertMaxRowsExceeded",value:function(){Adhara.toast.error("Maximum rows allowed in CSV in test form is "+this.maxCSVRows+".")}},{key:"cleanUp",value:function(){return Adhara.dataInterface.remove(this.formatURL(URLS.document_test_data,this.getURLPathParams()))}},{key:"template",get:function(){return"document_details/document-test"}},{key:"document",get:function(){return this.parentView.parentView.data.document}},{key:"formContainer",get:function(){return this.getParentContainerElement().querySelector("#merge-form-container")}},{key:"schema",get:function(){return this.data.schema.schema}},{key:"defaultData",get:function(){return this.data.test_data._data}},{key:"formName",get:function(){return this.document.title}},{key:"csrf",get:function(){return Adhara.restAPI.getCookie("csrftoken")}},{key:"testURL",get:function(){return this.formatURL(URLS.document_test,this.getURLPathParams())}},{key:"maxCSVRows",get:function(){return 20}}]),DocumentTestView}(),DocumentGenerateIntegrationsInfoView=function(_AdharaView20){function DocumentGenerateIntegrationsInfoView(){return _classCallCheck(this,DocumentGenerateIntegrationsInfoView),_possibleConstructorReturn(this,(DocumentGenerateIntegrationsInfoView.__proto__||Object.getPrototypeOf(DocumentGenerateIntegrationsInfoView)).apply(this,arguments))}return _inherits(DocumentGenerateIntegrationsInfoView,AdharaView),_createClass(DocumentGenerateIntegrationsInfoView,[{key:"onInit",value:function(){_get(DocumentGenerateIntegrationsInfoView.prototype.__proto__||Object.getPrototypeOf(DocumentGenerateIntegrationsInfoView.prototype),"onInit",this).call(this),this.words=["ability","able","aboard","about","above","accept","accident","according","account","baby","back","bad","badly","bag","balance","ball","balloon","band","cabin","cage","cake","call","calm","came","camera","camp","can","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","each","eager","ear","earlier","early","earn","earth","easier","easily","face","facing","fact","factor","factory","failed","fair","fairly","fall","gain","game","garage","garden","gas","gasoline","gate","gather","gave","habit","had","hair","half","halfway","hall","hand","handle","handsome","ice","idea","identity","ill","image","imagine","immediately","importance","important","jack","jar","jet","job","join","joined","journey","joy","judge","keep","kept","key","kids","kill","kind","kitchen","knew","knife","label","labor","lack","lady","laid","lake","lamp","land","language","machine","machinery","mad","made","magic","magnet","mail","main","mainly","nails","name","nation","national","native","natural","naturally","nature","near","object","observe","obtain","occasionally","occur","ocean","off","offer","office","pack","package","page","paid","pain","paint","pair","palace","pale","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","sad","saddle","safe","safety","said","sail","sale","salmon","salt","table","tail","take","taken","tales","talk","tall","tank","tape","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","wagon","wait","walk","wall","want","war","warm","warn","was","yard","year","yellow","yes","yesterday","yet","you","young","younger","zero","zebra","zipper","zoo","zulu"]}},{key:"getDummyString",value:function(token){var _token=token.toLowerCase(),_word=this.words[Math.ceil((this.words.length-1)*Math.random())];return-1!==_token.indexOf("name")?["Mr.","Miss."][Math.ceil(2*Math.random())-1]+""+_word[0].toUpperCase()+_word.substr(1):-1!==_token.indexOf("mail")?_word+"@example.com":_word}},{key:"getDefaultJson",value:function(schema){var json={},_iteratorNormalCompletion52=!0,_didIteratorError52=!1,_iteratorError52=void 0;try{for(var _step52,_iterator52=schema[Symbol.iterator]();!(_iteratorNormalCompletion52=(_step52=_iterator52.next()).done);_iteratorNormalCompletion52=!0){var schema_field=_step52.value;schema_field.type===Parser.VAR_FRAGMENT||schema_field.type===Parser.GENERIC_FRAGMENT?json[schema_field.name]=this.getDummyString(schema_field.name):schema_field.type===Parser.BLOCK_FRAGMENT||schema_field.type===Parser.NESTED_VAR_FRAGMENT?json[schema_field.name]=this.getDefaultJson(schema_field.fields):schema_field.type===Parser.LIST_FRAGMENT&&(schema_field.generics===Parser.VAR_FRAGMENT||schema_field.generics===Parser.GENERIC_FRAGMENT?json[schema_field.name]=[this.getDummyString(schema_field.name),this.getDummyString(schema_field.name)]:json[schema_field.name]=[this.getDefaultJson(schema_field.fields)])}}catch(err){_didIteratorError52=!0,_iteratorError52=err}finally{try{!_iteratorNormalCompletion52&&_iterator52.return&&_iterator52.return()}finally{if(_didIteratorError52)throw _iteratorError52}}return json}},{key:"copyContent",value:function(e,data){AppUtils.copyToClipboard(data.codeblock),Adhara.toast.success(Adhara.i18n.get("common.copied"))}},{key:"template",get:function(){return"document_details/document-generate-integrations-info"}},{key:"data",get:function(){return this.parentView.mergeInfo}},{key:"defaultJson",get:function(){return JSON.stringify(this.getDefaultJson(this.parentView.schema.schema),null,4)}}]),DocumentGenerateIntegrationsInfoView}(),DocumentGenerateManualInfoView=function(_AdharaView21){function DocumentGenerateManualInfoView(){return _classCallCheck(this,DocumentGenerateManualInfoView),_possibleConstructorReturn(this,(DocumentGenerateManualInfoView.__proto__||Object.getPrototypeOf(DocumentGenerateManualInfoView)).apply(this,arguments))}return _inherits(DocumentGenerateManualInfoView,AdharaView),_createClass(DocumentGenerateManualInfoView,[{key:"template",get:function(){return"document_details/document-generate-manual-info"}},{key:"data",get:function(){return this.parentView.mergeInfo}}]),DocumentGenerateManualInfoView}(),DocumentGenerateZapierInfoView=function(_AdharaView22){function DocumentGenerateZapierInfoView(){return _classCallCheck(this,DocumentGenerateZapierInfoView),_possibleConstructorReturn(this,(DocumentGenerateZapierInfoView.__proto__||Object.getPrototypeOf(DocumentGenerateZapierInfoView)).apply(this,arguments))}return _inherits(DocumentGenerateZapierInfoView,AdharaView),_createClass(DocumentGenerateZapierInfoView,[{key:"copyContent",value:function(e,data){AppUtils.copyToClipboard(data.codeblock),Adhara.toast.success(Adhara.i18n.get("common.copied"))}},{key:"format",value:function(container){var script=document.createElement("script");script.type="module",script.src="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.esm.js",document.head.appendChild(script);var stylesheet=document.createElement("link");stylesheet.rel="stylesheet",stylesheet.href="https://cdn.zapier.com/packages/partner-sdk/v0/zapier-elements/zapier-elements.css",document.head.appendChild(stylesheet);var appDir=document.createElement("zapier-app-directory");appDir.app="docupilot",appDir.theme="light",appDir.introcopy="hide",container.querySelector("#zapier-embed").appendChild(appDir)}},{key:"template",get:function(){return"document_details/document-generate-zapier-info"}},{key:"data",get:function(){return this.parentView.mergeInfo}}]),DocumentGenerateZapierInfoView}(),DocumentGenerateIntegromatInfoView=function(_AdharaView23){function DocumentGenerateIntegromatInfoView(){return _classCallCheck(this,DocumentGenerateIntegromatInfoView),_possibleConstructorReturn(this,(DocumentGenerateIntegromatInfoView.__proto__||Object.getPrototypeOf(DocumentGenerateIntegromatInfoView)).apply(this,arguments))}return _inherits(DocumentGenerateIntegromatInfoView,AdharaView),_createClass(DocumentGenerateIntegromatInfoView,[{key:"template",get:function(){return"document_details/document-generate-integromat-info"}},{key:"data",get:function(){return this.parentView.mergeInfo}}]),DocumentGenerateIntegromatInfoView}(),DocumentGenerateBatchProcessView=function(_AdharaView24){function DocumentGenerateBatchProcessView(){return _classCallCheck(this,DocumentGenerateBatchProcessView),_possibleConstructorReturn(this,(DocumentGenerateBatchProcessView.__proto__||Object.getPrototypeOf(DocumentGenerateBatchProcessView)).apply(this,arguments))}return _inherits(DocumentGenerateBatchProcessView,AdharaView),_createClass(DocumentGenerateBatchProcessView,[{key:"onInit",value:function(){_get(DocumentGenerateBatchProcessView.prototype.__proto__||Object.getPrototypeOf(DocumentGenerateBatchProcessView.prototype),"onInit",this).call(this),this.batch_process_id=null}},{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.docId,batch_process_id:this.stage1_data?this.stage1_data.batch_process_id:null}}},{key:"getStage1ValuesFor",value:function(header){var values=this.stage1_data.data[header];if(!values){values=[];for(var i=0;i<this.stage1RowCount;i++)values.push("--")}return values}},{key:"onStage1Data",value:function(response){this.stage1_data=response,this.batch_process_id=this.stage1_data.batch_process_id,this.render()}},{key:"onStage1ValueMapped",value:function(event,data){document.querySelector('.batch-process .data-wrapper tr[id="row-'+data.name+'"]').innerHTML=this.getStage1ValuesFor(event.target.value).map(function(_){return'<td class="datum" title="'+_+'">'+_+"</td>"}).join(""),0!==Array.from(document.querySelectorAll("table.fixed select")).filter(function(_){return _.value}).length?document.querySelector(".batch-process #process").removeAttribute("disabled"):document.querySelector(".batch-process #process").setAttribute("disabled","true")}},{key:"processBulk",value:function(event,data){var _this172=this;event.target.disabled=!0,event.target.innerText="Processing...",event.preventDefault(),event.stopPropagation();var field_map={},_iteratorNormalCompletion53=!0,_didIteratorError53=!1,_iteratorError53=void 0;try{for(var _step53,_iterator53=document.querySelectorAll("table.fixed select")[Symbol.iterator]();!(_iteratorNormalCompletion53=(_step53=_iterator53.next()).done);_iteratorNormalCompletion53=!0){var select=_step53.value;select.value&&(field_map[select.name]=select.value)}}catch(err){_didIteratorError53=!0,_iteratorError53=err}finally{try{!_iteratorNormalCompletion53&&_iterator53.return&&_iterator53.return()}finally{if(_didIteratorError53)throw _iteratorError53}}var entity_config=Adhara.app.getEntityConfig("batch_process_merge");entity_config.data_config.url=this.formatURL(entity_config.data_config.url,this.getURLPathParams()),entity_config.processor={success:function(){var _ref56=_asyncToGenerator(regeneratorRuntime.mark(function _callee18(){return regeneratorRuntime.wrap(function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:_this172.stage1_data=null,_this172.refresh();case 2:case"end":return _context18.stop()}},_callee18,_this172)}));return function(){return _ref56.apply(this,arguments)}}(),error:function(){}},this.postData(this.formatEntityConfig(entity_config),field_map)}},{key:"saveDraft",value:function(){var _ref57=_asyncToGenerator(regeneratorRuntime.mark(function _callee19(event,data){return regeneratorRuntime.wrap(function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:this.stage1_data=null,this.refresh();case 2:case"end":return _context19.stop()}},_callee19,this)}));return function(_x15,_x16){return _ref57.apply(this,arguments)}}()},{key:"cancel",value:function(){var _ref58=_asyncToGenerator(regeneratorRuntime.mark(function _callee21(event,data){var entity_config,_this173=this;return regeneratorRuntime.wrap(function(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:event.preventDefault(),event.stopPropagation(),(entity_config=Adhara.app.getEntityConfig("batch_process_cancel")).data_config.url=this.formatURL(entity_config.data_config.url,this.getURLPathParams()),entity_config.processor={success:function(){var _ref59=_asyncToGenerator(regeneratorRuntime.mark(function _callee20(){return regeneratorRuntime.wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:_this173.stage1_data=null,_this173.refresh();case 2:case"end":return _context20.stop()}},_callee20,_this173)}));return function(){return _ref59.apply(this,arguments)}}(),error:function(){}},this.postData(this.formatEntityConfig(entity_config),{});case 6:case"end":return _context21.stop()}},_callee21,this)}));return function(_x17,_x18){return _ref58.apply(this,arguments)}}()},{key:"fetchDraft",value:function(){var _this174=this,entity_config=Adhara.app.getEntityConfig("batch_process_edit_draft"),url_path_params=this.getURLPathParams();url_path_params.batch_process_id=this.batch_process_id,entity_config.data_config.url=this.formatURL(entity_config.data_config.url,url_path_params),entity_config.processor={success:function(){var _ref60=_asyncToGenerator(regeneratorRuntime.mark(function _callee22(query_type,entity_config,response){return regeneratorRuntime.wrap(function(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:_this174.stage1_data=response,_this174.render();case 2:case"end":return _context22.stop()}},_callee22,_this174)}));return function(_x19,_x20,_x21){return _ref60.apply(this,arguments)}}(),error:function(){var _ref61=_asyncToGenerator(regeneratorRuntime.mark(function _callee23(){return regeneratorRuntime.wrap(function(_context23){for(;;)switch(_context23.prev=_context23.next){case 0:Adhara.toast.error("This file is expired and draft cannot be edited. This process is now marked as cancelled. Please upload a new file"),_this174.batch_process_id=null,_this174.stage1_data=null,_this174.refresh();case 4:case"end":return _context23.stop()}},_callee23,_this174)}));return function(){return _ref61.apply(this,arguments)}}()},this.getData(this.formatEntityConfig(entity_config))}},{key:"editDraft",value:function(data){this.batch_process_id=data.id,this.fetchDraft()}},{key:"getSchemaFields",value:function(){var schema=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,fields=[],_iteratorNormalCompletion54=!0,_didIteratorError54=!1,_iteratorError54=void 0;try{for(var _step54,_iterator54=(schema||this.data.document_schema.schema)[Symbol.iterator]();!(_iteratorNormalCompletion54=(_step54=_iterator54.next()).done);_iteratorNormalCompletion54=!0){var field=_step54.value;if(field.type===Parser.VAR_FRAGMENT||field.type===Parser.GENERIC_FRAGMENT)fields.push({name:field.name,ref:field.name.replace(/\s/g,"-")});else if(field.type===Parser.BLOCK_FRAGMENT||field.type===Parser.NESTED_VAR_FRAGMENT){var nested_fields=this.getSchemaFields(field.fields),_iteratorNormalCompletion55=!0,_didIteratorError55=!1,_iteratorError55=void 0;try{for(var _step55,_iterator55=nested_fields[Symbol.iterator]();!(_iteratorNormalCompletion55=(_step55=_iterator55.next()).done);_iteratorNormalCompletion55=!0){var nested_field=_step55.value;fields.push({name:field.name+"."+nested_field.name,ref:field.name.replace(/\s/g,"-")+"-"+nested_field.ref})}}catch(err){_didIteratorError55=!0,_iteratorError55=err}finally{try{!_iteratorNormalCompletion55&&_iterator55.return&&_iterator55.return()}finally{if(_didIteratorError55)throw _iteratorError55}}}}}catch(err){_didIteratorError54=!0,_iteratorError54=err}finally{try{!_iteratorNormalCompletion54&&_iterator54.return&&_iterator54.return()}finally{if(_didIteratorError54)throw _iteratorError54}}return fields}},{key:"template",get:function(){return"document_details/document-generate-batch-process"}},{key:"contentContainer",get:function(){return{DocumentGenerateBatchProcessForm:"#batch-process-form",DocumentGenerateBatchProcessList:"#batch-process-list"}}},{key:"subViews",get:function(){var _s=[DocumentGenerateBatchProcessList];return this.canMerge&&_s.push(DocumentGenerateBatchProcessForm),_s}},{key:"document",get:function(){return Adhara.getView(DocumentDetailsHomeView).data.document}},{key:"maxTestRows",get:function(){return Adhara.getView(ContainerView).data.meta.batchProcessMaxAllowedTestRows}},{key:"deliveries",get:function(){return Adhara.getView(DocumentDetailsHomeView).data.deliveries}},{key:"canMerge",get:function(){return this.deliveries.length>0}},{key:"stage1Headers",get:function(){return Object.keys(this.stage1_data.data)}},{key:"stage1RowCount",get:function(){return this.stage1_data.data[this.stage1Headers[0]].length}},{key:"isStage0",get:function(){return!this.stage1_data}},{key:"isStage1",get:function(){return!!this.stage1_data}}]),DocumentGenerateBatchProcessView}(),DocumentGenerateBatchProcessList=function(_AdharaGridView){function DocumentGenerateBatchProcessList(){return _classCallCheck(this,DocumentGenerateBatchProcessList),_possibleConstructorReturn(this,(DocumentGenerateBatchProcessList.__proto__||Object.getPrototypeOf(DocumentGenerateBatchProcessList)).apply(this,arguments))}return _inherits(DocumentGenerateBatchProcessList,AdharaGridView),_createClass(DocumentGenerateBatchProcessList,[{key:"onInit",value:function(){_get(DocumentGenerateBatchProcessList.prototype.__proto__||Object.getPrototypeOf(DocumentGenerateBatchProcessList.prototype),"onInit",this).call(this),this.tids=[]}},{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.parentView.docId}}},{key:"dataChange",value:function(new_data){var _this176=this;new_data.forEach(function(_){_.canMerge=_this176.parentView.canMerge}),_get(DocumentGenerateBatchProcessList.prototype.__proto__||Object.getPrototypeOf(DocumentGenerateBatchProcessList.prototype),"dataChange",this).call(this,new_data)}},{key:"format",value:function(container){var _this177=this;this.data&&this.data.forEach(function(_,idx){return _.isPending&&_this177.timeAProcess(_.id,idx)})}},{key:"timeAProcess",value:function(process_id,idx){var _this178=this,tid=setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee24(){return regeneratorRuntime.wrap(function(_context24){for(;;)switch(_context24.prev=_context24.next){case 0:return _context24.next=2,_this178.updateAProcess(process_id,idx);case 2:case"end":return _context24.stop()}},_callee24,_this178)})),5e3);this.tids.push(tid)}},{key:"timeOutAllProcesses",value:function(){var _iteratorNormalCompletion56=!0,_didIteratorError56=!1,_iteratorError56=void 0;try{for(var _step56,_iterator56=this.tids[Symbol.iterator]();!(_iteratorNormalCompletion56=(_step56=_iterator56.next()).done);_iteratorNormalCompletion56=!0){var tid=_step56.value;clearTimeout(tid)}}catch(err){_didIteratorError56=!0,_iteratorError56=err}finally{try{!_iteratorNormalCompletion56&&_iterator56.return&&_iterator56.return()}finally{if(_didIteratorError56)throw _iteratorError56}}this.tids=[]}},{key:"updateAProcess",value:function(){var _ref63=_asyncToGenerator(regeneratorRuntime.mark(function _callee26(process_id,idx){var _ebp,entity_config,url_path_params,_this179=this;return regeneratorRuntime.wrap(function(_context26){for(;;)switch(_context26.prev=_context26.next){case 0:if((_ebp=this.data.filter(function(_){return _.id===process_id})[0])&&_ebp.isPending){_context26.next=3;break}return _context26.abrupt("return");case 3:entity_config=Adhara.app.getEntityConfig("batch_process_one"),(url_path_params=this.getURLPathParams()).batch_process_id=process_id,entity_config.data_config.url=this.formatURL(entity_config.data_config.url,url_path_params),entity_config.processor={success:function(){var _ref64=_asyncToGenerator(regeneratorRuntime.mark(function _callee25(query_type,entity_config,response){var _nbp,process_row;return regeneratorRuntime.wrap(function(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:_nbp=new BatchProcess(response),(process_row=document.querySelector('[adhara-datum-row="'+idx+'"]')).querySelector(".progress-bar-success").style.width=_nbp.successPercentage+"%",process_row.querySelector(".progress-bar-danger").style.width=_nbp.erroredPercentage+"%",process_row.querySelector(".progress-text").innerHTML=_nbp.successRowCount+"/"+_nbp.totalRowCount,process_row.querySelector('[adhara-datum-col="'+idx+'-status"]').innerHTML=_nbp.status,process_row.querySelector('[adhara-datum-col="'+idx+'-startTime"]').innerHTML=_nbp.startTime,process_row.querySelector('[adhara-datum-col="'+idx+'-endTime"]').innerHTML=_nbp.endTime,_this179.data.splice(_this179.data.indexOf(_ebp),1,_nbp),_nbp.isPending?_this179.timeAProcess(process_id,idx):_this179.render();case 10:case"end":return _context25.stop()}},_callee25,_this179)}));return function(_x25,_x26,_x27){return _ref64.apply(this,arguments)}}(),error:function(){}},this.getData(this.formatEntityConfig(entity_config));case 9:case"end":return _context26.stop()}},_callee26,this)}));return function(_x23,_x24){return _ref63.apply(this,arguments)}}()},{key:"onDestroy",value:function(){this.timeOutAllProcesses()}},{key:"editDraft",value:function(event,data){event.preventDefault(),event.stopPropagation(),this.parentView.editDraft(data)}},{key:"tableClass",get:function(){return"table-hover table-striped"}},{key:"isPaginationRequired",get:function(){return!0}},{key:"columns",get:function(){return[{name:"fileNameAnchor",display_name:"File Name",trust_as_html:!0},{name:"status",display_name:"Status",trust_as_html:!1},{name:"startTime",display_name:"Start",trust_as_html:!0},{name:"endTime",display_name:"End",trust_as_html:!0},{name:"progress",display_name:"Progress",trust_as_html:!0}]}}]),DocumentGenerateBatchProcessList}(),DocumentGenerateBatchProcessForm=function(_AdharaFormView6){function DocumentGenerateBatchProcessForm(){return _classCallCheck(this,DocumentGenerateBatchProcessForm),_possibleConstructorReturn(this,(DocumentGenerateBatchProcessForm.__proto__||Object.getPrototypeOf(DocumentGenerateBatchProcessForm)).apply(this,arguments))}return _inherits(DocumentGenerateBatchProcessForm,AdharaFormView),_createClass(DocumentGenerateBatchProcessForm,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.parentView.docId}}},{key:"onSuccess",value:function(response){this.parentView.onStage1Data(response)}},{key:"template",get:function(){return"document_details/document-generate-batch-process-form"}},{key:"action",get:function(){return URLS.batch_process_upload}},{key:"method",get:function(){return"post"}}]),DocumentGenerateBatchProcessForm}(),DocumentMergeInfoView=function(_DmioTabView3){function DocumentMergeInfoView(){return _classCallCheck(this,DocumentMergeInfoView),_possibleConstructorReturn(this,(DocumentMergeInfoView.__proto__||Object.getPrototypeOf(DocumentMergeInfoView)).apply(this,arguments))}return _inherits(DocumentMergeInfoView,DmioTabView),_createClass(DocumentMergeInfoView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.parentView.docId}}},{key:"docId",get:function(){return this.parentView.docId}},{key:"mergeInfo",get:function(){return this.data.merge_info[0]}},{key:"schema",get:function(){return this.data.schema}},{key:"tabs",get:function(){return[{id:"manual",link:"/templates/"+this.docId+"/generate/manual",name:Adhara.i18n.get("documents.details.tabs.merge.data_capture"),view:DocumentGenerateManualInfoView},{id:"integrations",link:"/templates/"+this.docId+"/generate/integrations",name:Adhara.i18n.get("documents.details.tabs.merge.integrations"),view:DocumentGenerateIntegrationsInfoView},{id:"bulk_merge",link:"/templates/"+this.docId+"/generate/bulk_merge",name:Adhara.i18n.get("documents.details.tabs.merge.batch_process"),view:DocumentGenerateBatchProcessView},{id:"zapier",link:"/templates/"+this.docId+"/generate/zapier",name:Adhara.i18n.get("documents.details.tabs.merge.zapier"),view:DocumentGenerateZapierInfoView},{id:"integromat",link:"/templates/"+this.docId+"/generate/integromat",name:Adhara.i18n.get("documents.details.tabs.merge.integromat"),view:DocumentGenerateIntegromatInfoView}]}}]),DocumentMergeInfoView}(),DocumentTimelineView=function(_AdharaView25){function DocumentTimelineView(){return _classCallCheck(this,DocumentTimelineView),_possibleConstructorReturn(this,(DocumentTimelineView.__proto__||Object.getPrototypeOf(DocumentTimelineView)).apply(this,arguments))}return _inherits(DocumentTimelineView,AdharaView),_createClass(DocumentTimelineView,[{key:"template",get:function(){return"document_details/document-timeline"}}]),DocumentTimelineView}(),DocumentMutationView=function(_AdharaDialogFormView5){function DocumentMutationView(){return _classCallCheck(this,DocumentMutationView),_possibleConstructorReturn(this,(DocumentMutationView.__proto__||Object.getPrototypeOf(DocumentMutationView)).apply(this,arguments))}return _inherits(DocumentMutationView,AdharaDialogFormView),_createClass(DocumentMutationView,[{key:"onSuccess",value:function(data){this.hide(),Adhara.toast.success(Adhara.i18n.get("documents.create.success"));var details_content="html"===data.type?"editor":"content";Adhara.router.navigateTo("/templates/"+data.id+"/"+details_content)}},{key:"formatData",value:function(data){var folder=Adhara.router.getQueryParam("folder");return isNaN(folder)||(data.folder=folder),data}},{key:"modalId",get:function(){return"document-mutation"}},{key:"titleTemplate",get:function(){return Adhara.i18n.get("documents.create")}},{key:"messageTemplate",get:function(){return"documents/new-document"}},{key:"primaryActionTitle",get:function(){return this.titleTemplate}},{key:"method",get:function(){return"post"}},{key:"action",get:function(){return URLS.documents}}]),DocumentMutationView}(),CopyTemplateView=function(_GenericAlertView3){function CopyTemplateView(){return _classCallCheck(this,CopyTemplateView),_possibleConstructorReturn(this,(CopyTemplateView.__proto__||Object.getPrototypeOf(CopyTemplateView)).apply(this,arguments))}return _inherits(CopyTemplateView,GenericAlertView),_createClass(CopyTemplateView,[{key:"getPayload",value:function(){return{title:this.getParentContainerElement().querySelector("#copy-title").value}}},{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.document.id}}},{key:"onExecuteSuccess",value:function(){var _ref65=_asyncToGenerator(regeneratorRuntime.mark(function _callee27(response){return regeneratorRuntime.wrap(function(_context27){for(;;)switch(_context27.prev=_context27.next){case 0:return Adhara.toast.success(Adhara.i18n.get("documents.copy.success",[this.document.title])),_get(CopyTemplateView.prototype.__proto__||Object.getPrototypeOf(CopyTemplateView.prototype),"onExecuteSuccess",this).call(this),_context27.prev=2,_context27.next=5,DocumentsListView.cleanUp();case 5:_context27.next=9;break;case 7:_context27.prev=7,_context27.t0=_context27.catch(2);case 9:this.document.type===Doc.types.HTML?Adhara.router.navigateTo("/templates/"+response.id+"/editor"):Adhara.router.navigateTo("/templates/"+response.id+"/content");case 10:case"end":return _context27.stop()}},_callee27,this,[[2,7]])}));return function(_x28){return _ref65.apply(this,arguments)}}()},{key:"document",get:function(){return this.parentView.document}},{key:"entityConfigName",get:function(){return"document_copy"}},{key:"entryName",get:function(){return this.document.title}},{key:"newName",get:function(){return("Copy of "+this.entryName).substr(0,50)}},{key:"titleTemplate",get:function(){return Adhara.i18n.get("template.copy",[this.entryName])}},{key:"folderName",get:function(){var _this185=this;return Adhara.getView(FoldersListView).data.filter(function(folder){return folder.id===_this185.document.folder.id})[0].name}},{key:"messageTemplate",get:function(){return"documents/copy-template"}},{key:"primaryAction",get:function(){return Adhara.i18n.get("common.copy")}}]),CopyTemplateView}(),RestoreDocumentView=function(_GenericAlertView4){function RestoreDocumentView(){return _classCallCheck(this,RestoreDocumentView),_possibleConstructorReturn(this,(RestoreDocumentView.__proto__||Object.getPrototypeOf(RestoreDocumentView)).apply(this,arguments))}return _inherits(RestoreDocumentView,GenericAlertView),_createClass(RestoreDocumentView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.document.id}}},{key:"onExecuteSuccess",value:function(){var _ref66=_asyncToGenerator(regeneratorRuntime.mark(function _callee28(){return regeneratorRuntime.wrap(function(_context28){for(;;)switch(_context28.prev=_context28.next){case 0:return Adhara.toast.success(Adhara.i18n.get("documents.restore.success")),_get(RestoreDocumentView.prototype.__proto__||Object.getPrototypeOf(RestoreDocumentView.prototype),"onExecuteSuccess",this).call(this),_context28.prev=2,_context28.next=5,DocumentsListView.cleanUp();case 5:_context28.next=9;break;case 7:_context28.prev=7,_context28.t0=_context28.catch(2);case 9:Adhara.getView(HomeView).refresh();case 10:case"end":return _context28.stop()}},_callee28,this,[[2,7]])}));return function(){return _ref66.apply(this,arguments)}}()},{key:"document",get:function(){return this.parentView.document}},{key:"entityConfigName",get:function(){return"document_restore"}},{key:"entryName",get:function(){return this.document.title}},{key:"titleTemplate",get:function(){return Adhara.i18n.get("common.restore")}},{key:"messageTemplate",get:function(){var _this187=this,folder_name=Adhara.getView(FoldersListView).data.filter(function(folder){return folder.id===_this187.document.folder.id})[0].name;return Adhara.i18n.get("documents.restore_message",[this.entryName,folder_name])}},{key:"primaryAction",get:function(){return Adhara.i18n.get("common.restore")}}]),RestoreDocumentView}(),DeleteDocumentView=function(_GenericDeleteAlertVi4){function DeleteDocumentView(){return _classCallCheck(this,DeleteDocumentView),_possibleConstructorReturn(this,(DeleteDocumentView.__proto__||Object.getPrototypeOf(DeleteDocumentView)).apply(this,arguments))}return _inherits(DeleteDocumentView,GenericDeleteAlertView),_createClass(DeleteDocumentView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.document.id}}},{key:"onDeleteSuccess",value:function(){var _ref67=_asyncToGenerator(regeneratorRuntime.mark(function _callee29(){return regeneratorRuntime.wrap(function(_context29){for(;;)switch(_context29.prev=_context29.next){case 0:return _context29.prev=0,_context29.next=3,DocumentsListView.cleanUp();case 3:_context29.next=7;break;case 5:_context29.prev=5,_context29.t0=_context29.catch(0);case 7:Adhara.getView(HomeView).refresh();case 8:case"end":return _context29.stop()}},_callee29,this,[[0,5]])}));return function(){return _ref67.apply(this,arguments)}}()},{key:"document",get:function(){return this.parentView.document}},{key:"entityName",get:function(){return"documents"}},{key:"messageTemplate",get:function(){return"documents/template-delete-alert"}},{key:"entityConfigName",get:function(){return"document"}},{key:"entryName",get:function(){return this.document.title}}]),DeleteDocumentView}(),PermanentDeleteDocumentView=function(_GenericDeleteAlertVi5){function PermanentDeleteDocumentView(){return _classCallCheck(this,PermanentDeleteDocumentView),_possibleConstructorReturn(this,(PermanentDeleteDocumentView.__proto__||Object.getPrototypeOf(PermanentDeleteDocumentView)).apply(this,arguments))}return _inherits(PermanentDeleteDocumentView,GenericDeleteAlertView),_createClass(PermanentDeleteDocumentView,[{key:"getURLPathParams",value:function(batch_identifier){return{document_id:this.document.id}}},{key:"onDeleteSuccess",value:function(){var _ref68=_asyncToGenerator(regeneratorRuntime.mark(function _callee30(){return regeneratorRuntime.wrap(function(_context30){for(;;)switch(_context30.prev=_context30.next){case 0:return _context30.prev=0,_context30.next=3,DocumentsListView.cleanUp();case 3:_context30.next=7;break;case 5:_context30.prev=5,_context30.t0=_context30.catch(0);case 7:Adhara.getView(HomeView).refresh();case 8:case"end":return _context30.stop()}},_callee30,this,[[0,5]])}));return function(){return _ref68.apply(this,arguments)}}()},{key:"document",get:function(){return this.parentView.document}},{key:"entityName",get:function(){return"documents"}},{key:"entityConfigName",get:function(){return"document_permanent_delete"}},{key:"entryName",get:function(){return this.document.title}},{key:"messageTemplate",get:function(){return"documents/template-permanent-delete-alert"}}]),PermanentDeleteDocumentView}(),DocumentsListContainer=function(_AdharaView26){function DocumentsListContainer(){return _classCallCheck(this,DocumentsListContainer),_possibleConstructorReturn(this,(DocumentsListContainer.__proto__||Object.getPrototypeOf(DocumentsListContainer)).apply(this,arguments))}return _inherits(DocumentsListContainer,AdharaView),_createClass(DocumentsListContainer,[{key:"newDocument",value:function(){this.parentView.newDocument()}},{key:"template",get:function(){return"documents/documents-list-container"}},{key:"contentContainer",get:function(){return"#documents-list"}},{key:"subViews",get:function(){return[DocumentsListView]}},{key:"isImmutableFolder",get:function(){return Adhara.router.getQueryParam("folder")===Folder.types.TRASH}}]),DocumentsListContainer}(),DocumentsListView=function(_AdharaListView){function DocumentsListView(){return _classCallCheck(this,DocumentsListView),_possibleConstructorReturn(this,(DocumentsListView.__proto__||Object.getPrototypeOf(DocumentsListView)).apply(this,arguments))}return _inherits(DocumentsListView,AdharaListView),_createClass(DocumentsListView,[{key:"onViewTypeChanged",value:function(new_view_type){Adhara.getView(ContainerView).setPersonalization("list_view:templates",{type:new_view_type})}},{key:"onSearch",value:function(text){var _this192=this,entity_config=Adhara.app.getEntityConfig("documents");entity_config.processor={success:function(query_type,entity_config,response,xhr,pass_over){_this192._data=response.map(function(_document){return new Doc(_document)}),_this192.updateResults()},error:function(){Adhara.toast.error("error searching for templates")}},this.getData(entity_config,this.getPayload())}},{key:"copyTemplate",value:function(event,data){event.stopPropagation(),event.preventDefault(),this.document=this.data.filter(function(document){return document.id===+data.id})[0],Adhara.createView(Adhara.getView(CopyTemplateView,this))}},{key:"deleteDocument",value:function(event,data){event.stopPropagation(),this.document=this.data.filter(function(document){return document.id===+data.id})[0],this.isImmutableFolder?Adhara.createView(Adhara.getView(PermanentDeleteDocumentView,this)):Adhara.createView(Adhara.getView(DeleteDocumentView,this))}},{key:"restoreDocument",value:function(event,data){event.stopPropagation(),this.document=this.data.filter(function(document){return document.id===+data.id})[0],Adhara.createView(Adhara.getView(RestoreDocumentView,this))}},{key:"overflowToggle",value:function(event){event.stopPropagation(),AppUtils.overflowToggle(event)}},{key:"newDocument",value:function(){this.parentView.newDocument()}},{key:"containerClass",get:function(){return""}},{key:"cardSizeClass",get:function(){return"col-xlg-2 col-md-3 col-sm-4 col-xs-12"}},{key:"itemTemplate",get:function(){return this.listType===AdharaListView.VIEW_TYPES.CARD_VIEW?"documents/documents-card-item":this.listType===AdharaListView.VIEW_TYPES.TEMPLATE_VIEW?"documents/templates-template-item":void 0}},{key:"headerTemplate",get:function(){return"documents/templates-template-header"}},{key:"allowedListTypes",get:function(){return[AdharaListView.VIEW_TYPES.CARD_VIEW,AdharaListView.VIEW_TYPES.TEMPLATE_VIEW]}},{key:"defaultListType",get:function(){return(Adhara.getView(ContainerView).getPersonalization("list_view:templates")||{type:this.allowedListTypes[0]}).type}},{key:"buttons",get:function(){return this.listType!==AdharaListView.VIEW_TYPES.TEMPLATE_VIEW||this.isImmutableFolder?[]:[{attributes:{class:"btn btn-primary","data-onclick":"newDocument"},title:"Create new template"}]}},{key:"search",get:function(){return{attributes:{placeholder:"Search templates by name"}}}},{key:"isImmutableFolder",get:function(){return Adhara.router.getQueryParam("folder")===Folder.types.TRASH}},{key:"payload",get:function(){if(this.searchText)return{search:this.searchText};var folder=Adhara.router.getQueryParam("folder");return folder===Folder.types.TRASH?{filter:Folder.types.TRASH}:{folder:folder}}},{key:"data",get:function(){var docs=this._data;return this.isImmutableFolder||(docs=docs.map(function(doc){return doc.mutable=!0,doc}),this.listType===AdharaListView.VIEW_TYPES.CARD_VIEW&&docs.unshift({add:!0})),docs}}],[{key:"cleanUp",value:function(){return Adhara.dataInterface.db_table.removeMultiple(function(url,response){return response._.url===URLS.documents})}}]),DocumentsListView}(),FolderMutationView=function(_AdharaDialogFormView6){function FolderMutationView(){return _classCallCheck(this,FolderMutationView),_possibleConstructorReturn(this,(FolderMutationView.__proto__||Object.getPrototypeOf(FolderMutationView)).apply(this,arguments))}return _inherits(FolderMutationView,AdharaDialogFormView),_createClass(FolderMutationView,[{key:"getURLPathParams",value:function(batch_identifier){return this.folder?{folder_id:this.folder.id}:null}},{key:"onSuccess",value:function(data){var _this194=this;this.hide(),Adhara.toast.success(Adhara.i18n.get("folders."+(this.folder?"update":"create")+".success")),FoldersListView.cleanUp().then(function(){_this194.folder?_this194.parentView.refresh():Adhara.router.navigateTo("/templates?folder="+data.id)})}},{key:"titleTemplate",get:function(){return Adhara.i18n.get("folders.create")}},{key:"messageTemplate",get:function(){return"documents/new-folder"}},{key:"folder",get:function(){return this.parentView.folder}},{key:"method",get:function(){return this.folder?"put":"post"}},{key:"action",get:function(){return this.folder?URLS.folder:URLS.folders}},{key:"primaryActionTitle",get:function(){return Adhara.i18n.get("common.save")}}]),FolderMutationView}(),MergeFormView=function(_JSONFormView2){function MergeFormView(){return _classCallCheck(this,MergeFormView),_possibleConstructorReturn(this,(MergeFormView.__proto__||Object.getPrototypeOf(MergeFormView)).apply(this,arguments))}return _inherits(MergeFormView,JSONFormView),_createClass(MergeFormView,[{key:"onInit",value:function(){this.merged=!1,_get(MergeFormView.prototype.__proto__||Object.getPrototypeOf(MergeFormView.prototype),"onInit",this).call(this)}},{key:"toggleBtn",value:function(enable){var btn=this.getParentContainerElement().querySelector("#merge-doc");enable?(btn.disabled=!1,btn.innerHTML=Adhara.i18n.get("common.submit")):(btn.disabled=!0,btn.innerHTML=Adhara.i18n.get("common.processing"))}},{key:"mergeDocument",value:function(){var _this196=this;this.toggleBtn(!1);var errors=this.validate();if(errors.length){var message=errors.map(function(err){return err.property+" - "+err.path+" - "+err.message}).join("\n");return console.error(message),Adhara.toast("Error",message,"error"),this.toggleBtn(!0)}var post_data=this.getJSON();this.postData({data_config:{url:this.mergeURL,allowed_query_types:["post"]},processor:{success:function(query_type,entity_config,response){(Adhara.toast.success("Document successfully merged"),_this196.merged=!0,response&&response.file_url)&&(document.querySelector("#merge-download-frame").src=response.file_url);_this196.refresh()},error:function(){return Adhara.toast.error(Adhara.i18n.get("document.create.failed")),_this196.toggleBtn(!0)}}},post_data)}},{key:"anotherMerge",value:function(){this.merged=!1,this.refresh()}},{key:"format",value:function(container){if(!this.merged){var mergeFormContainer=container.querySelector("#merge-form-container");this.errors||!this.schema.length||mergeFormContainer.dataset.rendered||(_get(MergeFormView.prototype.__proto__||Object.getPrototypeOf(MergeFormView.prototype),"format",this).call(this),mergeFormContainer.dataset.rendered=!0,this.getParentContainerElement().querySelector(".hide").classList.remove("hide"))}}},{key:"template",get:function(){return this.merged?"document_details/merge-success":"document_details/document-merge-form"}},{key:"errorTemplate",get:function(){return"document_details/document-merge-form"}},{key:"formContainer",get:function(){return this.getParentContainerElement().querySelector("#merge-form-container")}},{key:"document",get:function(){return this.data._data.document}},{key:"schema",get:function(){return this.data._data.schema}},{key:"formName",get:function(){return this.document.title}},{key:"entityConfig",get:function(){return Adhara.app.getEntityConfigFromContext({data_config:{url:Adhara.router.getCurrentPath()+"/meta"+window.location.search,allowed_query_types:["get"],default_query_type:"get",reuse:{enable:!1}},view:MergeFormView})}},{key:"csrf",get:function(){return Adhara.restAPI.getCookie("csrftoken")}},{key:"mergeURL",get:function(){return Adhara.router.getCurrentURL().replace("download=file","download=true")}}]),MergeFormView}(),DeleteFolderView=function(_GenericDeleteAlertVi6){function DeleteFolderView(){return _classCallCheck(this,DeleteFolderView),_possibleConstructorReturn(this,(DeleteFolderView.__proto__||Object.getPrototypeOf(DeleteFolderView)).apply(this,arguments))}return _inherits(DeleteFolderView,GenericDeleteAlertView),_createClass(DeleteFolderView,[{key:"getURLPathParams",value:function(batch_identifier){return{folder_id:this.folder.id}}},{key:"onDeleteSuccess",value:function(){var _ref69=_asyncToGenerator(regeneratorRuntime.mark(function _callee31(){return regeneratorRuntime.wrap(function(_context31){for(;;)switch(_context31.prev=_context31.next){case 0:return _context31.prev=0,_context31.next=3,Promise.all([FoldersListView.cleanUp(),DocumentsListView.cleanUp()]);case 3:_context31.next=7;break;case 5:_context31.prev=5,_context31.t0=_context31.catch(0);case 7:Adhara.router.navigateTo("/templates",!0);case 8:case"end":return _context31.stop()}},_callee31,this,[[0,5]])}));return function(){return _ref69.apply(this,arguments)}}()},{key:"folder",get:function(){return this.parentView.folder}},{key:"entityName",get:function(){return"folders"}},{key:"messageTemplate",get:function(){return"documents/folder-delete-alert"}},{key:"entityConfigName",get:function(){return"folder"}},{key:"entryName",get:function(){return this.folder.name}}]),DeleteFolderView}(),FoldersListView=function(_AdharaView27){function FoldersListView(){return _classCallCheck(this,FoldersListView),_possibleConstructorReturn(this,(FoldersListView.__proto__||Object.getPrototypeOf(FoldersListView)).apply(this,arguments))}return _inherits(FoldersListView,AdharaView),_createClass(FoldersListView,[{key:"newFolder",value:function(){this.parentView.newFolder()}},{key:"getFolderFor",value:function(folder_id){return this.data.filter(function(folder){return folder.id===+folder_id})[0]}},{key:"editFolder",value:function(event,data){this.parentView.mutateFolder(this.getFolderFor(data.id))}},{key:"deleteFolder",value:function(event,data){this.folder=this.getFolderFor(data.id),Adhara.createView(Adhara.getView(DeleteFolderView,this))}},{key:"template",get:function(){return"documents/folders-list"}},{key:"data",get:function(){var folders=this._data.slice();return folders.unshift(Folder.create(Folder.types.HOME)),folders.push(Folder.create(Folder.types.TRASH)),folders}}],[{key:"cleanUp",value:function(){return Adhara.dataInterface.remove(URLS.folders)}}]),FoldersListView}(),LoginView=function(_AdharaFormView7){function LoginView(){return _classCallCheck(this,LoginView),_possibleConstructorReturn(this,(LoginView.__proto__||Object.getPrototypeOf(LoginView)).apply(this,arguments))}return _inherits(LoginView,AdharaFormView),_createClass(LoginView,[{key:"onSuccess",value:function(data){Adhara.lightReload()}},{key:"template",get:function(){return"auth/login"}},{key:"action",get:function(){return URLS.login}},{key:"newCredentials",get:function(){return!!+Adhara.router.getQueryParam("reset")}}]),LoginView}(),SignupView=function(_AdharaFormView8){function SignupView(){return _classCallCheck(this,SignupView),_possibleConstructorReturn(this,(SignupView.__proto__||Object.getPrototypeOf(SignupView)).apply(this,arguments))}return _inherits(SignupView,AdharaFormView),_createClass(SignupView,[{key:"validate",value:function(data){SignupView.validatePasswordLength(data.password)}},{key:"onSuccess",value:function(data){Adhara.router.updateQueryParams({showOverview:!0},!1,Adhara.router.RouteTypes.OVERRIDE),Adhara.lightReload()}},{key:"template",get:function(){return"auth/signup"}},{key:"action",get:function(){return URLS.signup}},{key:"email",get:function(){return Adhara.router.getQueryParam("email")}}],[{key:"validatePasswordLength",value:function(password){if(password.length<8||password.length>25)throw new Error(Adhara.i18n.get("auth.password.error.length"))}}]),SignupView}(),ForgotPasswordView=function(_AdharaFormView9){function ForgotPasswordView(){return _classCallCheck(this,ForgotPasswordView),_possibleConstructorReturn(this,(ForgotPasswordView.__proto__||Object.getPrototypeOf(ForgotPasswordView)).apply(this,arguments))}return _inherits(ForgotPasswordView,AdharaFormView),_createClass(ForgotPasswordView,[{key:"onSuccess",value:function(data){document.querySelector("#reset-instructions").innerText=Adhara.i18n.get("auth.password.reset.mail"),document.querySelector("#reset-btn").innerText="INSTRUCTIONS SENT TO YOUR EMAIL",setTimeout(function(){document.querySelector("#reset-btn").innerText="RESET PASSWORD"},2500)}},{key:"template",get:function(){return"auth/forgot-password"}},{key:"action",get:function(){return URLS.forgot_password}}]),ForgotPasswordView}(),ResetPasswordView=function(_AdharaFormView10){function ResetPasswordView(){return _classCallCheck(this,ResetPasswordView),_possibleConstructorReturn(this,(ResetPasswordView.__proto__||Object.getPrototypeOf(ResetPasswordView)).apply(this,arguments))}return _inherits(ResetPasswordView,AdharaFormView),_createClass(ResetPasswordView,[{key:"getURLPathParams",value:function(bulk_identifier){return{identifier:Adhara.router.getPathParam("identifier"),token:Adhara.router.getPathParam("token")}}},{key:"formatData",value:function(data){return delete data.confirm_password,data}},{key:"onSuccess",value:function(data){Adhara.router.navigateTo("/login?reset=1"),Adhara.toast.success(Adhara.i18n.get("auth.password.reset.success"))}},{key:"template",get:function(){return"auth/reset-password"}},{key:"action",get:function(){return URLS.reset_password}}]),ResetPasswordView}(),HomeView=function(_AdharaView28){function HomeView(){return _classCallCheck(this,HomeView),_possibleConstructorReturn(this,(HomeView.__proto__||Object.getPrototypeOf(HomeView)).apply(this,arguments))}return _inherits(HomeView,AdharaView),_createClass(HomeView,[{key:"mutateFolder",value:function(folder){this.folder=folder,Adhara.createView(Adhara.getView(FolderMutationView,this))}},{key:"newFolder",value:function(){this.mutateFolder(null)}},{key:"newDocument",value:function(){Adhara.createView(Adhara.getView(DocumentMutationView,this))}},{key:"template",get:function(){return"home-view"}},{key:"contentContainer",get:function(){return{FoldersListView:".home-view #folders",DocumentsListContainer:".home-view #documents"}}},{key:"subViews",get:function(){return[FoldersListView,DocumentsListContainer]}}]),HomeView}(),FourOFour=function(_AdharaView29){function FourOFour(){return _classCallCheck(this,FourOFour),_possibleConstructorReturn(this,(FourOFour.__proto__||Object.getPrototypeOf(FourOFour)).apply(this,arguments))}return _inherits(FourOFour,AdharaView),_createClass(FourOFour,[{key:"template",get:function(){return"common/404"}}]),FourOFour}(),VIEWS={DOCUMENT_DETAILS:"document_details",SETTINGS:"settings",REPORTS:"reports",INTEGRATIONS:"integrations",HOME:"home",LOGIN:"login",SIGNUP:"signup",FORGOT_PASSWORD:"forgot_password",RESET_PASSWORD:"reset_password",MERGE_FORM:"merge_form",FOUR_O_FOUR:"404"},ACCOUNTS="/accounts/v1",API="/api/v1",URLS={login:ACCOUNTS+"/login",signup:ACCOUNTS+"/signup",forgot_password:ACCOUNTS+"/reset_password",reset_password:ACCOUNTS+"/confirm_password_reset/${identifier}/${token}",update_password:ACCOUNTS+"/update_password",logout:ACCOUNTS+"/logout",user_profile:ACCOUNTS+"/me",folders:API+"/folders",folder:API+"/folders/${folder_id}",documents:API+"/templates",document:API+"/templates/${document_id}",document_copy:API+"/templates/${document_id}/copy",document_restore:API+"/templates/${document_id}/restore",document_permanent_delete:API+"/templates/${document_id}/permanent_delete",document_content:API+"/templates/${document_id}/content",document_schema:API+"/templates/${document_id}/schema",merge_info:API+"/templates/${document_id}/merge_urls",batch_process_list:API+"/templates/${document_id}/batch_processes",batch_process:API+"/templates/${document_id}/batch_processes/${batch_process_id}",batch_process_upload:API+"/templates/${document_id}/batch_processes/upload",batch_process_edit_draft:API+"/templates/${document_id}/batch_processes/${batch_process_id}/edit_draft",batch_process_merge:API+"/templates/${document_id}/batch_processes/${batch_process_id}/merge",batch_process_cancel:API+"/templates/${document_id}/batch_processes/${batch_process_id}/cancel",document_test:API+"/templates/${document_id}/test",document_test_data:API+"/templates/${document_id}/test_data",document_deliveries:API+"/templates/${document_id}/deliveries",document_delivery:API+"/templates/${document_id}/deliveries/${delivery_id}",auth_tokens:ACCOUNTS+"/me/auth_tokens",auth_token:ACCOUNTS+"/me/auth_tokens/${auth_token_id}",subscription:ACCOUNTS+"/subscription",portal_session:ACCOUNTS+"/portal_session",history:API+"/history",history_download:API+"/history/${history_id}/download",linked_accounts:API+"/linked_accounts",linked_account:API+"/linked_accounts/${account_id}",plans:"/plans",banner_notifications:"/banner_notifications",meta:"/meta",personalization:API+"/personalization/",tz:"/tz?v="+window.version,google_drive_folders:API+"/google_drive_folders/",upload:function(purpose,query){return API+"/upload_files?for="+purpose+"&query="+query},delete_upload:function(id,purpose){return API+"/upload_files/"+id+"?for="+purpose}},AppConfig=function(){var DataConfig={logout:{url:URLS.logout,allowed_query_types:["get"],default_query_type:"get",reuse:{enable:!1}},container:{batch_data_override:[{url:URLS.meta,identifier:"meta",query_type:"get",blob:Meta,reuse:{enable:!1}},{url:URLS.user_profile,identifier:"profile",query_type:"get",blob:UserProfile,reuse:!0},{url:URLS.personalization,identifier:"personalization",query_type:"get",blob:Personalization,reuse:{enable:!1}},{url:URLS.banner_notifications,identifier:"banner_notifications",query_type:"get_list",blob:BannerNotification,reuse:{enable:!1}},{url:URLS.subscription,identifier:"subscription",query_types:"get",blob:Subscription,reuse:{scope:"in_page",timeout:1e4}}]},folders:{url:URLS.folders,allowed_query_types:["get_list","post"],default_query_type:"get_list",blob:Folder,reuse:{scope:"in_page"}},folder:{url:URLS.folder,allowed_query_types:["put","delete"],blob:Folder,reuse:{scope:"in_page"}},documents:{url:URLS.documents,allowed_query_types:["get_list","post"],default_query_type:"get_list",blob:Doc,reuse:{scope:"in_page"}},document:{url:URLS.document,allowed_query_types:["get","put","delete"],blob:Doc,reuse:{scope:"in_page"}},document_copy:{url:URLS.document_copy,allowed_query_types:["post"]},document_restore:{url:URLS.document_restore,allowed_query_types:["delete"]},document_permanent_delete:{url:URLS.document_permanent_delete,allowed_query_types:["post"]},document_content:{url:URLS.document_content,allowed_query_types:["get","put"],default_query_type:"get",blob:Doc,reuse:{enable:!1}},document_file:{batch_data_override:[{url:URLS.document_content,identifier:"document_content",query_type:"get",blob:Doc,reuse:{enable:!1}},{url:URLS.linked_accounts,identifier:"linked_accounts",query_type:"get_list",blob:LinkedAccount,reuse:{scope:"in_page"}}]},document_schema:{url:URLS.document_schema,allowed_query_types:["get"],default_query_type:"get",blob:Doc,reuse:{scope:"in_page"}},merge_info:{batch_data_override:[{url:URLS.merge_info,query_type:"get_list",identifier:"merge_info",blob:MergeInfo,reuse:{scope:"in_page"}},{url:URLS.document_schema,identifier:"schema",query_type:"get",blob:Doc,reuse:{scope:"in_page"}}]},batch_processes:{batch_data_override:[{url:URLS.document_schema,identifier:"document_schema",query_type:"get",blob:Doc,reuse:{scope:"in_page"}}]},batch_processes_list:{allowed_query_types:["get_list"],url:URLS.batch_process_list,identifier:"batch_processes",blob:BatchProcess,reuse:{enable:!1}},batch_process_one:{url:URLS.batch_process,allowed_query_types:["get"],identifier:"batch_processes",default_query_type:"get",blob:BatchProcess,reuse:{enable:!1}},batch_process_merge:{url:URLS.batch_process_merge,allowed_query_types:["post"]},batch_process_edit_draft:{url:URLS.batch_process_edit_draft,allowed_query_types:["get"],reuse:{enable:!1}},batch_process_cancel:{url:URLS.batch_process_cancel,allowed_query_types:["post"]},document_deliveries:{url:URLS.document_deliveries,allowed_query_types:["get_list","post"],default_query_type:"get_list",blob:DocumentDelivery,reuse:{scope:"in_page"}},delivery_unique:{url:URLS.document_delivery,allowed_query_types:["delete"],default_query_type:"delete"},document_delivery:{batch_data_override:[{url:URLS.document_delivery,identifier:"delivery",query_type:"get",blob:DocumentDelivery,reuse:{scope:"in_page"}},{url:URLS.document_schema,identifier:"schema",query_type:"get",blob:Doc,reuse:{scope:"in_page"}}]},document_details:{batch_data_override:[{url:URLS.folders,identifier:"folders",query_type:"get_list",blob:Folder,reuse:{scope:"in_page"}},{url:URLS.document,identifier:"document",query_type:"get",blob:Doc,reuse:{scope:"in_page"}},{url:URLS.document_deliveries,identifier:"deliveries",query_type:"get_list",blob:DocumentDelivery,reuse:{scope:"in_page"}}]},document_preferences:{batch_data_override:[{url:URLS.tz,identifier:"tz",query_type:"get_list",blob:TimeZone,reuse:{enable:!0,timeout:864e5}},{url:URLS.document_schema,identifier:"schema",query_type:"get",blob:Doc,reuse:{scope:"in_page"}}]},subscription:{url:URLS.subscription,identifier:"subscription",allowed_query_types:["get","post"],default_query_type:"get",blob:Subscription,reuse:{scope:"in_page",timeout:1e4}},license_plans:{batch_data_override:[{url:URLS.subscription,identifier:"subscription",query_type:"get",blob:Subscription,reuse:{scope:"in_page",timeout:1e4}},{url:URLS.plans,identifier:"plans",query_type:"get_list",blob:LicensePlan,reuse:{scope:"in_page"}}]},document_test_data:{batch_data_override:[{url:URLS.document_schema,identifier:"schema",query_type:"get",blob:Doc,reuse:{scope:"in_page"}},{url:URLS.document_test_data,identifier:"test_data",query_type:"get",reuse:{enable:!0}}]},api_settings:{url:URLS.auth_tokens,allowed_query_types:["get_list","post"],default_query_type:"get_list",blob:ApiSettings,reuse:{scope:"in_page"}},api_setting:{url:URLS.auth_token,allowed_query_types:["put","delete"],blob:ApiSettings},history:{url:URLS.history,allowed_query_types:["get_list"],blob:DocumentHistory,reuse:{enable:!1}},linked_accounts:{url:URLS.linked_accounts,allowed_query_types:["get_list","post"],default_query_type:"get_list",blob:LinkedAccount,reuse:{scope:"in_page"}},linked_account:{url:URLS.linked_account,allowed_query_types:["put","delete"],blob:LinkedAccount,reuse:{scope:"in_page"}},tz:{url:URLS.tz,allowed_query_types:["get_list"],default_query_type:"get_list",blob:TimeZone,reuse:{enable:!0,timeout:864e5}},security_setting:{}};return{logout:{data_config:DataConfig.logout},container:{data_config:DataConfig.container,view:ContainerView},folders:{data_config:DataConfig.folders,view:FoldersListView},folder:{data_config:DataConfig.folder},documents:{data_config:DataConfig.documents,view:DocumentsListView},document:{data_config:DataConfig.document},document_copy:{data_config:DataConfig.document_copy},document_restore:{data_config:DataConfig.document_restore},document_permanent_delete:{data_config:DataConfig.document_permanent_delete},document_details:{data_config:DataConfig.document_details,view:DocumentDetailsHomeView},document_content:{data_config:DataConfig.document_content,view:DocumentEditorView},document_file:{data_config:DataConfig.document_file,view:DocumentFileView},document_rhs_schema:{data_config:DataConfig.document_schema,view:DocumentDetailsMergeFieldsView},document_test:{data_config:DataConfig.document_test_data,view:DocumentTestView},merge_form_schema:{data_config:DataConfig.document_schema,view:MergeFormView},merge_info:{data_config:DataConfig.merge_info,view:DocumentMergeInfoView},delivery:{data_config:DataConfig.document_delivery,view:DeliveryMutationView},delivery_unique:{data_config:DataConfig.delivery_unique},api_settings:{data_config:DataConfig.api_settings,view:ApiSettingsView},api_setting:{data_config:DataConfig.api_setting},generate_api_setting:{data_config:DataConfig.api_settings},history:{data_config:DataConfig.history,view:ReportsHistoryListView},profile_settings:{data_config:DataConfig.tz,view:ProfileSettingsView},document_preferences:{data_config:DataConfig.document_preferences,view:DocumentPreferencesView},license_plans:{data_config:DataConfig.license_plans,view:LicenseView},subscription:{data_config:DataConfig.subscription,view:LicensePlanChangeView},subscription_mini:{data_config:DataConfig.subscription,view:SubscriptionUsageMini},linked_accounts:{data_config:DataConfig.linked_accounts,view:LinkedAccountsListView},linked_account:{data_config:DataConfig.linked_account},content_change:{data_config:DataConfig.linked_accounts,view:FileUploadView},batch_process_view:{data_config:DataConfig.batch_processes,view:DocumentGenerateBatchProcessView},batch_process_list:{data_config:DataConfig.batch_processes_list,view:DocumentGenerateBatchProcessList},batch_process_merge:{data_config:DataConfig.batch_process_merge},batch_process_edit_draft:{data_config:DataConfig.batch_process_edit_draft},batch_process_cancel:{data_config:DataConfig.batch_process_cancel},batch_process_one:{data_config:DataConfig.batch_process_one}}}();this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates["auth/container"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="page-login container-fluid">\n    <div class="overlay"></div>\n    <div class="row position-absolute w100 h100">\n        <div class="col-md-8 h100 centre-all auth-display hidden-xs hidden-sm hidden-md">\n            <div class="text-left w100">\n                <h1>Create dynamic <span id="typewriter" class="typewriter"></span></h1>\n                <h1>And automate your business</h1>\n            </div>\n        </div>\n        <div class="col-md-4 h100 login-box-container">\n            <div class="login-box-offset centre-all h100">\n                <div class="login-box">\n                    <div class="container-wrapper h100">\n                        <div class="panel h100">\n                            <div class="panel-body h100 centre-all">\n                                <div class="login-logo">\n                                    <img src="'+container.escapeExpression((helpers.static_img||depth0&&depth0.static_img||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"logo_master.png",{name:"static_img",hash:{},data:data}))+'" class="logo">\n                                </div>\n                                <div id="main-content" class="w100"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="auth-footer text-muted">\n                    <div class="cw-notice"><a href="https://docupilot.app">&copy; Flackon, Inc.</a></div>\n                </div>\n            </div>\n        </div>\n        <div class="col-md-8 h100 centre-all auth-display hidden-lg">\n            <div class="text-left w100">\n                <h1>Create dynamic <span id="typewriter" class="typewriter"></span></h1>\n                <h1>And automate your business</h1>\n            </div>\n        </div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["auth/forgot-password"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<h3 class="text-center">Password Reset</h3>\n<form>\n    <p class="text-center" id="reset-instructions">Enter the email address you use to sign in to your documerge account</p>\n    <div class="form-group">\n        <input type="email" class="form-control" placeholder="Email" name="email" required>\n    </div>\n    <div class="row">\n        <div>\n            <button type="submit" id="reset-btn" class="btn btn-primary btn-block btn-flat">RESET PASSWORD</button>\n        </div>\n    </div>\n    <div class="row mt-1">\n        <small class="text-muted pull-right">\n            <a href="/login">Login</a>\n        </small>\n    </div>\n</form>'},useData:!0}),this.Handlebars.templates["auth/login"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return'        <p class="text-center">Use new password to login.</p>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return"<form>\n"+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.newCredentials:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'    <div class="callout callout-danger hide">\n        <p>Invalid email address or password</p>\n    </div>\n    <div class="form-group">\n        <input type="email" class="form-control" placeholder="Email" name="email" required>\n    </div>\n    <div class="form-group">\n        <input type="password" class="form-control" placeholder="Password" name="password" required>\n    </div>\n    <div class="row">\n        <div>\n            <a href="/forgot_password" class="form-group pull-right">Forgot password?</a>\n        </div>\n    </div>\n    <div class="row">\n        <div>\n            <button type="submit" class="btn btn-primary btn-block btn-flat">Sign In</button>\n        </div>\n    </div>\n</form>\n<a href="/signup" class="text-center">Don\'t have an account?<br/>Signup for free today</a>'},useData:!0}),this.Handlebars.templates["auth/reset-password"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<h3 class="text-center">Password Reset</h3>\n<form>\n    <p class="text-center">Enter your new password.</p>\n    <div class="form-group">\n        <input type="password" class="form-control" placeholder="Password" name="password" required>\n    </div>\n    <div class="form-group">\n        <input type="password" class="form-control" placeholder="Confirm password" name="confirm_password" required>\n    </div>\n    <div class="row">\n        <div>\n            <button type="submit" class="btn btn-primary btn-block btn-flat">RESET PASSWORD</button>\n        </div>\n    </div>\n    <div class="row mt-4">\n        <small class="text-muted pull-right">\n            <a href="/login">Login</a>\n        </small>\n    </div>\n</form>'},useData:!0}),this.Handlebars.templates["auth/signup"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper;return'<form>\n    <div class="form-group has-feedback row">\n        <div class="col-xs-6">\n            <input type="text" class="form-control" placeholder="First Name" name="first_name" maxlength="30" required>\n            <span class=" form-control-feedback"></span>\n        </div>\n        <div class="col-xs-6">\n            <input type="text" class="form-control" placeholder="Last Name" name="last_name" maxlength="30" required>\n        </div>\n    </div>\n    <div class="form-group">\n        <input type="email" class="form-control" placeholder="Email" name="email" value="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.email||(null!=depth0?depth0.email:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"email",hash:{},data:data}):helper)+'" maxlength="255" required>\n    </div>\n    <div class="form-group">\n        <input type="password" class="form-control" placeholder="Password" name="password" required>\n    </div>\n    <div class="row">\n        <button type="submit" class="btn btn-primary btn-block btn-flat">SIGN UP</button>\n    </div>\n</form>\n<div class="row" style="margin-bottom: 2rem;">\n    By signing up, you agree to our\n    <a href="https://docupilot.app/terms-and-conditions.html" target="_blank" class="text-center">T&amp;C</a>\n    and\n    <a href="https://docupilot.app/privacy-policy.html" target="_blank" class="text-center">Privacy Policy</a>\n</div>\n<div class="row">\n    <a href="/login" class="text-center">Already have an account ? Login</a>\n</div>'},useData:!0}),this.Handlebars.templates["common/404"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="container x404 centre-all">\n    \x3c!--<h3 class="oops-content">Oops..! You have hit the wall. Time to take a U turn!</h3>--\x3e\n    <h3>\n        \x3c!--looks like rabbit has escaped while trying to catch fish!!! But the fish is also gone!!!--\x3e\n        404!\n    </h3>\n    <h4>\n        <a href="/">Go Home!</a>\n    </h4>\n</div>\n\n'},useData:!0}),this.Handlebars.templates["common/data-error"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="container">\n    <div class="row">\n        <div class="col-md-12">\n            <div class="no-data">\n                <h3 class="text-center">Oops!</h3>\n                <code>Error occurred</code>\n            </div>\n        </div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["common/fetching-data"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="fetching-container">\n    <div class="row">\n        <div class="col-md-12">\n            <div class="no-data">\n                <img class="fetching-animation" src="'+container.escapeExpression((helpers.static_img||depth0&&depth0.static_img||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"logo0.05.gif",{name:"static_img",hash:{},data:data}))+'" />\n                <h3 class="text-center">Fetching...</h3>\n            </div>\n        </div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["common/generic-delete-alert"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,helper;return"    "+(null!=(stack1="function"==typeof(helper=null!=(helper=helpers.message||(null!=depth0?depth0.message:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"message",hash:{},data:data}):helper)?stack1:"")+"\n"},3:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return"    "+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,null!=depth0?depth0.entityName:depth0,".del_message",{name:"append",hash:{},data:data}),(helpers.append||depth0&&depth0.append||alias2).call(alias1,null!=depth0?depth0.entryName:depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"\n"},5:function(container,depth0,helpers,partials,data){var helper;return'    <div class="row">\n        <div class="col-md-12">\n            <p>If you are sure, type <b>'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.strictConsentText||(null!=depth0?depth0.strictConsentText:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"strictConsentText",hash:{},data:data}):helper)+'</b> in the box below and confirm</p>\n            <div class="form-group">\n                <input type="text" id="strict-consent" class="form-control"\n                       data-onchange="onConsentUpdate"\n                       data-onkeyup="onConsentUpdate"\n                       data-onpaste="onConsentUpdate"/>\n            </div>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.message:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.strictConsentText:depth0,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.noop,data:data}))?stack1:"")},useData:!0}),this.Handlebars.templates["common/help-container"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return'<div class="help-container">\n    <div class="box-header with-border">\n        <h3 class="box-title">'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.contentTitle||(null!=depth0?depth0.contentTitle:depth0))?helper:alias2)?helper.call(alias1,{name:"contentTitle",hash:{},data:data}):helper)+'</h3>\n        <i class="fas fa-info-circle pull-right"></i>\n    </div>\n    <div class="box-body">\n        '+(null!=(stack1="function"==typeof(helper=null!=(helper=helpers.contentTemplate||(null!=depth0?depth0.contentTemplate:depth0))?helper:alias2)?helper.call(alias1,{name:"contentTemplate",hash:{},data:data}):helper)?stack1:"")+"\n    </div>\n</div>"},useData:!0}),this.Handlebars.templates["common/no-data"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="">\n    <div class="row">\n        <div class="col-md-12">\n            <div class="no-data">\n                <h3 class="text-center">No Data Available</h3>\n            </div>\n        </div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["components/chart"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="chart '+alias4(typeof(helper=null!=(helper=helpers.wrapperClass||(null!=depth0?depth0.wrapperClass:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"wrapperClass",hash:{},data:data}):helper)+'" style="width:'+alias4(typeof(helper=null!=(helper=helpers.width||(null!=depth0?depth0.width:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"width",hash:{},data:data}):helper)+"px; height:"+alias4(typeof(helper=null!=(helper=helpers.height||(null!=depth0?depth0.height:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"height",hash:{},data:data}):helper)+'px">\n    <canvas width="'+alias4(typeof(helper=null!=(helper=helpers.width||(null!=depth0?depth0.width:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"width",hash:{},data:data}):helper)+'" height="'+alias4(typeof(helper=null!=(helper=helpers.height||(null!=depth0?depth0.height:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"height",hash:{},data:data}):helper)+'"></canvas>\n</div>'},useData:!0}),this.Handlebars.templates["components/file-widget"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                    <div class="col-md-3 col-lg-4">\n                        <div class="chip">\n                            <a href="'+alias4("function"==typeof(helper=null!=(helper=helpers.url||(null!=depth0?depth0.url:depth0))?helper:alias2)?helper.call(alias1,{name:"url",hash:{},data:data}):helper)+'" target="_blank" class="ellipsis" title="'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'">'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"</a>\n                            "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.size:depth0,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data}))?stack1:"")+'\n                            <b class="remove fas fa-times pointer" data-onclick="deleteAttachment" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"></b>\n                        </div>\n                    </div>\n'},2:function(container,depth0,helpers,partials,data){var helper;return'<span class="text-muted">('+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.size||(null!=depth0?depth0.size:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"size",hash:{},data:data}):helper)+")</span>"},4:function(container,depth0,helpers,partials,data){return"multiple"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<form>\n    <div class="file-widget">\n        <div class="preview">\n            <div class="row">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.files:depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'            </div>\n        </div>\n        <input type="file" name="'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'" class="form-control" id="file-upload"\n               data-onchange="uploadAttachments" '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.multiple:depth0,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))?stack1:"")+"\n               placeholder="+alias4("function"==typeof(helper=null!=(helper=helpers.placeholder||(null!=depth0?depth0.placeholder:depth0))?helper:alias2)?helper.call(alias1,{name:"placeholder",hash:{},data:data}):helper)+' accept="'+alias4("function"==typeof(helper=null!=(helper=helpers.allowedExtensions||(null!=depth0?depth0.allowedExtensions:depth0))?helper:alias2)?helper.call(alias1,{name:"allowedExtensions",hash:{},data:data}):helper)+'"/>\n    </div>\n</form>\n'},useData:!0}),this.Handlebars.templates["components/html-editor"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<div class="wysiwyg-editor-container '+alias4("function"==typeof(helper=null!=(helper=helpers.containerClass||(null!=depth0?depth0.containerClass:depth0))?helper:alias2)?helper.call(alias1,{name:"containerClass",hash:{},data:data}):helper)+'">\n    <div class="html-editor" id="'+alias4("function"==typeof(helper=null!=(helper=helpers.editorId||(null!=depth0?depth0.editorId:depth0))?helper:alias2)?helper.call(alias1,{name:"editorId",hash:{},data:data}):helper)+'" style="display: none;"></div>\n</div>\n'},useData:!0}),this.Handlebars.templates["components/toggler"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"checked"},3:function(container,depth0,helpers,partials,data){return"round"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{};return'<label class="switch">\n  <input type="checkbox" '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.checked:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+' data-onchange="onCheckboxChanged" data-id="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:helpers.helperMissing)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n  <span class="slider '+(null!=(stack1=helpers.unless.call(alias1,null!=depth0?depth0.square:depth0,{name:"unless",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:"")+'"></span>\n</label>\n'},useData:!0}),this.Handlebars.templates["container-usage"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'<div class="d-inline-block v-top upgrade">\n    <a class="btn '+alias2(alias1(null!=(stack1=null!=depth0?depth0.upgradeButton:depth0)?stack1.btn_class:stack1,depth0))+'" href="/settings/subscription">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.upgradeButton:depth0)?stack1.text:stack1,depth0))+"</a>\n</div>\n"},3:function(container,depth0,helpers,partials,data){return"        progress-bar-danger\n"},5:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.percentUsed:stack1,">",60,{name:"if",hash:{},fn:container.program(6,data,0),inverse:container.noop,data:data}))?stack1:""},6:function(container,depth0,helpers,partials,data){return"        progress-bar-warning\n        "},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=container.lambda,alias3=container.escapeExpression;return(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.upgradeButton:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'<div href="/settings/subscription" route class="consumed d-inline-block">\n    <div class="usage-text text-muted">\n        '+alias3(alias2(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.documentsCreated:stack1,depth0))+"/"+alias3(alias2(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.limit:stack1,depth0))+'\n    </div>\n    <div class="progress">\n        <div class="progress-bar progress-bar-striped bg-info\n'+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.percentUsed:stack1,">",80,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))?stack1:"")+'" role="progressbar" style="width:'+alias3(alias2(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.percentUsed:stack1,depth0))+'%"></div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates.container=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'    <div id="banner-notifications">\n        <div class="banner-content">\n            <i class="fas fa-times pointer" data-onclick="closeNotification" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"></i>\n            '+alias4("function"==typeof(helper=null!=(helper=helpers.content||(null!=depth0?depth0.content:depth0))?helper:alias2)?helper.call(alias1,{name:"content",hash:{},data:data}):helper)+"\n            "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.action:depth0,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data}))?stack1:"")+"\n            <i class=\"fas fa-chevron-up fa-chevron-down pointer\"\n                             onclick=\"\n                         document.querySelector('#banner-notifications').classList.toggle('banner-collapsed');\n                         this.classList.toggle('fa-chevron-up');\">\n            </i>\n        </div>\n    </div>\n"},2:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'<a class="btn btn-link" '+alias1((helpers.addAttr||depth0&&depth0.addAttr||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=depth0?depth0.action:depth0)?stack1.attributes:stack1,{name:"addAttr",hash:{},data:data}))+">"+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.action:depth0)?stack1.text:stack1,depth0))+"</a> "},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div id="dmio-wrapper" class="wrapper container-wrapper" style="height:auto;">\n    <header class="main-header">'+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"structure/header",depth0,{name:"include",hash:{},data:data}))+'</header>\n    <aside class="main-sidebar">\n        <div href="/" route class="logo">\n            <span class="logo-mini logo-item"></span>\n            <span class="logo-lg logo-item"></span>\n        </div>\n        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"structure/lhs-pane",depth0,{name:"include",hash:{},data:data}))+'\n        <footer class="main-footer">'+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"structure/footer",{name:"include",hash:{},data:data}))+'</footer>\n    </aside>\n    <div class="content-wrapper" id="content-wrapper" style="min-height: 420px;">\n        <section class="content">\n            <div id="main-content"></div>\n        </section>\n    </div>\n    <div id="alertHolder"></div>\n</div>\n'+(null!=(stack1=helpers.with.call(alias1,null!=depth0?depth0.bannerNotification:depth0,{name:"with",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'<div id="overview-frame" class="hide" data-onclick="hideOverview">\n    <section>\n        <div class="overview-head">\n            <h1>Hi '+alias3(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.profile:stack1)?stack1.first_name:stack1,depth0))+', Welcome to Docupilot!</h1>\n        </div>\n        <iframe id="yt-player" width="720" height="405"\n                src="https://www.youtube-nocookie.com/embed/BXFeTPKbPCk?enablejsapi=1" frameborder="0"\n                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;"\n                allowfullscreen></iframe>\n        <div class="overview-foot">\n            <button class="btn btn-primary" data-onclick="hideOverview">Get Started</button>\n        </div>\n    </section>\n</div>\n<iframe src="" id="test-download-frame" class="hide"></iframe>'},useData:!0}),this.Handlebars.templates["delivery/array-field-row"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{};return'        <div class="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.class||(null!=depth0?depth0.class:depth0))?helper:helpers.helperMissing)?helper.call(alias1,{name:"class",hash:{},data:data}):helper)+'">\n            <div class="form-group '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.tokens:depth0,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.options:depth0,{name:"if",hash:{},fn:container.program(4,data,0,blockParams,depths),inverse:container.program(10,data,0,blockParams,depths),data:data}))?stack1:"")+"            </div>\n        </div>\n"},2:function(container,depth0,helpers,partials,data){return"has-feedback"},4:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=container.lambda,alias2=container.escapeExpression,alias3=null!=depth0?depth0:container.nullContext||{},alias4=helpers.helperMissing;return'                    <select name="'+alias2(alias1(null!=depths[1]?depths[1].type:depths[1],depth0))+"-"+alias2("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias4)?helper.call(alias3,{name:"name",hash:{},data:data}):helper)+"-"+alias2(alias1(null!=depths[1]?depths[1].idx:depths[1],depth0))+'" class="form-control" title="'+alias2("function"==typeof(helper=null!=(helper=helpers.display||(null!=depth0?depth0.display:depth0))?helper:alias4)?helper.call(alias3,{name:"display",hash:{},data:data}):helper)+'" '+(null!=(stack1=helpers.if.call(alias3,null!=depth0?depth0.required:depth0,{name:"if",hash:{},fn:container.program(5,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">\n"+(null!=(stack1=helpers.each.call(alias3,null!=depth0?depth0.options:depth0,{name:"each",hash:{},fn:container.program(7,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                    </select>\n"},5:function(container,depth0,helpers,partials,data){return"required"},7:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                            <option value="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'" '+(null!=(stack1=helpers.if.call(alias1,helpers.lookup.call(alias1,null!=depths[2]?depths[2].data:depths[2],null!=depths[1]?depths[1].name:depths[1],{name:"lookup",hash:{},data:data}),"===",null!=depth0?depth0.id:depth0,{name:"if",hash:{},fn:container.program(8,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">"+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"</option>\n"},8:function(container,depth0,helpers,partials,data){return"selected"},10:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return"                    <input "+alias3((helpers.addAttr||depth0&&depth0.addAttr||alias2).call(alias1,null!=depth0?depth0.attributes:depth0,'{"class": "form-control"}',{name:"addAttr",hash:{},data:data}))+' name="'+alias3(alias4(null!=depths[1]?depths[1].type:depths[1],depth0))+"-"+alias3("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"-"+alias3(alias4(null!=depths[1]?depths[1].idx:depths[1],depth0))+'"\n                           value="'+alias3(helpers.lookup.call(alias1,null!=depths[1]?depths[1].data:depths[1],null!=depth0?depth0.name:depth0,{name:"lookup",hash:{},data:data}))+'" title="'+alias3("function"==typeof(helper=null!=(helper=helpers.display||(null!=depth0?depth0.display:depth0))?helper:alias2)?helper.call(alias1,{name:"display",hash:{},data:data}):helper)+'" placeholder="'+alias3("function"==typeof(helper=null!=(helper=helpers.display||(null!=depth0?depth0.display:depth0))?helper:alias2)?helper.call(alias1,{name:"display",hash:{},data:data}):helper)+'"\n                           '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.required:depth0,{name:"if",hash:{},fn:container.program(5,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"/>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.tokens:depth0,{name:"if",hash:{},fn:container.program(11,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")},11:function(container,depth0,helpers,partials,data){return"                        "+container.escapeExpression((helpers.include||depth0&&depth0.include||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"document_details/field-picker",{name:"include",hash:{},data:data}))+"\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<div class="row" id="row-'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+"-"+alias4("function"==typeof(helper=null!=(helper=helpers.idx||(null!=depth0?depth0.idx:depth0))?helper:alias2)?helper.call(alias1,{name:"idx",hash:{},data:data}):helper)+'">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.fields:depth0,{name:"each",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'    <div class="col-md-1">\n        <div class="remove-icon col-md-1" data-type="'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" data-idx="'+alias4("function"==typeof(helper=null!=(helper=helpers.idx||(null!=depth0?depth0.idx:depth0))?helper:alias2)?helper.call(alias1,{name:"idx",hash:{},data:data}):helper)+'" data-onclick="removeRow"></div>\n    </div>\n</div>'},useData:!0,useDepths:!0}),this.Handlebars.templates["delivery/array-field"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.values:depth0,{name:"each",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:""},2:function(container,depth0,helpers,partials,data,blockParams,depths){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return"            "+container.escapeExpression((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field-row",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"type",null!=depths[1]?depths[1].type:depths[1],"idx",data&&data.index,"fields",null!=depths[1]?depths[1].fields:depths[1],"data",depth0,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+"\n"},4:function(container,depth0,helpers,partials,data,blockParams,depths){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return"        "+container.escapeExpression((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field-row",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"type",null!=depths[1]?depths[1].type:depths[1],"idx",0,"fields",null!=depths[1]?depths[1].fields:depths[1],{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+"\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<div id="'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.values:depth0,{name:"if",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.program(4,data,0,blockParams,depths),data:data}))?stack1:"")+'</div>\n<div class="row">\n    <div class="col-md-1 col-md-offset-11">\n        <div class="add-new-icon" data-type="'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" data-onclick="addRow"></div>\n    </div>\n</div>'},useData:!0,useDepths:!0}),this.Handlebars.templates["delivery/aws_s3-delivery"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="form-group has-feedback">\n    <label for="bucket">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.aws_s3.bucket",{name:"i18n",hash:{},data:data}))+"</label>\n    "+alias3(helpers.log.call(alias1,null!=depth0?depth0.data:depth0,{name:"log",hash:{},data:data}))+'\n    <input id="bucket" class="form-control" name="bucket" placeholder=\'Bucket name\' value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.bucket:stack1,depth0))+'"/>\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n</div>\n<div class="form-group has-feedback">\n    <label for="key_prefix">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.aws_s3.key_prefix",{name:"i18n",hash:{},data:data}))+'</label>\n    <input id="key_prefix" class="form-control" name="key_prefix" placeholder=\'Docupilot/{{PrefixPath}}/\' value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.keyPrefix:stack1,depth0))+'"/>\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+"\n</div>"},useData:!0}),this.Handlebars.templates["delivery/delivery-accounts"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.accounts:stack1,{name:"each",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:""},2:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'        <option value="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'" '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.id:depth0,"===",null!=(stack1=null!=(stack1=null!=depths[1]?depths[1].data:depths[1])?stack1.delivery:stack1)?stack1.account:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">"+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"</option>\n"},3:function(container,depth0,helpers,partials,data){return"selected"},5:function(container,depth0,helpers,partials,data){return'    <option value="" selected>--Add New Account--</option>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.accounts:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.program(5,data,0,blockParams,depths),data:data}))?stack1:""},useData:!0,useDepths:!0}),this.Handlebars.templates["delivery/delivery-form"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <div class="form-group has-feedback">\n                    <label for="account">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".account",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+'</label>\n                    <select id="account" name="account" class="form-control" data-onchange="accountChange" required>\n                        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/delivery-accounts",depth0,{name:"include",hash:{},data:data}))+"\n                    </select>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.accountTypes:stack1,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.program(5,data,0),data:data}))?stack1:"")+"                </div>\n"},2:function(container,depth0,helpers,partials,data){var stack1;return'                        <span class="input-add-account form-control-feedback" data-toggle="overflow-menu" data-onclick="toggleOverflow"></span>\n                        <div class="overflow-menu add-account-options">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.accountTypes:stack1,{name:"each",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:"")+"                        </div>\n"},3:function(container,depth0,helpers,partials,data){var alias1=container.lambda,alias2=container.escapeExpression;return'                                <div class="overflow-item" data-onclick="openOAuthWindow" data-accounttype="'+alias2(alias1(depth0,depth0))+'" >\n                                    '+alias2(alias1(depth0,depth0))+"\n                                </div>\n"},5:function(container,depth0,helpers,partials,data){return'                        <span class="input-add-account form-control-feedback" data-onclick="openOAuthWindow"></span>\n'},7:function(container,depth0,helpers,partials,data){var helper;return'                <button class="btn btn-default" href="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.goBackURL||(null!=depth0?depth0.goBackURL:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"goBackURL",hash:{},data:data}):helper)+'" data-back="true" route>Close</button>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<form class="delivery-form" name="new_'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'_delivery">\n    <div class="row delivery-form-content">\n        <div class="col-lg-10 col-lg-offset-1 col-xs-12">\n            <h3>'+alias4("function"==typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+'</h3>\n            <div class="form-group">\n                <label for="name">'+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.generics.name",{name:"i18n",hash:{},data:data}))+'</label>\n                <input type="text" id="name" name="name" class="form-control" value="'+alias4(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.name:stack1,depth0))+'" maxlength="250" required/>\n                <small class="text-muted">Enter a name for delivery, just for reference. For example: send email to client</small>\n            </div>\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isExternal:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'            <div id="delivery-fields">\n                '+alias4((helpers.include||depth0&&depth0.include||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery/",null!=depth0?depth0.type:depth0,"-delivery",{name:"append",hash:{},data:data}),depth0,{name:"include",hash:{},data:data}))+'\n            </div>\n        </div>\n    </div>\n    <div class="delivery-form-footer">\n        <div class="col-lg-10 col-lg-offset-1 col-xs-12">\n            <button type="submit" class="btn btn-primary">'+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.save",{name:"i18n",hash:{},data:data}))+"</button>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isAdd:depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))?stack1:"")+'        </div>\n    </div>\n</form>\n<div id="form-foot"></div>'},useData:!0}),this.Handlebars.templates["delivery/delivery-test"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="container" style="margin-top: 20px;">\n    <code>TODO delivery test page...!</code>\n</div>'},useData:!0}),this.Handlebars.templates["delivery/delivery-types-list"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.disabled:depth0,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.program(4,data,0,blockParams,depths),data:data}))?stack1:"")+'                <div class="card pointer delivery-type">\n                    <h4>'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".label",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"</h4>\n                    "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.disabled:depth0,{name:"if",hash:{},fn:container.program(6,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'\n                    <img class="logo-'+alias3("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery_logos/",null!=depth0?depth0.logo:depth0,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'">\n                    <p>'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".delivery_description",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"</p>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.disabled:depth0,{name:"if",hash:{},fn:container.program(8,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                </div>\n            </div>\n"},2:function(container,depth0,helpers,partials,data){return'                <div class="col-xlg-4 col-md-6 op5" title="Coming Soon...">\n'},4:function(container,depth0,helpers,partials,data,blockParams,depths){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                <div data-delivery="'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" class="col-xlg-4 col-md-6" href="'+alias4(container.lambda(null!=depths[1]?depths[1].partialLink:depths[1],depth0))+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" route>\n'},6:function(container,depth0,helpers,partials,data){return"<div>Coming Soon...</div>"},8:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return'                        <button class="btn btn-primary i-want-this-delivery" onclick="AppUtils.openFeedback(\'I wan\\\'t '+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".label",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+" integration');\">\n                            I wan't this integration\n                        </button>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'\x3c!--<div class="sidebar-form">\n    <div>\n        <input type="search" placeholder="Search Deliveries...">\n        <span class="search-button">\n            <i class="wb wb-search"></i>\n        </span>\n    </div>\n</div>--\x3e\n<div class="row delivery-types">\n    <div class="col-md-10 col-md-offset-1">\n        <h3>'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,"delivery.add.title",{name:"i18n",hash:{},data:data}))+'</h3>\n        <div class="row">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.deliveryTypeConfigs:depth0,{name:"each",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"        </div>\n        </div>\n    </div>\n</div>"},useData:!0,useDepths:!0}),this.Handlebars.templates["delivery/docu_sign-delivery"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"checked"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="form-group">\n\n    <div class="form-group has-feedback">\n        <label for="subject">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.subject",{name:"i18n",hash:{},data:data}))+'</label>\n        <input id="subject" class="form-control" name="subject" value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.subject:stack1,depth0))+'"/>\n        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="message">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.message",{name:"i18n",hash:{},data:data}))+'</label>\n        <textarea id="message" class="form-control" name="message">'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.message:stack1,depth0))+"</textarea>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group">\n        <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.signers",{name:"i18n",hash:{},data:data}))+'\n            <i class="fa fa-info-circle" data-toggle="overflow-menu" data-onclick="toggleOverflow"></i>\n            <div class="overflow-menu">\n                '+(null!=(stack1=(helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.signers.help",{name:"i18n",hash:{},data:data}))?stack1:"")+'\n                <a href="https://help.docupilot.app/deliveries/docusign" target="_blank">learn more</a>\n            </div>\n        </label>\n        <div class="form-check"></div>\n        <input class="form-check-input" type="checkbox" id="sequenced_signing" name="sequenced_signing" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.sequencedSigning:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n        <label class="form-check-label font-normal" for="sequenced_signing">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.sequenced_signing",{name:"i18n",hash:{},data:data}))+"</label>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.signersList:stack1,"type","signers","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.signers:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <div class="form-check"></div>\n        <input class="form-check-input" type="checkbox" id="enable_optional_signers" name="enable_optional_signers" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.enableOptionalSigners:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n        <label class="form-check-label font-normal" for="enable_optional_signers">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.enable_optional_signers",{name:"i18n",hash:{},data:data}))+'</label>\n        <br/>\n        <small class="form-text text-muted">\n            If enabled invalid recipient entries will be skipped.\n            <a href="https://help.docupilot.app/deliveries/docusign#optional-recipients" target="_blank">Read more</a>\n        </small>\n    </div>\n\n    <div class="more-options">\n        <hr/>\n        <div class="row more-row pointer" data-onclick="toggleMore">\n            <div class="col-md-11">More options</div>\n            <div class="col-md-1"><i class="fas fa-chevron-down"></i></div>\n        </div>\n        <div class="form-group hide">\n            <br />\n            <label for="expire_after">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.expire_after",{name:"i18n",hash:{},data:data}))+'</label>\n            <input id="expire_after" type="number" min="0" step="1" pattern="/^\\d*$/" title="Expire after as number days"\n                   class="form-control" name="expire_after" value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.expireAfter:stack1,depth0))+'" />\n            <small class="text-muted">To use default docusign admin settings leave this field blank</small>\n            <br /><br />\n            <label for="custom_tags">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.docu_sign.custom_tags",{name:"i18n",hash:{},data:data}))+'</label>\n            <textarea id="custom_tags" class="form-control" name="custom_tags">'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.customTags:stack1,depth0))+"</textarea>\n        </div>\n        <hr/>\n    </div>\n\n</div>"},useData:!0}),this.Handlebars.templates["delivery/dropbox-delivery"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="form-group has-feedback">\n    <label for="subject">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.dropbox.folder",{name:"i18n",hash:{},data:data}))+'</label>\n    <input id="subject" class="form-control" name="folder" placeholder=\'Folder to store "ex: Docupilot/Docs/{{name}}"\' value="'+alias3(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.folder:stack1,depth0))+'"/>\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+"\n</div>"},useData:!0}),this.Handlebars.templates["delivery/email-delivery"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return'            <i class="fa fa-lock" data-toggle="overflow-menu" data-onclick="toggleOverflow"></i>\n            <div class="overflow-menu">\n                Please <a href="/settings/subscription">upgrade</a> your plan to customize from email\n            </div>\n'},3:function(container,depth0,helpers,partials,data){return'        <input type="text" value="no-reply@docupilot.app" name="from_email" class="form-control" readonly/>\n'},5:function(container,depth0,helpers,partials,data){var helper;return'        <input type="text" value="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.currentFromEmail||(null!=depth0?depth0.currentFromEmail:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"currentFromEmail",hash:{},data:data}):helper)+'" name="from_email" id="from_email" class="form-control"/>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="form-group">\n    <label for="from_email">\n        '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.from",{name:"i18n",hash:{},data:data}))+"\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isInFreePlan:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+"    </label>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isInFreePlan:depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))?stack1:"")+'</div>\n\n<div class="form-group has-feedback">\n    <label for="to">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.to",{name:"i18n",hash:{},data:data}))+"</label>\n    "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.toList:stack1,"type","to_email","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.to_email:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n</div>\n\n<div class="form-group has-feedback">\n    <label for="cc">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.cc",{name:"i18n",hash:{},data:data}))+"</label>\n    "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.ccList:stack1,"type","cc","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.cc:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n</div>\n\n<div class="form-group has-feedback">\n    <label for="bcc">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.bcc",{name:"i18n",hash:{},data:data}))+"</label>\n    "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.bccList:stack1,"type","bcc","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.bcc:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n</div>\n\n<div class="form-group">\n    <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.custom_headers",{name:"i18n",hash:{},data:data}))+"</label>\n    "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.headersList:stack1,"type","headers","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.headers:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n</div>\n\n<div class="form-group has-feedback">\n    <label for="subject">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.subject",{name:"i18n",hash:{},data:data}))+'</label>\n    <input type="text" id="subject" name="subject" class="form-control" value="'+alias3(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.subject:stack1,depth0))+'"/>\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n</div>\n\n<div class="form-group has-feedback">\n    <label for="message">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.message",{name:"i18n",hash:{},data:data}))+'</label>\n    <div id="email-content-editor"></div>\n</div>\n\n<div class="form-group has-feedback">\n    <label for="static_attachments">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.email.static_attachments",{name:"i18n",hash:{},data:data}))+'</label>\n    <div id="email-static-file"></div>\n    <div class="light-note">The files selected will be attached to the email along with the generated document</div>\n</div>'},useData:!0}),this.Handlebars.templates["delivery/eversign-delivery"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"checked"},3:function(container,depth0,helpers,partials,data){return'        <div class="light-note text-center">\n            Document generated in test mode will created in Sandbox mode in Eversign.<br/>\n            Such documents will not be legally binding.\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="form-group">\n\n    <div class="form-group has-feedback">\n        <label for="title">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.title",{name:"i18n",hash:{},data:data}))+'</label>\n        <input id="title" class="form-control" name="title" value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.title:stack1,depth0))+'"/>\n        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="message">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.message",{name:"i18n",hash:{},data:data}))+'</label>\n        <textarea id="message" class="form-control" name="message">'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.message:stack1,depth0))+"</textarea>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group">\n        <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.signers",{name:"i18n",hash:{},data:data}))+'\n            <i class="fa fa-info-circle" data-toggle="overflow-menu" data-onclick="toggleOverflow"></i>\n            <div class="overflow-menu">\n                <a href="https://help.docupilot.app/deliveries/signnow" target="_blank">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.signers.help",{name:"i18n",hash:{},data:data}))+'</a>\n            </div>\n        </label>\n        <div class="form-check"></div>\n        <input class="form-check-input" type="checkbox" id="use_signer_order" name="use_signer_order" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.useSignerOrder:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n        <label class="form-check-label font-normal" for="use_signer_order">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.use_signer_order",{name:"i18n",hash:{},data:data}))+"</label>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.signersList:stack1,"type","signers","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.signers:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="cc">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.recipients",{name:"i18n",hash:{},data:data}))+"</label>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.recipientsList:stack1,"type","recipients","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.recipients:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <div class="form-check">\n            <input class="form-check-input" type="checkbox" id="enable_optional_signers" name="enable_optional_signers" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.enableOptionalSigners:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n            <label class="form-check-label font-normal" for="enable_optional_signers">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.enable_optional_signers",{name:"i18n",hash:{},data:data}))+'</label>\n        </div>\n        <small class="form-text text-muted">\n            When enabled invalid signer and recipient entries will be skipped.\n            <a href="https://help.docupilot.app/deliveries/eversign#optional-recipients" target="_blank">Read more</a>\n        </small>\n    </div>\n\n    <div class="more-options">\n        <hr/>\n        <div class="row more-row pointer" data-onclick="toggleMore">\n            <div class="col-md-11">More options</div>\n            <div class="col-md-1"><i class="fas fa-chevron-down"></i></div>\n        </div>\n        <div class="form-group hide">\n            <br />\n            <div class="form-group">\n                <input class="form-check-input" type="checkbox" id="reminders" name="reminders" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.reminders:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n                <label class="form-check-label font-normal" for="reminders">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.reminders",{name:"i18n",hash:{},data:data}))+'</label>\n            </div>\n            <div class="form-group">\n                <input class="form-check-input" type="checkbox" id="require_all_signers" name="require_all_signers" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.requireAllSigners:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n                <label class="form-check-label font-normal" for="require_all_signers">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.require_all_signers",{name:"i18n",hash:{},data:data}))+'</label>\n            </div>\n            <div class="form-group">\n                <label for="expire_after">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.eversign.expires_in",{name:"i18n",hash:{},data:data}))+'</label>\n                <input id="expires_in" type="number" min="0" step="1" pattern="/^\\d*$/" title="Expire after as number days"\n                       class="form-control" name="expires_in" value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.expiresIn:stack1,depth0))+'" />\n                <small class="text-muted">To use default expiration from eversign business settings leave this field blank</small>\n            </div>\n        </div>\n        <hr/>\n    </div>\n'+(null!=(stack1=helpers.unless.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.isActive:stack1,{name:"unless",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:"")+"</div>"},useData:!0}),this.Handlebars.templates["delivery/generic-delivery-fields"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="form-group">\n    <label for="criteria">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.generics.criteria",{name:"i18n",hash:{},data:data}))+'</label>\n    <input id="criteria" type="text" name="title" class="form-control" disabled />\n</div>\n<div class="form-group">\n    <label for="title">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.generics.delay",{name:"i18n",hash:{},data:data}))+'</label>\n    <input id="title" type="text" name="title" class="form-control" disabled />\n</div>\n<div class="form-group">\n    <label for="title">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.generics.fallback_emails",{name:"i18n",hash:{},data:data}))+'</label>\n    <input type="text" name="title" class="form-control" placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.generics.placeholders.email",{name:"i18n",hash:{},data:data}))+'"/>\n    <i>'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.generics.default_fallback",null!=(stack1=null!=depth0?depth0.user:depth0)?stack1.email:stack1,{name:"i18n",hash:{},data:data}))+"</i>\n</div>\n"},useData:!0}),this.Handlebars.templates["delivery/google_drive-delivery-folders"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.folders:depth0,{name:"each",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:""},2:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'        <option value="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'" '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.id:depth0,"===",null!=depths[1]?depths[1].selected_folder:depths[1],{name:"if",hash:{},fn:container.program(3,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">\n            "+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"\n        </option>\n"},3:function(container,depth0,helpers,partials,data){return"selected"},5:function(container,depth0,helpers,partials,data){return'    <option value="root" selected>Root</option>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.folders:depth0,{name:"if",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.program(5,data,0,blockParams,depths),data:data}))?stack1:""},useData:!0,useDepths:!0}),this.Handlebars.templates["delivery/google_drive-delivery"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="form-group" id="gdrive-account-selector" data-onchange="gDriveFolderChange">\n    <label for="folder">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.google_drive.folder",{name:"i18n",hash:{},data:data}))+'</label>\n    <select id="folder" class="form-control" name="folder">\n        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/google_drive-delivery-folders",depth0,{name:"include",hash:{},data:data}))+"\n    </select>\n</div>"},useData:!0}),this.Handlebars.templates["delivery/hellosign-delivery"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"checked"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="form-group">\n\n    <div class="form-group has-feedback">\n        <label for="title">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.title",{name:"i18n",hash:{},data:data}))+'</label>\n        <input id="title" class="form-control" name="title" value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.title:stack1,depth0))+'"/>\n        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="subject">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.subject",{name:"i18n",hash:{},data:data}))+'</label>\n        <input id="subject" class="form-control" name="subject" value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.subject:stack1,depth0))+'"/>\n        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="message">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.message",{name:"i18n",hash:{},data:data}))+'</label>\n        <textarea id="message" class="form-control" name="message">'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.message:stack1,depth0))+"</textarea>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group">\n        <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.signers",{name:"i18n",hash:{},data:data}))+"</label>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.signersList:stack1,"type","signers","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.signers:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="cc">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.cc",{name:"i18n",hash:{},data:data}))+"</label>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.ccList:stack1,"type","cc","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.cc:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <div class="form-check"></div>\n        <input class="form-check-input" type="checkbox" id="enable_optional_signers" name="enable_optional_signers" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.enableOptionalSigners:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n        <label class="form-check-label" for="enable_optional_signers">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.enable_optional_signers",{name:"i18n",hash:{},data:data}))+'</label>\n        <br/>\n        <small class="form-text text-muted">\n            When enabled invalid signer and cc entries will be skipped.\n            <a href="https://help.docupilot.app/deliveries/hellosign#optional-recipients">Read more</a>\n        </small>\n    </div>\n\n    <div class="form-group">\n        <div class="form-check">\n            <input class="form-check-input" type="checkbox" id="use_text_tags" name="use_text_tags" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.useTextTags:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n            <label class="form-check-label" for="use_text_tags">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.use_text_tags",{name:"i18n",hash:{},data:data}))+'</label>\n        </div>\n        <small class="form-text text-muted">\n            Enable this if you wish to enable <a href="https://app.hellosign.com/api/textTagsWalkthrough#TextTagIntro" target="_blank">Text Tags</a> parsing in your document.\n            <a href="https://help.docupilot.app/deliveries/hellosign#using-text-tags-field-parsing" target="_blank">Read more</a>\n        </small>\n    </div>\n\n    <div class="form-check">\n        <input class="form-check-input" type="checkbox" id="hide_text_tags" name="hide_text_tags" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.hideTextTags:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n        <label class="form-check-label" for="hide_text_tags">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.hide_text_tags",{name:"i18n",hash:{},data:data}))+'</label>\n    </div>\n\n    <div class="form-check">\n        <input class="form-check-input" type="checkbox" id="sequenced_signing" name="sequenced_signing" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.sequencedSigning:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n        <label class="form-check-label" for="sequenced_signing">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.hellosign.sequenced_signing",{name:"i18n",hash:{},data:data}))+"</label>\n    </div>\n\n</div>"},useData:!0}),this.Handlebars.templates["delivery/one_drive-delivery"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="form-group has-feedback">\n    <label for="subject">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.one_drive.folder",{name:"i18n",hash:{},data:data}))+'</label>\n    <input id="subject" class="form-control" name="folder" placeholder=\'Folder to store "ex: Docupilot/Docs/{{name}}"\' value="'+alias3(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.folder:stack1,depth0))+'"/>\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+"\n</div>"},useData:!0}),this.Handlebars.templates["delivery/sign_now-delivery"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"checked"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="form-group">\n\n    <div class="form-group has-feedback">\n        <label for="subject">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.sign_now.subject",{name:"i18n",hash:{},data:data}))+'</label>\n        <input id="subject" class="form-control" name="subject" value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.subject:stack1,depth0))+'"/>\n        '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="message">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.sign_now.message",{name:"i18n",hash:{},data:data}))+'</label>\n        <textarea id="message" class="form-control" name="message">'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.message:stack1,depth0))+"</textarea>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group">\n        <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.sign_now.signers",{name:"i18n",hash:{},data:data}))+'\n            <i class="fa fa-info-circle" data-toggle="overflow-menu" data-onclick="toggleOverflow"></i>\n            <div class="overflow-menu">\n                <a href="https://help.docupilot.app/deliveries/signnow" target="_blank">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.sign_now.signers.help",{name:"i18n",hash:{},data:data}))+'</a>\n            </div>\n        </label>\n        <div class="form-check"></div>\n        <input class="form-check-input" type="checkbox" id="sequenced_signing" name="sequenced_signing" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.sequencedSigning:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n        <label class="form-check-label font-normal" for="sequenced_signing">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.sign_now.sequenced_signing",{name:"i18n",hash:{},data:data}))+"</label>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.signersList:stack1,"type","signers","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.signers:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <label for="cc">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.sign_now.cc",{name:"i18n",hash:{},data:data}))+"</label>\n        "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.ccList:stack1,"type","cc","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.cc:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n    </div>\n\n    <div class="form-group has-feedback">\n        <div class="form-check">\n            <input class="form-check-input" type="checkbox" id="enable_optional_signers" name="enable_optional_signers" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.enableOptionalSigners:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'>\n            <label class="form-check-label font-normal" for="enable_optional_signers">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.sign_now.enable_optional_signers",{name:"i18n",hash:{},data:data}))+'</label>\n        </div>\n        <small class="form-text text-muted">\n            When enabled invalid recipient and cc entries will be skipped.\n            <a href="https://help.docupilot.app/deliveries/signnow#optional-recipients" target="_blank">Read more</a>\n        </small>\n    </div>\n\n</div>'},useData:!0}),this.Handlebars.templates["delivery/webhook-delivery"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'\x3c!--<div class="form-group">\n    <label for="method"></label>\n    <select name="method" id="method" class="form-control" disabled>\n        <option value="post">POST</option>\n    </select>\n</div>--\x3e\n<div class="form-group has-feedback">\n    <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.webhook.url",{name:"i18n",hash:{},data:data}))+'</label>\n    <input type="text" id="url" name="url" class="form-control" value="'+alias3(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.url:stack1,depth0))+'"/>\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+'\n</div>\n\x3c!--<div class="form-group">\n    <label for="payload_type"></label>\n    <select name="payload_type" id="payload_type" class="form-control">\n        &lt;!&ndash;<option value="application/x-www-form-urlencoded"></option>&ndash;&gt;\n        <option value="multipart/form-data"></option>\n        <option value="application/json"></option>\n    </select>\n</div>--\x3e\n<div class="form-group">\n    <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.webhook.custom_headers",{name:"i18n",hash:{},data:data}))+"</label>\n    "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.headersList:stack1,"type","headers","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.headers:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n</div>\n<div class="form-group">\n    <label for="url">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.webhook.custom_payload",{name:"i18n",hash:{},data:data}))+"</label>\n    "+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"values",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.payloadList:stack1,"type","payload","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.delivery:stack1)?stack1.listDataTypes:stack1)?stack1.payload:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+"\n</div>"},useData:!0}),this.Handlebars.templates["delivery/zoho_crm-delivery"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return""},useData:!0}),this.Handlebars.templates["document_details/document-delivery"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="delivery-wrapper mt-3" id="delivery-container">\n    <div id="deliveries-container"></div>\n</div>'},useData:!0}),this.Handlebars.templates["document_details/document-details-home"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="row document-details-wrapper">\n    <div class="col-md-9 h100" id="document-details">\n    </div>\n    <div class="col-md-3" id="document-rhs">\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["document_details/document-details"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                    <li class="active">\n                        <a href="/templates?folder='+alias2(alias1(null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.folder:stack1)?stack1.id:stack1,depth0))+'" route>'+alias2(alias1(null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.folder:stack1)?stack1.name:stack1,depth0))+"</a>\n                    </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=container.escapeExpression;return'<div class="document-details row h100">\n    <div class="col-md-3">\n        <div class="details-navigation-container">\n            <ol class="box-title breadcrumb ellipsis">\n                <li>\n                    <a href="/templates" route>\n                        <i class="fas fa-home" title="'+alias2((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,"folders.home",{name:"i18n",hash:{},data:data}))+'" data-toggle="tooltip" data-placement="auto left"></i>\n                    </a>\n                </li>\n'+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.folder:stack1)?stack1.id:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+"                <li>\n                    "+alias2(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.title:stack1,depth0))+'\n                </li>\n            </ol>\n            <div id="details-navigation"></div>\n        </div>\n    </div>\n    <div class="col-md-9" id="details-content"></div>\n</div>'},useData:!0}),this.Handlebars.templates["document_details/document-file-upload"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'        <h3>Add a google drive Document ID</h3>\n        <div class="form-group has-feedback">\n            <label for="account">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".account",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+'</label>\n            <select id="account" name="linked_account" class="form-control" data-onchange="accountChange" required>\n                '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/delivery-accounts",depth0,{name:"include",hash:{},data:data}))+"\n            </select>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.delivery:stack1)?stack1.accountTypes:stack1,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.program(5,data,0),data:data}))?stack1:"")+'        </div>\n        <div class="form-group">\n            <input class="form-control" name="google_document_id" placeholder="Google drive doc id" required/>\n        </div>\n'},2:function(container,depth0,helpers,partials,data){var stack1;return'                <span class="input-add-account form-control-feedback" data-toggle="overflow-menu" data-onclick="toggleOverflow"></span>\n                <div class="overflow-menu add-account-options">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.delivery:stack1)?stack1.accountTypes:stack1,{name:"each",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:"")+"                </div>\n"},3:function(container,depth0,helpers,partials,data){var alias1=container.lambda,alias2=container.escapeExpression;return'                        <div class="overflow-item" data-onclick="openOAuthWindow" data-accounttype="'+alias2(alias1(depth0,depth0))+'" >\n                            '+alias2(alias1(depth0,depth0))+"\n                        </div>\n"},5:function(container,depth0,helpers,partials,data){return'                <span class="input-add-account form-control-feedback" data-onclick="openOAuthWindow"></span>\n'},7:function(container,depth0,helpers,partials,data){var helper;return'        <div class="form-group">\n            <input type="file" class="form-control" name="file" accept="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.fileContentType||(null!=depth0?depth0.fileContentType:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"fileContentType",hash:{},data:data}):helper)+'" placeholder="Attach new docx" required/>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return"<form>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isGoogleDocument:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(7,data,0),data:data}))?stack1:"")+'    <div class="form-group">\n        <div class="error-text hide" id="template-upload-error"></div>\n    </div>\n    <div class="light-note hide" id="template-upload-error-support">'+(null!=(stack1=(helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,"contact.support.troubleshoot",{name:"i18n",hash:{},data:data}))?stack1:"")+"</div>\n</form>"},useData:!0}),this.Handlebars.templates["document_details/document-file"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1;return(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.isGoogleDocument:depth0,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.program(4,data,0),data:data}))?stack1:"")+'        <form class="hide"></form>\n'},2:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'            <div class="row">\n                <div class="col-md-3">\n                    <h4 class="file-title ellipsis" title="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.title:stack1,depth0))+'">'+alias2((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"documents.file.preview",{name:"i18n",hash:{},data:data}))+'</h4>\n                </div>\n                <div class="col-md-9 action-row">\n                    <a href="javascript:void(0)" data-toggle="tooltip" data-placement="bottom" data-onclick="openFileUpload" title="Change document">\n                        <i class="fas fa-link"></i>\n                        <span>Change document</span>\n                    </a>\n                    <a href="javascript:void(0)" data-toggle="tooltip" data-placement="bottom" data-onclick="updateDocument" title="Update document">\n                        <i class="fas fa-sync-alt"></i>\n                        <span>Update document</span>\n                    </a>\n                </div>\n            </div>\n            <div class="row mt-4">\n                <div class="col-md-12">\n                    <div class="centre-all">\n                        <div class="document-file-icon '+alias2(alias1(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.type:stack1,depth0))+'"></div>\n                        <div class="document-file-name" title="Google document: '+alias2(alias1(null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.fileInfo:stack1)?stack1.fileName:stack1,depth0))+'">\n                            '+alias2(alias1(null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.fileInfo:stack1)?stack1.fileName:stack1,depth0))+'\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row no-data">\n                <div class="col-md-12">\n                    <p>This document is managed by google docs and cannot be previewed at the moment, please click below to View/Edit the document</p>\n                </div>\n                <div class="col-md-12">\n                    <a href="https://docs.google.com/'+alias2(alias1(null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.fileInfo:stack1)?stack1.gFileType:stack1,depth0))+"/d/"+alias2(alias1(null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.fileInfo:stack1)?stack1.filePath:stack1,depth0))+'/edit" target="_blank">\n                        Open Google doc\n                    </a>\n                </div>\n            </div>\n'},4:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=null!=depth0?depth0:container.nullContext||{},alias4=helpers.helperMissing;return'            <div class="row">\n                <div class="col-md-3">\n                    <h4 class="file-title ellipsis" title="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.title:stack1,depth0))+'">'+alias2((helpers.i18n||depth0&&depth0.i18n||alias4).call(alias3,"documents.file.preview",{name:"i18n",hash:{},data:data}))+'</h4>\n                    \x3c!--<br/><small class="text-muted">Last updated on </small>--\x3e\n                </div>\n                <div class="col-md-9 action-row">\n                    <a href="'+alias2(alias1(null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.fileInfo:stack1)?stack1.downloadLink:stack1,depth0))+'" data-toggle="tooltip" data-placement="bottom" target="_blank" title="Download file">\n                        <i class="fas fa-file-download"></i>\n                        <span>Download file</span>\n                    </a>\n                    <a href="javascript:void(0)">\n                        <i class="fas fa-file-upload" data-toggle="tooltip" data-placement="bottom" data-onclick="openFileUpload" title="Upload a new version"></i>\n                        <span data-onclick="openFileUpload">Upload a new version</span>\n                    </a>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-md-12">\n                    <div id="preview-loading" class="preview-loading">\n                        <div class="no-data">\n                            <img class="fetching-animation" src="'+alias2((helpers.static_img||depth0&&depth0.static_img||alias4).call(alias3,"logo0.05.gif",{name:"static_img",hash:{},data:data}))+'" />\n                            <h3 class="text-center">Fetching...</h3>\n                        </div>\n                    </div>\n                    <iframe class="preview-frame" id="preview-frame" src=\'\'></iframe>\n                </div>\n            </div>\n'},6:function(container,depth0,helpers,partials,data){var stack1;return'        <div class="row">\n            <div class="col-md-12 upload-empty">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.isGoogleDocument:depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.program(13,data,0),data:data}))?stack1:"")+"            </div>\n        </div>\n"},7:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                    <form>\n                        <h3>Add a google drive Document ID</h3>\n                        <div class="form-group has-feedback">\n                            <label for="account">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".account",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+'</label>\n                            <select id="account" name="linked_account" class="form-control" data-onchange="accountChange" required>\n                                '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"delivery/delivery-accounts",depth0,{name:"include",hash:{},data:data}))+"\n                            </select>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.delivery:stack1)?stack1.accountTypes:stack1,{name:"if",hash:{},fn:container.program(8,data,0),inverse:container.program(11,data,0),data:data}))?stack1:"")+'                        </div>\n                        <div class="form-group">\n                            <input class="form-control" name="google_document_id" placeholder="Google drive doc id" required/>\n                        </div>\n                        <hr />\n                        <div class="form-group">\n                            <div class="error-text hide" id="template-upload-error"></div>\n                        </div>\n                        <div class="light-note hide" id="template-upload-error-support">'+(null!=(stack1=(helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"contact.support.troubleshoot",{name:"i18n",hash:{},data:data}))?stack1:"")+'</div>\n                        <div class="form-group">\n                            <input type="submit" value="Submit" class="btn btn-primary pull-right" />\n                        </div>\n                    </form>\n'},8:function(container,depth0,helpers,partials,data){var stack1;return'                                <span class="input-add-account form-control-feedback" data-toggle="overflow-menu" data-onclick="toggleOverflow"></span>\n                                <div class="overflow-menu add-account-options">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.delivery:stack1)?stack1.accountTypes:stack1,{name:"each",hash:{},fn:container.program(9,data,0),inverse:container.noop,data:data}))?stack1:"")+"                                </div>\n"},9:function(container,depth0,helpers,partials,data){var alias1=container.lambda,alias2=container.escapeExpression;return'                                        <div class="overflow-item" data-onclick="openOAuthWindow" data-accounttype="'+alias2(alias1(depth0,depth0))+'" >\n                                            '+alias2(alias1(depth0,depth0))+"\n                                        </div>\n"},11:function(container,depth0,helpers,partials,data){return'                                <span class="input-add-account form-control-feedback" data-onclick="openOAuthWindow"></span>\n'},13:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return'                    <form>\n                        <h3>Upload the document</h3>\n                        <div class="form-group">\n                            <input type="file" class="form-control" name="file" accept="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.fileContentType||(null!=depth0?depth0.fileContentType:depth0))?helper:alias2)?helper.call(alias1,{name:"fileContentType",hash:{},data:data}):helper)+'" placeholder="Attach new docx" required/>\n                        </div>\n                        <hr />\n                        <div class="form-group">\n                            <div class="error-text hide" id="template-upload-error"></div>\n                        </div>\n                        <div class="light-note hide" id="template-upload-error-support">'+(null!=(stack1=(helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"contact.support.troubleshoot",{name:"i18n",hash:{},data:data}))?stack1:"")+'</div>\n                        <div class="form-group">\n                            <input type="submit" value="Upload" class="btn btn-primary pull-right" />\n                        </div>\n                    </form>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="document-file-container">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document_content:stack1)?stack1.fileInfo:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(6,data,0),data:data}))?stack1:"")+"</div>"},useData:!0}),this.Handlebars.templates["document_details/document-generate-batch-process-form"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<form>\n    <div class="col-md-6 col-md-offset-6">\n        <p class="text-right">Import a CSV file</p>\n        <div class="form-group d-flex">\n            <input type="file" class="form-control" name="file"\n                   accept="text/csv"\n                   placeholder="Attach new docx" required/>\n            <input type="submit" value="Upload New" class="btn btn-primary pull-right" />\n        </div>\n        <div class="form-group"><div class="error-text hide" id="merge-file-error"></div></div>\n        <div class="light-note hide" id="template-upload-error-support">'+(null!=(stack1=(helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"contact.support.troubleshoot",{name:"i18n",hash:{},data:data}))?stack1:"")+"</div>\n    </div>\n</form>"},useData:!0}),this.Handlebars.templates["document_details/document-generate-batch-process"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1;return'        <div class="row mt-2">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.canMerge:depth0,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.program(4,data,0),data:data}))?stack1:"")+'        </div>\n        <div class="row">\n            <div class="col-md-12">\n                <div id="batch-process-list"></div>\n            </div>\n        </div>\n'},2:function(container,depth0,helpers,partials,data){return'                <div id="batch-process-form"></div>\n'},4:function(container,depth0,helpers,partials,data){return'                <div class="col-md-12 light-note centre-all">\n                    Configure at-least one delivery to perform a bulk merge\n                </div>\n'},6:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.isStage1:depth0,{name:"if",hash:{},fn:container.program(7,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:""},7:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{},alias3=helpers.helperMissing;return'        <div class="row">\n            <div class="col-md-12 centre-all">\n                <h4 class="mt-2">Imported data</h4>\n                <p>Imported '+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.stage1_data:depth0)?stack1.total_rows:stack1,depth0))+' rows</p>\n                <div class="centre-vertical w100">\n                    <div class="fields-wrapper">\n                        <table class="table table-striped mt-2 fixed">\n                            <thead>\n                            <tr>\n                                <th class="template-tokens">Template Tokens</th>\n                                <th>Data Columns</th>\n                            </tr>\n                            </thead>\n'+(null!=(stack1=helpers.each.call(alias2,null!=depth0?depth0.getSchemaFields:depth0,{name:"each",hash:{},fn:container.program(8,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'                        </table>\n                    </div>\n                    <div class="data-wrapper">\n                        <table class="table table-striped mt-2 flex-1">\n                            <thead><tr><th colspan="'+alias1("function"==typeof(helper=null!=(helper=helpers.stage1RowCount||(null!=depth0?depth0.stage1RowCount:depth0))?helper:alias3)?helper.call(alias2,{name:"stage1RowCount",hash:{},data:data}):helper)+'">\n                                Data\n                            </th></tr></thead>\n'+(null!=(stack1=helpers.each.call(alias2,null!=depth0?depth0.getSchemaFields:depth0,{name:"each",hash:{},fn:container.program(11,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'                        </table>\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-12 text-center light-note">\n'+(null!=(stack1=helpers.if.call(alias2,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.status:stack1,"===","test",{name:"if",hash:{},fn:container.program(14,data,0,blockParams,depths),inverse:container.program(16,data,0,blockParams,depths),data:data}))?stack1:"")+'            </div>\n            <div class="col-lg-6">\n                <button class="btn btn-danger" data-onclick="cancel">Cancel Task</button>\n            </div>\n            <div class="col-lg-6 text-right">\n                <button class="btn btn-default" data-onclick="saveDraft">Save Draft</button>\n                <button class="btn btn-primary" data-onclick="processBulk" id="process" disabled>Generate '+alias1((helpers.math||depth0&&depth0.math||alias3).call(alias2,null!=(stack1=null!=depth0?depth0.stage1_data:depth0)?stack1.total_rows:stack1,"*",null!=(stack1=null!=depth0?depth0.deliveries:depth0)?stack1.length:stack1,{name:"math",hash:{},data:data}))+" documents</button>\n            </div>\n        </div>\n    "},8:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'                                <tr>\n                                    <td class="template-tokens" title="'+alias4(typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'">\n                                        <label for="'+alias4(typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'">'+alias4(typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'</label>\n                                    </td>\n                                    <td>\n                                        <select name="'+alias4(typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'" id="'+alias4(typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'" data-onchange="onStage1ValueMapped" data-name="'+alias4(typeof(helper=null!=(helper=helpers.ref||(null!=depth0?depth0.ref:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"ref",hash:{},data:data}):helper)+'">\n                                            <option value="">---</option>\n'+(null!=(stack1=helpers.each.call(alias1,null!=depths[1]?depths[1].stage1Headers:depths[1],{name:"each",hash:{},fn:container.program(9,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                                        </select>\n                                    </td>\n                                </tr>\n"},9:function(container,depth0,helpers,partials,data){var alias1=container.lambda,alias2=container.escapeExpression;return'                                                <option value="'+alias2(alias1(depth0,depth0))+'">'+alias2(alias1(depth0,depth0))+"</option>\n"},11:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return'                                <tr id="row-'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.ref||(null!=depth0?depth0.ref:depth0))?helper:alias2)?helper.call(alias1,{name:"ref",hash:{},data:data}):helper)+'">\n'+(null!=(stack1=(helpers.iterate_range||depth0&&depth0.iterate_range||alias2).call(alias1,1,1,null!=depths[1]?depths[1].stage1RowCount:depths[1],{name:"iterate_range",hash:{},fn:container.program(12,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                                </tr>\n"},12:function(container,depth0,helpers,partials,data){return'                                        <td class="datum" title="--">--</td>\n'},14:function(container,depth0,helpers,partials,data){var helper;return"                    Your document is in <b>Test</b> mode<br/>\n                    A maximum of "+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.maxTestRows||(null!=depth0?depth0.maxTestRows:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"maxTestRows",hash:{},data:data}):helper)+" rows of data will be used while creating documents in bulk in test mode.\n"},16:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{};return"                    "+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.deliveries:depth0)?stack1.length:stack1,depth0))+" "+(null!=(stack1=helpers.if.call(alias2,null!=(stack1=null!=depth0?depth0.deliveries:depth0)?stack1.length:stack1,"===",1,{name:"if",hash:{},fn:container.program(17,data,0),inverse:container.program(19,data,0),data:data}))?stack1:"")+" configured, this will consume "+alias1((helpers.math||depth0&&depth0.math||helpers.helperMissing).call(alias2,null!=(stack1=null!=depth0?depth0.stage1_data:depth0)?stack1.total_rows:stack1,"*",null!=(stack1=null!=depth0?depth0.deliveries:depth0)?stack1.length:stack1,{name:"math",hash:{},data:data}))+" created documents towards billing\n"},17:function(container,depth0,helpers,partials,data){return"Delivery is"},19:function(container,depth0,helpers,partials,data){return"Deliveries are"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return'<div class="batch-process">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.isStage0:depth0,{name:"if",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.program(6,data,0,blockParams,depths),data:data}))?stack1:"")+"</div>\n"},useData:!0,useDepths:!0}),this.Handlebars.templates["document_details/document-generate-codeblock"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression;return"curl -X POST \\\n    "+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.apiURL:stack1,depth0))+" \\\n    -H 'Content-Type: application/json' \\\n    -d '"+alias1("function"==typeof(helper=null!=(helper=helpers.defaultJson||(null!=depth0?depth0.defaultJson:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"defaultJson",hash:{},data:data}):helper)+"'\n"},useData:!0}),this.Handlebars.templates["document_details/document-generate-integrations-info"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=null!=depth0?depth0:container.nullContext||{},alias4=helpers.helperMissing;return'<div class="merge-info">\n    <h4>Integrations via webhooks</h4>\n    <p>Use this URL to POST data and create documents.</p>\n    <p>\n        Set <code>Content-Type</code> header to <code>application/json</code> while configuring in 3rd party applications.\n    </p>\n    <h5>POST Merge URL:</h5> <a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.apiURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.apiURL:stack1,depth0))+"</a>\n    <hr />\n    <h4>Download mode</h4>\n    <p>Append the above URL with <code>"+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadExtension:stack1,depth0))+'</code></p>\n    <h5>Merge and Download file URL</h5> <a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadAPIURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadAPIURL:stack1,depth0))+"</a>\n    <hr />\n    <h4>API Integration</h4>\n    <p>Integrate "+alias2((helpers.global||depth0&&depth0.global||alias4).call(alias3,"Adhara.app.name",{name:"global",hash:{},data:data}))+' into your app</p>\n    <div class="api-integration-card">\n        <div class="integration-card-title curl">CURL</div>\n        <a class="integration-card-copy fas fa-copy" data-onclick="copyContent"\n            data-codeblock="'+alias2((helpers.include||depth0&&depth0.include||alias4).call(alias3,"document_details/document-generate-codeblock",depth0,{name:"include",hash:{},data:data}))+'"\n            href="javascript:void(0);">\n        </a>\n        <pre>'+alias2((helpers.include||depth0&&depth0.include||alias4).call(alias3,"document_details/document-generate-codeblock",depth0,{name:"include",hash:{},data:data}))+"</pre>\n        </div>\n    </div>\n</div>"},useData:!0}),this.Handlebars.templates["document_details/document-generate-integromat-info"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="merge-info">\n    <h4>Integration via Integromat</h4>\n    <p>Integrate '+alias3((helpers.global||depth0&&depth0.global||alias2).call(alias1,"Adhara.app.name",{name:"global",hash:{},data:data}))+' with your favourite apps\n        Visit <a href="'+alias3(container.lambda(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.integromatLink:stack1,depth0))+'" target="_blank">\n            '+alias3((helpers.global||depth0&&depth0.global||alias2).call(alias1,"Adhara.app.name",{name:"global",hash:{},data:data}))+"'s Integromat app page\n        </a>\n    </p>\n    <hr />\n</div>"},useData:!0}),this.Handlebars.templates["document_details/document-generate-manual-info"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'<div class="merge-info">\n    <h4>Generate document by filling form</h4>\n    <p>Use this form URL to load a form with fields to enter data.</p>\n    <h5>Merge Form URL:</h5><a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.fullURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.fullURL:stack1,depth0))+"</a>\n    <hr />\n    <h4>Download mode</h4>\n    <p>Append the above URL's with <code>"+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadExtension:stack1,depth0))+'</code></p>\n    <h5>Merge and Download file URL</h5> <a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadURL:stack1,depth0))+"</a>\n</div>"},useData:!0}),this.Handlebars.templates["document_details/document-generate-zapier-info"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="merge-info">\n    <h4>Integration via Zapier</h4>\n    <p>Integrate '+alias3((helpers.global||depth0&&depth0.global||alias2).call(alias1,"Adhara.app.name",{name:"global",hash:{},data:data}))+' with your favourite apps\n        Visit <a href="'+alias3(container.lambda(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.zapierLink:stack1,depth0))+'" target="_blank">\n            '+alias3((helpers.global||depth0&&depth0.global||alias2).call(alias1,"Adhara.app.name",{name:"global",hash:{},data:data}))+'\'s Zapier app page\n        </a>\n    </p>\n    <hr />\n    <div id="zapier-embed"></div>\n    <p>\n        For more information, checkout our <a href="https://help.docupilot.app/create-document/integrate-with-zapier" target="_blank">Zapier Help Documentation</a>\n    </p>\n</div>'},useData:!0}),this.Handlebars.templates["document_details/document-merge-form"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return'        <div class="container">\n            <div class="row">\n                <div class="col-md-12">\n                    <div class="no-data">\n                        <h3 class="text-center">Oops!</h3>\n                        <code>This form is not accessible. Contact form owner</code>\n                    </div>\n                </div>\n            </div>\n        </div>\n'},3:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=depth0?depth0.schema:depth0)?stack1.length:stack1,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.program(6,data,0),data:data}))?stack1:""},4:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'        <div id="merge-form-container" class="col-sm-offset-1 col-sm-10">\n        </div>\n        <div class="hidden">\n            <form method="post" action="'+alias4("function"==typeof(helper=null!=(helper=helpers.mergeURL||(null!=depth0?depth0.mergeURL:depth0))?helper:alias2)?helper.call(alias1,{name:"mergeURL",hash:{},data:data}):helper)+'" target="_blank">\n                <input name="data" value="" type="hidden"/>\n                <input name="csrfmiddlewaretoken" value="'+alias4("function"==typeof(helper=null!=(helper=helpers.csrf||(null!=depth0?depth0.csrf:depth0))?helper:alias2)?helper.call(alias1,{name:"csrf",hash:{},data:data}):helper)+'" type="hidden"/>\n            </form>\n        </div>\n        <div class="text-center col-sm-10 col-sm-offset-1 hide mb-3">\n            <button id="merge-doc" data-onclick="mergeDocument" class="btn btn-primary">'+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.submit",{name:"i18n",hash:{},data:data}))+"</button>\n        </div>\n"},6:function(container,depth0,helpers,partials,data){return'        <div class="no-data">\n            No merge fields present..!\n        </div>\n    '},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="form-horizontal merge-form test-form">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.errors:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+"</div>\n"},useData:!0}),this.Handlebars.templates["document_details/document-merge-info"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'<div class="merge-info">\n    <h3>Merge</h3>\n    <p>Use the below methods to create documents from the configured template.</p>\n    <hr />\n    <h4>Generate document by filling form</h4>\n    <p>Use this form URL to load a form with fields to enter data.</p>\n    <h5>Merge Form URL:</h5><a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.fullURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.fullURL:stack1,depth0))+'</a>\n    <hr />\n    <h4>Integrations via webhooks</h4>\n    <p>Use this URL to POST data and create documents.</p>\n    <p>\n        Set <code>Content-Type</code> header to <code>application/json</code> while configuring in 3rd party applications.\n    </p>\n    <h5>POST Merge URL:</h5> <a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.fullURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.fullURL:stack1,depth0))+"</a>\n    <hr />\n    <h4>Test mode</h4>\n    <p>Append the above URL's with <code>"+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.testExtension:stack1,depth0))+'</code></p>\n    <h5>Test Merge URL</h5> <a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.testURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.testURL:stack1,depth0))+"</a>\n    <hr />\n    <h4>Download mode</h4>\n    <p>Append the above URL's with <code>"+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadExtension:stack1,depth0))+'</code></p>\n    <h5>Merge and Download file URL</h5> <a href="'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadURL:stack1,depth0))+'" target="_blank">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.downloadURL:stack1,depth0))+"</a>\n</div>"},useData:!0}),this.Handlebars.templates["document_details/document-navigation"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{};return'        <div class="level-zero">\n            <div class="circle-graphic delivery-icon '+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.graphic_class||(null!=depth0?depth0.graphic_class:depth0))?helper:helpers.helperMissing)?helper.call(alias1,{name:"graphic_class",hash:{},data:data}):helper)+'"></div>\n            <div class="level-info">\n                <div class="tab-brief">'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.brief:depth0,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.program(4,data,0,blockParams,depths),data:data}))?stack1:"")+"</div>\n                "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.name:depth0,{name:"if",hash:{},fn:container.program(6,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"\n"+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.tabs:depth0,{name:"each",hash:{},fn:container.program(8,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"            </div>\n        </div>\n"},2:function(container,depth0,helpers,partials,data){return container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.brief:depth0,{name:"i18n",hash:{},data:data}))},4:function(container,depth0,helpers,partials,data){return"&nbsp;"},6:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<h4 class="ellipsis" title="'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'">'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"</h4>"},8:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                    <div class="level-one ellipsis '+alias3("function"==typeof(helper=null!=(helper=helpers.selected||(null!=depth0?depth0.selected:depth0))?helper:alias2)?helper.call(alias1,{name:"selected",hash:{},data:data}):helper)+'">\n                        <a '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.link:depth0,{name:"if",hash:{},fn:container.program(9,data,0,blockParams,depths),inverse:container.program(11,data,0,blockParams,depths),data:data}))?stack1:"")+"\n                            "+alias3((helpers.addAttr||depth0&&depth0.addAttr||alias2).call(alias1,null!=depth0?depth0.attributes:depth0,'{"class": "tab-name"}',{name:"addAttr",hash:{},data:data}))+" "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.title:depth0,{name:"if",hash:{},fn:container.program(13,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">\n                            "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.icon:depth0,{name:"if",hash:{},fn:container.program(15,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,null!=depth0?depth0.name:depth0,{name:"i18n",hash:{},data:data}))+"</a>\n                    </div>\n"},9:function(container,depth0,helpers,partials,data,blockParams,depths){var helper,alias1=container.escapeExpression;return' href="'+alias1(container.lambda(null!=depths[2]?depths[2].baseURL:depths[2],depth0))+alias1("function"==typeof(helper=null!=(helper=helpers.link||(null!=depth0?depth0.link:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"link",hash:{},data:data}):helper)+'" '},11:function(container,depth0,helpers,partials,data){return' href="javascript:void(0);" '},13:function(container,depth0,helpers,partials,data){return'title="'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.title:depth0,{name:"i18n",hash:{},data:data}))+'"'},15:function(container,depth0,helpers,partials,data){var helper;return'<i class="dmio-icon fas '+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.icon||(null!=depth0?depth0.icon:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"icon",hash:{},data:data}):helper)+'"></i>'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="doc-timeline">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.lhsItems:depth0,{name:"each",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'    <div class="level-zero" href="'+alias3("function"==typeof(helper=null!=(helper=helpers.baseURL||(null!=depth0?depth0.baseURL:depth0))?helper:alias2)?helper.call(alias1,{name:"baseURL",hash:{},data:data}):helper)+'deliver/add" route>\n        <div class="circle-graphic add-item"></div>\n        <div class="level-info">\n            <div class="tab-brief">&nbsp;</div>\n            <h4 class="ellipsis add-new-delivery">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.add.new",{name:"i18n",hash:{},data:data}))+"</h4>\n        </div>\n    </div>\n</div>"},useData:!0,useDepths:!0}),this.Handlebars.templates["document_details/document-preferences"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                            <option class="form-control" value="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"\n                                    '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.id:depth0,"==",null!=(stack1=null!=(stack1=null!=depths[1]?depths[1].document:depths[1])?stack1.folder:stack1)?stack1.id:stack1,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">"+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"</option>\n"},2:function(container,depth0,helpers,partials,data){return"selected"},4:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'                <div class="form-group">\n                    <label for="output_type" class="col-sm-2 control-label">'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,"documents.form.output_type",{name:"i18n",hash:{},data:data}))+'</label>\n                    <div class="col-sm-10">\n                        <select class="form-control" name="output_type" id="output_type" data-onchange="outputTypeChanged">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.outputTypes:depth0,{name:"each",hash:{},fn:container.program(5,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                        </select>\n                    </div>\n                </div>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.canConfigureAdvanced:depth0,{name:"if",hash:{},fn:container.program(7,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.canConfigurePage:depth0,{name:"if",hash:{},fn:container.program(9,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")},5:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{},alias3=helpers.helperMissing;return'                                <option value="'+alias1(container.lambda(depth0,depth0))+'" '+(null!=(stack1=helpers.if.call(alias2,depth0,"==",null!=(stack1=null!=depths[1]?depths[1].document:depths[1])?stack1.outputType:stack1,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">\n                                    "+alias1((helpers.i18n||depth0&&depth0.i18n||alias3).call(alias2,(helpers.append||depth0&&depth0.append||alias3).call(alias2,"documents.output_types.",depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"\n                                </option>\n"},7:function(container,depth0,helpers,partials,data){var stack1;return'                    <div class="form-group only-pdf">\n                        <div class="col-sm-2"></div>\n                        <div class="col-sm-10">\n                            <div class="light-note">\n                                Please&nbsp;\n                                <a href="javascript:AppUtils.openChatSupport(\''+container.escapeExpression(container.lambda(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.type:stack1,depth0))+" to PDF has conversion issues. Request for advanced PDF support.')\">\n                                    contact support\n                                </a>&nbsp;\n                                for advanced PDF conversion,  in case generated PDF has formatting issues.\n                            </div>\n                        </div>\n                    </div>\n"},9:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                    <div class="form-group only-pdf">\n                        <label for="page_size" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.page_size",{name:"i18n",hash:{},data:data}))+'</label>\n                        <div class="col-sm-10">\n                            <select class="form-control" name="format" id="page_size">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.pageSizes:depth0,{name:"each",hash:{},fn:container.program(10,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'                            </select>\n                        </div>\n                    </div>\n                    <div class="form-group only-pdf">\n                        <label for="orientation" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.orientation",{name:"i18n",hash:{},data:data}))+'</label>\n                        <div class="col-sm-10">\n                            <select class="form-control" name="orientation" id="orientation">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.orientations:depth0,{name:"each",hash:{},fn:container.program(12,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                            </select>\n                        </div>\n                    </div>\n"},10:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                                    <option value="'+alias2(alias1(depth0,depth0))+'" '+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},depth0,"==",null!=(stack1=null!=depths[1]?depths[1].document:depths[1])?stack1.pageSize:stack1,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">\n                                        "+alias2(alias1(depth0,depth0))+"\n                                    </option>\n"},12:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{},alias3=helpers.helperMissing;return'                                    <option value="'+alias1(container.lambda(depth0,depth0))+'" '+(null!=(stack1=helpers.if.call(alias2,depth0,"==",null!=(stack1=null!=depths[1]?depths[1].document:depths[1])?stack1.orientation:stack1,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">\n                                        "+alias1((helpers.i18n||depth0&&depth0.i18n||alias3).call(alias2,(helpers.append||depth0&&depth0.append||alias3).call(alias2,"documents.form.orientation.",depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"\n                                    </option>\n"},14:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                            <option value="'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depths[1]?depths[1].document:depths[1])?stack1.timeZone:stack1,"===",null!=depth0?depth0.name:depth0,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">"+alias4("function"==typeof(helper=null!=(helper=helpers.timeZone||(null!=depth0?depth0.timeZone:depth0))?helper:alias2)?helper.call(alias1,{name:"timeZone",hash:{},data:data}):helper)+"</option>\n"},16:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'                <div class="form-group">\n                    <label for="flatten_pdf" class="col-sm-2 control-label">\n                        '+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,"documents.form.flatten_pdf",{name:"i18n",hash:{},data:data}))+'\n                    </label>\n                    <div class="col-sm-10">\n                        <input type="checkbox" class="mt-1" name="flatten_pdf" id="flatten_pdf" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.flatten_pdf:stack1,{name:"if",hash:{},fn:container.program(17,data,0),inverse:container.noop,data:data}))?stack1:"")+"/>\n                    </div>\n                </div>\n"},17:function(container,depth0,helpers,partials,data){return"checked"},19:function(container,depth0,helpers,partials,data){return"hide"},21:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'                        <div class="only-pdf">\n                            <hr />\n                            <br />\n                            <div class="row form-group">\n                                <div class="col-md-3">\n                                    <label class="mt-3">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.margins",{name:"i18n",hash:{},data:data}))+'</label>\n                                </div>\n                                <div class="col-md-9">\n                                    <div class="row">\n                                        <div class="col-md-offset-4 col-md-4">\n                                            <div class="form-group has-feedback">\n                                                <input type="number" step="0.1" min="0" max="11" id="margin_top"\n                                                       name="margin_top" title="Top Margin"\n                                                       placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.margin.top",{name:"i18n",hash:{},data:data}))+'"\n                                                       value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.margin:stack1)?stack1.top:stack1,depth0))+'"\n                                                       class="form-control">\n                                                <span class="form-control-feedback">in</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-md-4">\n                                            <div class="form-group has-feedback">\n                                                <input type="number" step="0.1" min="0" max="8" id="margin_left"\n                                                       name="margin_left" title="Left Margin"\n                                                       placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.margin.left",{name:"i18n",hash:{},data:data}))+'"\n                                                       value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.margin:stack1)?stack1.left:stack1,depth0))+'"\n                                                       class="form-control">\n                                                <span class="form-control-feedback">in</span>\n                                            </div>\n                                        </div>\n                                        <div class="col-md-offset-4 col-md-4">\n                                            <div class="form-group has-feedback">\n                                                <input type="number" step="0.1" min="0" max="8" id="margin_right"\n                                                       name="margin_right" title="Right Margin"\n                                                       placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.margin.right",{name:"i18n",hash:{},data:data}))+'"\n                                                       value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.margin:stack1)?stack1.right:stack1,depth0))+'"\n                                                       class="form-control">\n                                                <span class="form-control-feedback">in</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-md-offset-4 col-md-4">\n                                            <div class="form-group has-feedback">\n                                                <input type="number" step="0.1" min="0" max="11" id="margin_bottom"\n                                                       name="margin_bottom" title="Bottom Margin"\n                                                       placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.margin.bottom",{name:"i18n",hash:{},data:data}))+'"\n                                                       value="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.margin:stack1)?stack1.bottom:stack1,depth0))+'"\n                                                       class="form-control">\n                                                <span class="form-control-feedback">in</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="header-footer">\n                            <div class="form-group only-pdf">\n                                <hr />\n                                <br />\n                                <label for="header">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.header",{name:"i18n",hash:{},data:data}))+'</label>\n                                <div id="header-content-editor"></div>\n                                \x3c!--<textarea id="header" class="form-control" name="header">'+alias3(alias4(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.header:stack1,depth0))+'</textarea>--\x3e\n                            </div>\n                            <div class="form-group only-pdf">\n                                <br />\n                                <label for="footer">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.footer",{name:"i18n",hash:{},data:data}))+'</label>\n                                <div id="footer-content-editor"></div>\n                                \x3c!--<textarea id="footer" class="form-control" name="footer">'+alias3(alias4(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.footer:stack1,depth0))+"</textarea>--\x3e\n                            </div>\n                        </div>\n"},23:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.type:stack1,"===","fillable_pdf",{name:"if",hash:{},fn:container.program(24,data,0),inverse:container.noop,data:data}))?stack1:""},24:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'                        <div class="form-group">\n                            <label for="url" class="col-md-12">'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,"documents.form.dynamic_images",{name:"i18n",hash:{},data:data}))+"</label>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.numberOfPages:stack1,{name:"if",hash:{},fn:container.program(25,data,0),inverse:container.program(27,data,0),data:data}))?stack1:"")+"                        </div>\n                    "},25:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=null!=depth0?depth0:container.nullContext||{},alias4=helpers.helperMissing;return'                                <div class="dynamic_images">\n                                    <p class="light-note">\n                                        Dynamic images can be inserted in PDF as per below preferences. <br />\n                                        This document has '+alias2(alias1(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.numberOfPages:stack1,depth0))+" page(s)\n                                        with page width of "+alias2(alias1(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.pageWidth:stack1,depth0))+" px\n                                        and page height of "+alias2(alias1(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.pageHeight:stack1,depth0))+" px\n                                    </p>\n                                </div>\n                                \n                                \n                                "+alias2((helpers.include||depth0&&depth0.include||alias4).call(alias3,"delivery/array-field",(helpers.make_context||depth0&&depth0.make_context||alias4).call(alias3,"values",null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.dynamicImages:stack1,"type","dynamic_images","fields",null!=(stack1=null!=(stack1=null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.listDataTypes:stack1)?stack1.dynamic_images:stack1)?stack1.fields:stack1,{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+"\n"},27:function(container,depth0,helpers,partials,data){return'                                <div class="dynamic_images">\n                                    <p class="light-note">\n                                        Please re-upload your PDF file to configure dynamic images\n                                    </p>\n                                </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="row doc-preferences-wrapper mt-3">\n    <div class="col-sm-offset-1 col-sm-10">\n        <form class="form-horizontal">\n            <div class="form-group">\n                <label for="title" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"form.title",{name:"i18n",hash:{},data:data}))+'</label>\n                <div class="col-sm-10">\n                    <input type="text" class="form-control" name="title" maxlength="50" id="title" required\n                           placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.title",{name:"i18n",hash:{},data:data}))+'" value="'+alias3(alias4(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.title:stack1,depth0))+'">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="description" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"form.description",{name:"i18n",hash:{},data:data}))+'</label>\n                <div class="col-sm-10">\n                    <textarea class="form-control" name="description" maxlength="255" id="description"\n                              placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.description",{name:"i18n",hash:{},data:data}))+'">'+alias3(alias4(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.description:stack1,depth0))+'</textarea>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="folder" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.folder",{name:"i18n",hash:{},data:data}))+'</label>\n                <div class="col-sm-10">\n                    <select name="folder" class="form-control" id="folder">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.folders:depth0,{name:"each",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'                    </select>\n                </div>\n            </div>\n            <div class="form-group has-feedback">\n                <label for="output_file_name" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.output_file_name",{name:"i18n",hash:{},data:data}))+'</label>\n                <div class="col-sm-10">\n                    <input class="form-control" name="output_file_name" id="output_file_name" value="'+alias3(alias4(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.outputFileName:stack1,depth0))+'"/>\n                    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+"\n                </div>\n            </div>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.type:stack1,"!==","fillable_pdf",{name:"if",hash:{},fn:container.program(4,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'            <div class="form-group">\n                <label for="timezone" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.profile.timezone",{name:"i18n",hash:{},data:data}))+'</label>\n                <div class="col-sm-10">\n                    <select class="form-control" name="timezone" id="timezone">\n'+(null!=(stack1=helpers.each.call(alias1,null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.tz:stack1,{name:"each",hash:{},fn:container.program(14,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                    </select>\n                </div>\n            </div>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.type:stack1,"===","fillable_pdf",{name:"if",hash:{},fn:container.program(16,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'            <div class="form-group">\n                <label for="document_status" class="col-sm-2 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.document_status",{name:"i18n",hash:{},data:data}))+'</label>\n                <div class="col-sm-10">\n                    <input type="radio" name="document_status" id="document_status_active" value="active" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.status:stack1,"===","active",{name:"if",hash:{},fn:container.program(17,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+' />\n                    <label for="document_status_active"> '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.document_status_active",{name:"i18n",hash:{},data:data}))+'</label>\n                    <br>\n                    <input type="radio" name="document_status" id="document_status_test" value="test" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.status:stack1,"===","test",{name:"if",hash:{},fn:container.program(17,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+' />\n                    <label for="document_status_test"> '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.document_status_test",{name:"i18n",hash:{},data:data}))+'</label>\n                </div>\n            </div>\n            <div class="more-options">\n                <hr/>\n                <div class="row more-row pointer" data-onclick="toggleMore">\n                    <div class="col-md-11">More options</div>\n                    <div class="col-md-1"><i class="fas fa-chevron-down"></i></div>\n                </div>\n                <div id="hidden-fields" class="col-md-12 '+(null!=(stack1=helpers.unless.call(alias1,null!=depth0?depth0.expandMore:depth0,{name:"unless",hash:{},fn:container.program(19,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'">\n                    <br />\n                    <div class="form-group">\n                        <div class="col-md-3">\n                            <label for="auto_number">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.auto_number",{name:"i18n",hash:{},data:data}))+'</label>\n                        </div>\n                        <div class="col-md-2">\n                            '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"components/toggler",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"checked",(helpers.fn_call||depth0&&depth0.fn_call||alias2).call(alias1,"evaluateLogic",null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.autoNumber:stack1,"!=",void 0,{name:"fn_call",hash:{},data:data}),"square",!1,"id","auto-number",{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+'\n                        </div>\n                        <div class="col-md-7">\n                            <input type="number" step="1" min="0" max="4611686018427387904" id="auto_number"\n                                   class="form-control '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.autoNumber:stack1,"==",void 0,{name:"if",hash:{},fn:container.program(19,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'"\n                                   name="auto_number" value="'+alias3(alias4(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.autoNumber:stack1,depth0))+'"/>\n                        </div>\n                    </div>\n                    <div class="form-group has-feedback only-pdf">\n                        <label for="encryption_key" class="col-md-3 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.password",{name:"i18n",hash:{},data:data}))+'</label>\n                        <div class="col-md-9">\n                            <input type="text" class="form-control" name="encryption_key" maxlength="255" id="encryption_key" autocomplete="off"\n                                   placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.placeholder.password",{name:"i18n",hash:{},data:data}))+'" value="'+alias3(alias4(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.password:stack1,depth0))+'">\n                            '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/field-picker",{name:"include",hash:{},data:data}))+"\n                        </div>\n                    </div>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.type:stack1,"===","html",{name:"if",hash:{},fn:container.program(21,data,0,blockParams,depths),inverse:container.program(23,data,0,blockParams,depths),data:data}))?stack1:"")+'                </div>\n            </div>\n            <hr/>\n\n            <div class="form-group">\n                <div class="col-sm-offset-2 col-sm-10">\n                    <button type="submit" class="btn btn-primary">Save</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>'},useData:!0,useDepths:!0}),this.Handlebars.templates["document_details/document-test"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'        <div id="merge-form-container" class="col-sm-offset-1 col-sm-10">\n        </div>\n        <div class="hidden">\n            <form method="post" action="'+alias4("function"==typeof(helper=null!=(helper=helpers.testURL||(null!=depth0?depth0.testURL:depth0))?helper:alias2)?helper.call(alias1,{name:"testURL",hash:{},data:data}):helper)+'" target="_blank">\n                <input name="data" value="" type="hidden"/>\n                <input name="csrfmiddlewaretoken" value="'+alias4("function"==typeof(helper=null!=(helper=helpers.csrf||(null!=depth0?depth0.csrf:depth0))?helper:alias2)?helper.call(alias1,{name:"csrf",hash:{},data:data}):helper)+'" type="hidden"/>\n            </form>\n        </div>\n        <div class="text-center col-sm-10 col-sm-offset-1 hide">\n            <div class="light-note">\n                This data will be stored and can be reused for testing purposes.\n            </div>\n            <button id="test-doc" data-onclick="testDocument" class="btn btn-primary">\n                '+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.details.tabs.test",{name:"i18n",hash:{},data:data}))+"\n            </button>\n        </div>\n"},3:function(container,depth0,helpers,partials,data){return'        <div class="no-data">\n            No merge fields present..!\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="form-horizontal merge-form test-form">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=depth0?depth0.schema:depth0)?stack1.length:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+"</div>\n"},useData:!0}),this.Handlebars.templates["document_details/document-timeline"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<ul class="timeline timeline-inverse">\n    <li class="time-label">\n            <span class="bg-red">\n              10 Feb. 2014\n            </span>\n    </li>\n    \x3c!-- /.timeline-label --\x3e\n    \x3c!-- timeline item --\x3e\n    <li>\n        <i class="fa fa-envelope bg-blue"></i>\n\n        <div class="timeline-item">\n            <span class="time"><i class="fa fa-clock-o"></i> 12:05</span>\n\n            <h3 class="timeline-header"><a href="#">Support Team</a> sent you an email</h3>\n\n            <div class="timeline-body">\n                Etsy doostang zoodles disqus groupon greplin oooj voxy zoodles,\n                weebly ning heekya handango imeem plugg dopplr jibjab, movity\n                jajah plickers sifteo edmodo ifttt zimbra. Babblely odeo kaboodle\n                quora plaxo ideeli hulu weebly balihoo...\n            </div>\n            <div class="timeline-footer">\n                <a class="btn btn-primary btn-xs">Read more</a>\n                <a class="btn btn-danger btn-xs">Delete</a>\n            </div>\n        </div>\n    </li>\n    \x3c!-- END timeline item --\x3e\n    \x3c!-- timeline item --\x3e\n    <li>\n        <i class="fa fa-user bg-aqua"></i>\n\n        <div class="timeline-item">\n            <span class="time"><i class="fa fa-clock-o"></i> 5 mins ago</span>\n\n            <h3 class="timeline-header no-border"><a href="#">Sarah Young</a> accepted your friend request\n            </h3>\n        </div>\n    </li>\n    \x3c!-- END timeline item --\x3e\n    \x3c!-- timeline item --\x3e\n    <li>\n        <i class="fa fa-comments bg-yellow"></i>\n\n        <div class="timeline-item">\n            <span class="time"><i class="fa fa-clock-o"></i> 27 mins ago</span>\n\n            <h3 class="timeline-header"><a href="#">Jay White</a> commented on your post</h3>\n\n            <div class="timeline-body">\n                Take me to your leader!\n                Switzerland is small and neutral!\n                We are more like Germany, ambitious and misunderstood!\n            </div>\n            <div class="timeline-footer">\n                <a class="btn btn-warning btn-flat btn-xs">View comment</a>\n            </div>\n        </div>\n    </li>\n    \x3c!-- END timeline item --\x3e\n    \x3c!-- timeline time label --\x3e\n    <li class="time-label">\n                        <span class="bg-green">\n                          3 Jan. 2014\n                        </span>\n    </li>\n    \x3c!-- /.timeline-label --\x3e\n    \x3c!-- timeline item --\x3e\n    <li>\n        <i class="fa fa-camera bg-purple"></i>\n\n        <div class="timeline-item">\n            <span class="time"><i class="fa fa-clock-o"></i> 2 days ago</span>\n\n            <h3 class="timeline-header"><a href="#">Mina Lee</a> uploaded new photos</h3>\n\n            <div class="timeline-body">\n                <img src="http://placehold.it/150x100" alt="..." class="margin">\n                <img src="http://placehold.it/150x100" alt="..." class="margin">\n                <img src="http://placehold.it/150x100" alt="..." class="margin">\n                <img src="http://placehold.it/150x100" alt="..." class="margin">\n            </div>\n        </div>\n    </li>\n    \x3c!-- END timeline item --\x3e\n    <li>\n        <i class="fa fa-clock-o bg-gray"></i>\n    </li>\n</ul>'},useData:!0}),this.Handlebars.templates["document_details/field-picker"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<span class="input-mergeable form-control-feedback" data-onclick="showFieldPicker"></span>\n<div class="hidden drop-container">\n    <input type="text" class="dropdown"/>\n</div>'},useData:!0}),this.Handlebars.templates["document_details/merge_fields/default-table-template"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var helper;return"            <td>"+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.col||(null!=depth0?depth0.col:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"col",hash:{},data:data}):helper)+"</td>\n"},3:function(container,depth0,helpers,partials,data){var helper;return"            <td>{{ "+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.field||(null!=depth0?depth0.field:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"field",hash:{},data:data}):helper)+" }}</td>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=container.lambda,alias3=container.escapeExpression;return'<table border="1" style="width: 100%">\n    <tr>\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.cols:depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'    </tr>\n    <tr>\n        <td colspan="'+alias3(alias2(null!=(stack1=null!=depth0?depth0.cols:depth0)?stack1.length:stack1,depth0))+'">{{#each '+alias3("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:helpers.helperMissing)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+" }}</td>\n    </tr>\n    <tr>\n"+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.cols:depth0,{name:"each",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:"")+'    </tr>\n    <tr>\n        <td colspan="'+alias3(alias2(null!=(stack1=null!=depth0?depth0.cols:depth0)?stack1.length:stack1,depth0))+'">{{/each}}</td>\n    </tr>\n</table>'},useData:!0}),this.Handlebars.templates["document_details/merge_fields/insert-condition-boolean"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="col-md-12">\n    '+container.escapeExpression((helpers.include||depth0&&depth0.include||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"document_details/merge_fields/insert-variable",depth0,{name:"include",hash:{},data:data}))+"\n</div>"},useData:!0}),this.Handlebars.templates["document_details/merge_fields/insert-condition-expression"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{},alias3=helpers.helperMissing;return'            <option value="'+alias1(container.lambda(depth0,depth0))+'">'+alias1((helpers.i18n||depth0&&depth0.i18n||alias3).call(alias2,(helpers.append||depth0&&depth0.append||alias3).call(alias2,"document.content.merge_field.conditional.",depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="col-md-4">\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/merge_fields/insert-variable",depth0,{name:"include",hash:{},data:data}))+'\n</div>\n<div class="col-md-4">\n    <select name="conditional" class="form-control">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.conditionals:depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'    </select>\n</div>\n<div class="col-md-4">\n    <input type="text" name="value" class="form-control"\n           placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.content.insert_field.value",{name:"i18n",hash:{},data:data}))+'"/>\n</div>'},useData:!0}),this.Handlebars.templates["document_details/merge_fields/insert-condition"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=null!=depth0?depth0:container.nullContext||{},alias4=helpers.helperMissing;return'                <div class="col-xs-6 col-md-3">\n                    <input type="radio" id="condition-type-'+alias2(alias1(depth0,depth0))+'" name="condition-type" value="'+alias2(alias1(depth0,depth0))+'"\n                           data-type="condition" data-sub_type="'+alias2(alias1(depth0,depth0))+'"\n                           data-onclick="fieldTypeChange" '+(null!=(stack1=helpers.if.call(alias3,depth0,"===",null!=depths[1]?depths[1].subType:depths[1],{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'/>\n                    <label for="condition-type-'+alias2(alias1(depth0,depth0))+'" class="checker-text">\n                        '+alias2((helpers.i18n||depth0&&depth0.i18n||alias4).call(alias3,(helpers.append||depth0&&depth0.append||alias4).call(alias3,"document.content.merge_field.condition.",depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"\n                    </label>\n                </div>\n"},2:function(container,depth0,helpers,partials,data){return"checked"},4:function(container,depth0,helpers,partials,data){return"        "+container.escapeExpression((helpers.include||depth0&&depth0.include||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"document_details/merge_fields/insert-condition-boolean",depth0,{name:"include",hash:{},data:data}))+"\n"},6:function(container,depth0,helpers,partials,data){return"        "+container.escapeExpression((helpers.include||depth0&&depth0.include||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"document_details/merge_fields/insert-condition-expression",depth0,{name:"include",hash:{},data:data}))+"\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'<div class="row">\n    <div class="form-group new-style-radio level-2">\n        <div class="row centre-vertical">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.conditionalFieldTypes:depth0,{name:"each",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'        </div>\n    </div>\n</div>\n<div class="row" id="condition-fields">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.subType:depth0,"==","boolean",{name:"if",hash:{},fn:container.program(4,data,0,blockParams,depths),inverse:container.program(6,data,0,blockParams,depths),data:data}))?stack1:"")+"</div>"},useData:!0,useDepths:!0}),this.Handlebars.templates["document_details/merge_fields/insert-demo"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1;return"                "+(null!=(stack1=container.lambda(null!=(stack1=null!=depth0?depth0.help:depth0)?stack1.insert:stack1,depth0))?stack1:"")+"\n"},3:function(container,depth0,helpers,partials,data){var stack1;return"                <code>"+(null!=(stack1=container.lambda(null!=(stack1=null!=depth0?depth0.help:depth0)?stack1.insert:stack1,depth0))?stack1:"")+"</code>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda;return'<div class="col-md-12 light-note">\n    <small class="text-muted">Example</small>\n    <div class="row text-center">\n        <div class="col-md-4">\n            Field values entered below\n        </div>\n        <div class="col-md-4">\n            What you see in template\n        </div>\n        <div class="col-md-4">\n            Document Output\n        </div>\n    </div>\n    <hr />\n    <div class="row insert-demo">\n        <div class="col-md-3">\n            <code>'+(null!=(stack1=alias1(null!=(stack1=null!=depth0?depth0.help:depth0)?stack1.variable:stack1,depth0))?stack1:"")+'</code>\n        </div>\n        <div class="col-md-5">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.currentType:depth0,"==","table",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+'        </div>\n        <div class="col-md-4">\n            '+(null!=(stack1=alias1(null!=(stack1=null!=depth0?depth0.help:depth0)?stack1.output:stack1,depth0))?stack1:"")+"\n        </div>\n    </div>\n</div>"},useData:!0}),this.Handlebars.templates["document_details/merge_fields/insert-form"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=null!=depth0?depth0:container.nullContext||{},alias4=helpers.helperMissing;return'                    <div class="col-xs-6 col-md-3">\n                        <input type="radio" id="type-'+alias2(alias1(depth0,depth0))+'" name="type" value="'+alias2(alias1(depth0,depth0))+'" data-type="'+alias2(alias1(depth0,depth0))+'"\n                               data-onclick="fieldTypeChange" '+(null!=(stack1=helpers.if.call(alias3,data&&data.index,"===",0,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data}))?stack1:"")+'/>\n                        <label for="type-'+alias2(alias1(depth0,depth0))+'" class="checker-text">\n                            '+alias2((helpers.i18n||depth0&&depth0.i18n||alias4).call(alias3,(helpers.append||depth0&&depth0.append||alias4).call(alias3,"document.content.merge_field.",depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"\n                        </label>\n                    </div>\n"},2:function(container,depth0,helpers,partials,data){return"checked"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="insert-merge-field">\n    <form class="dmio-form">\n        <div class="form-group new-style-radio">\n            <div class="row centre-vertical">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.fieldTypes:depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'            </div>\n        </div>\n        <div class="form-group inputs" id="fields-form">\n            '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/merge_fields/insert-demo",depth0,{name:"include",hash:{},data:data}))+'\n            <div class="col-md-12">\n                '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/merge_fields/insert-variable",depth0,{name:"include",hash:{},data:data}))+"\n            </div>\n        </div>\n    </form>\n</div>"},useData:!0}),this.Handlebars.templates["document_details/merge_fields/insert-loop"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"selected"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="form-group">\n    <select name="loopType" class="form-control" data-onchange="loopTypeChange">\n        <option value="simple" '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.subType:depth0,"==","simple",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+">"+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"document.content.merge_field.loop.default",{name:"i18n",hash:{},data:data}))+'</option>\n        <option value="ol" '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.subType:depth0,"==","ol",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+">"+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"document.content.merge_field.loop.ol",{name:"i18n",hash:{},data:data}))+'</option>\n        <option value="ul" '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.subType:depth0,"==","ul",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+">"+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"document.content.merge_field.loop.ul",{name:"i18n",hash:{},data:data}))+'</option>\n    </select>\n</div>\n<div class="form-group">\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/merge_fields/insert-variable",depth0,{name:"include",hash:{},data:data}))+"\n</div>"},useData:!0}),this.Handlebars.templates["document_details/merge_fields/insert-table"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="form-group">\n    '+alias3((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/merge_fields/insert-variable",depth0,{name:"include",hash:{},data:data}))+'\n</div>\n<div class="form-group">\n    <input type="text" name="cols" class="form-control"\n           placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.content.insert_field.cols",{name:"i18n",hash:{},data:data}))+'"/>\n    <small class="tet-muted">\n        Insert comma separated column names. The same names will be used for field names.\n    </small>\n</div>\n\x3c!--\n<div class="form-group">\n    <div class="row">\n        <div class="col-md-5 table-size">Table Size</div>\n        <div class="col-md-3">\n            <input placeholder="Rows" id="rows" name="rows" class="form-control">\n        </div>\n        <div class="col-md-1 sandwich-text">x</div>\n        <div class="col-md-3">\n            <input placeholder="Columns" id="cols" name="cols" class="form-control">\n        </div>\n    </div>\n</div>\n--\x3e\n'},useData:!0}),this.Handlebars.templates["document_details/merge_fields/insert-variable"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<input type="text" name="name" class="form-control"\n       pattern="^[a-zA-Z][_a-zA-Z0-9.\\s]+$"\n       title="Provide a token name with alphabets, numbers, underscore. First character can only be an alphabet.\n              You may use a .(dot) for adding nested field. Valid Examples: first_name, client.last_name"\n       placeholder="'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"documents.content.insert_field.name",{name:"i18n",hash:{},data:data}))+'" required/>\n'},useData:!0}),this.Handlebars.templates["document_details/merge-fields-list"]=Handlebars.template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=container.escapeExpression,alias3=helpers.helperMissing;return'        <li>\n            <a class="'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.disabled:depth0,{name:"if",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.program(4,data,0,blockParams,depths),data:data}))?stack1:"")+'">\n                <div class="row">\n                    <span class="ellipsis col-md-5 col-xlg-6" title="'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.tooltip:depth0,{name:"if",hash:{},fn:container.program(6,data,0,blockParams,depths),inverse:container.program(8,data,0,blockParams,depths),data:data}))?stack1:"")+'">\n                        '+alias2(container.lambda(null!=depth0?depth0.name:depth0,depth0))+'\n                    </span>\n                    <small class="label pull-right merge-field-type '+alias2("function"==typeof(helper=null!=(helper=helpers.labelClass||(null!=depth0?depth0.labelClass:depth0))?helper:alias3)?helper.call(alias1,{name:"labelClass",hash:{},data:data}):helper)+'">'+alias2("function"==typeof(helper=null!=(helper=helpers.readableType||(null!=depth0?depth0.readableType:depth0))?helper:alias3)?helper.call(alias1,{name:"readableType",hash:{},data:data}):helper)+"</small>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depths[1]?depths[1].isQuickInsertEnabled:depths[1],{name:"if",hash:{},fn:container.program(10,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.fields:depth0,{name:"if",hash:{},fn:container.program(13,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"                </div>\n            </a>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.fields:depth0,{name:"if",hash:{},fn:container.program(15,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"        </li>\n"},2:function(container,depth0,helpers,partials,data){return"pill-container-disabled"},4:function(container,depth0,helpers,partials,data){return"pill-container"},6:function(container,depth0,helpers,partials,data){return container.escapeExpression(container.lambda(null!=depth0?depth0.tooltip:depth0,depth0))},8:function(container,depth0,helpers,partials,data){return container.escapeExpression(container.lambda(null!=depth0?depth0.name:depth0,depth0))},10:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.unless.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.disabled:depth0,{name:"unless",hash:{},fn:container.program(11,data,0),inverse:container.noop,data:data}))?stack1:""},11:function(container,depth0,helpers,partials,data){var alias1=container.lambda,alias2=container.escapeExpression;return'                            <span class="pull-right dmio-icon fas fa-copy"\n                                  data-onclick="insertField"\n                                  data-fieldname="'+alias2(alias1(null!=depth0?depth0.name:depth0,depth0))+'"\n                                  title=\'insert "'+alias2(alias1(null!=depth0?depth0.name:depth0,depth0))+'" at current pointer\'\n                                  data-toggle="tooltip"\n                                  data-placement="auto bottom">\n                            </span>\n'},13:function(container,depth0,helpers,partials,data){return"                        <span class=\"pull-right dmio-icon fas fa-chevron-right merge-child-fields\"\n                              onclick=\"jQuery(this).toggleClass('closed').parent().parent().siblings('ul').toggle();\"\n                              title='click to see/hide nested fields'>\n                    </span>\n"},15:function(container,depth0,helpers,partials,data,blockParams,depths){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return"                "+container.escapeExpression((helpers.include||depth0&&depth0.include||alias2).call(alias1,"document_details/merge-fields-list",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"data",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"schema",null!=depth0?depth0.fields:depth0,{name:"make_context",hash:{},data:data}),"isQuickInsertEnabled",null!=depths[1]?depths[1].isQuickInsertEnabled:depths[1],{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+"\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return'<ul class="nav nav-pills nav-stacked merge-fields-list">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.schema:stack1,{name:"each",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+"</ul>"},useData:!0,useDepths:!0}),this.Handlebars.templates["document_details/merge-fields"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var helper;return'        <pre class="error-text">'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.errors||(null!=depth0?depth0.errors:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"errors",hash:{},data:data}):helper)+"</pre>\n"},3:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.schema:stack1)?stack1.length:stack1,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.program(6,data,0),data:data}))?stack1:""},4:function(container,depth0,helpers,partials,data){return"            "+container.escapeExpression((helpers.include||depth0&&depth0.include||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"document_details/merge-fields-list",depth0,{name:"include",hash:{},data:data}))+"\n"},6:function(container,depth0,helpers,partials,data){return'            <div class="no-data">\n                '+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"documents.details.rhs.merge_fields.no_data",{name:"i18n",hash:{},data:data}))+"\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'<div class="box-header with-border">\n    <h3 class="box-title">'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,null!=depth0?depth0.label:depth0,{name:"i18n",hash:{},data:data}))+'</h3>\n\n    <div class="box-tools pull-right">\n        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="wb-arrow-shrink"></i>\n        </button>\n    </div>\n</div>\n<div class="box-body">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.errors:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+"</div>"},useData:!0}),this.Handlebars.templates["document_details/merge-success"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="text-center">\n    <h2>'+alias3((helpers.global||depth0&&depth0.global||alias2).call(alias1,"Adhara.app.name",{name:"global",hash:{},data:data}))+'</h2>\n    <div class="merge-success info">\n        Document <strong>"'+alias3(container.lambda(null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.title:stack1,depth0))+'"</strong> merged successfully\n        <div class="text-center col-sm-10 col-sm-offset-1">\n            <button id="merge-doc" data-onclick="anotherMerge" class="btn btn-primary">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"document.merge.another",{name:"i18n",hash:{},data:data}))+"</button>\n        </div>\n    </div>\n</div>"},useData:!0}),this.Handlebars.templates["document_details/rhs-summary"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1;return'                    <p class="text-muted text-justify doc-description">'+container.escapeExpression(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.description:stack1,depth0))+"</p>\n"},3:function(container,depth0,helpers,partials,data){return'                    <p class="text-muted text-justify doc-description">-- No Description --</p>\n'},5:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.unless.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.isTrashed:stack1,{name:"unless",hash:{},fn:container.program(6,data,0),inverse:container.noop,data:data}))?stack1:""},6:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return"            <h4>Ready to activate your Template?</h4>\n            <p>\n                Your template is in test mode.\n                "+container.escapeExpression((helpers.include||depth0&&depth0.include||alias2).call(alias1,"components/toggler",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"checked",(helpers.fn_call||depth0&&depth0.fn_call||alias2).call(alias1,"evaluateLogic",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.status:stack1,"===","active",{name:"fn_call",hash:{},data:data}),"square",!1,"id","status-slider",{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+"\n                <br>\n                While active, the created documents will not have any watermarks.\n                \x3c!--While active, document generation will be un-throttled without watermarks.--\x3e\n            </p>\n"},8:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return"            <p>\n                Your template is active.\n                "+container.escapeExpression((helpers.include||depth0&&depth0.include||alias2).call(alias1,"components/toggler",(helpers.make_context||depth0&&depth0.make_context||alias2).call(alias1,"checked",(helpers.fn_call||depth0&&depth0.fn_call||alias2).call(alias1,"evaluateLogic",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.status:stack1,"===","active",{name:"fn_call",hash:{},data:data}),"square",!1,"id","status-slider",{name:"make_context",hash:{},data:data}),{name:"include",hash:{},data:data}))+"\n            </p>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="box-body box-profile">\n    <div class="summary-holder">\n        <div class="row">\n            <div class="col-xs-3 col-xlg-2">\n                <img class="details-doc-img" src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"doc_types/",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.outputType:stack1,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'.png" alt="'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.outputType:stack1,depth0))+' output" title="Output format"/>\n                <div class="doc-status doc-status-'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.status:stack1,depth0))+'" title="Document status"> '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"documents.form.document_status_",null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.status:stack1,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+' </div>\n            </div>\n            <div class="col-xs-9">\n                <h3 class="mt-0">'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.title:stack1,depth0))+"</h3>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.description:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+'            </div>\n        </div>\n    </div>\n    <div class="status-alert">\n'+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.document:stack1)?stack1.status:stack1,"===","test",{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.program(8,data,0),data:data}))?stack1:"")+"    </div>\n</div>"},useData:!0}),this.Handlebars.templates["document_details/rhs"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="doc-details-rhs-wrapper">\n    <div id="doc-summary" class="doc-summary">\n    </div>\n    <div id="reserved-tokens" class="merge-fields">\n    </div>\n    <div id="merge-fields" class="merge-fields">\n    </div>\n    <div id="rhs-help">\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["documents/copy-template"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<form>\n    <div class="form-group" onkeydown="return event.key != \'Enter\';">\n        <label for="copy-title">Template name</label>\n        <input type="text" id="copy-title" name="title" class="form-control"\n               value="'+alias4("function"==typeof(helper=null!=(helper=helpers.newName||(null!=depth0?depth0.newName:depth0))?helper:alias2)?helper.call(alias1,{name:"newName",hash:{},data:data}):helper)+'" maxlength="50"\n               placeholder="'+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.title",{name:"i18n",hash:{},data:data}))+'" required/>\n    </div>\n    <div class="light-note">\n        Template <b>'+alias4("function"==typeof(helper=null!=(helper=helpers.entryName||(null!=depth0?depth0.entryName:depth0))?helper:alias2)?helper.call(alias1,{name:"entryName",hash:{},data:data}):helper)+"</b> will be copied along with preferences and deliveries\n    </small>\n</form>\n"},useData:!0}),this.Handlebars.templates["documents/delivery-delete-alert"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return"Sure to delete <b>"+container.escapeExpression(container.lambda(null!=depth0?depth0.entryName:depth0,depth0))+"</b> delivery?"},useData:!0}),this.Handlebars.templates["documents/documents-card-item"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'    <div class="doc-card doc-card-new" data-onclick="newDocument">\n        <div class="product-img">\n            <img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"new_brown.png",{name:"static_img",hash:{},data:data}))+'" alt="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.create",{name:"i18n",hash:{},data:data}))+'" class="h110">\n        </div>\n        <div class="add-new-text">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.create",{name:"i18n",hash:{},data:data}))+"</div>\n    </div>\n"},3:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'    <div class="doc-card" href="/templates/'+alias4(typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+"/"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.type:depth0,"===","html",{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.program(6,data,0),data:data}))?stack1:"")+'" route>\n        <div class="doc-actions">\n            <div class="overflow-container" data-onclick="overflowToggle" data-toggle="overflow-menu">\n                <i class="dmio-icon dr-overflow"></i>\n            </div>\n            <div class="overflow-menu doc-actions-list">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.mutable:depth0,{name:"if",hash:{},fn:container.program(8,data,0),inverse:container.program(10,data,0),data:data}))?stack1:"")+"            </div>\n        </div>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.mutable:depth0,{name:"if",hash:{},fn:container.program(12,data,0),inverse:container.noop,data:data}))?stack1:"")+'        <div class="product-img">\n            \x3c!--<img src="'+alias4((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"doc_types/",null!=depth0?depth0.outputType:depth0,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'.png" alt="'+alias4(typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+'" class="h100 output-type">\n            <img src="'+alias4((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"doc_types/",null!=depth0?depth0.type:depth0,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'.png" alt="'+alias4(typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+'" class="h100 input-type">--\x3e\n            <img src="'+alias4((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"doc_types/",null!=depth0?depth0.outputType:depth0,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'.png" alt="'+alias4(typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+'" class="h100">\n        </div>\n        <div class="product-info">\n            <div class="ellipsis">\n                <a href="/templates/'+alias4(typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+"/"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.type:depth0,"===","html",{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.program(6,data,0),data:data}))?stack1:"")+'" class="product-title" title="'+alias4(typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+'" route>'+alias4(typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+"</a>\n            </div>\n        </div>\n    </div>\n"},4:function(container,depth0,helpers,partials,data){return"editor"},6:function(container,depth0,helpers,partials,data){return"content"},8:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                    <div class="overflow-item">\n                        <i class="dmio-icon fas fa-pencil-alt"></i>\n                        '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.edit",{name:"i18n",hash:{},data:data}))+'\n                    </div>\n                    <div class="overflow-item" data-onclick="copyTemplate" data-id="'+alias3("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n                        <i class="dmio-icon fas fa-copy"></i>\n                        '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.copy",{name:"i18n",hash:{},data:data}))+'\n                    </div>\n                    <div class="overflow-item" data-onclick="deleteDocument" data-id="'+alias3("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n                        <i class="dmio-icon fas fa-trash"></i>\n                        '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.trash",{name:"i18n",hash:{},data:data}))+"\n                    </div>\n"},10:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                    <div class="overflow-item" data-onclick="restoreDocument" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n                        <i class="dmio-icon fas fa-undo-alt"></i>\n                        '+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.restore",{name:"i18n",hash:{},data:data}))+'\n                    </div>\n                    <div class="overflow-item" data-onclick="deleteDocument" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n                        <i class="dmio-icon fas fa-trash"></i>\n                        '+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.del_permanent",{name:"i18n",hash:{},data:data}))+"\n                    </div>\n"},12:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'            <span class="doc-status doc-status-'+alias3("function"==typeof(helper=null!=(helper=helpers.status||(null!=depth0?depth0.status:depth0))?helper:alias2)?helper.call(alias1,{name:"status",hash:{},data:data}):helper)+'"> '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"documents.form.document_status_",null!=depth0?depth0.status:depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+" </span>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.add:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:""},useData:!0}),this.Handlebars.templates["documents/documents-list-container"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return'        <div class="light-note">\n            Templates in Trash will be deleted permanently 30 days after moving to Trash\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="documents-list">\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.isImmutableFolder:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'    <div class="box-body">\n        <div id="documents-list"></div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["documents/folder-delete-alert"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper;return"Sure to delete folder <b>"+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.entryName||(null!=depth0?depth0.entryName:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"entryName",hash:{},data:data}):helper)+"</b>?\n<br />\nDocument's inside the folder will be moved to <i class='wb-home'></i> home."},useData:!0}),this.Handlebars.templates["documents/folders-breadcrumb"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return'<a href="/templates">'},3:function(container,depth0,helpers,partials,data){return"</a>"},5:function(container,depth0,helpers,partials,data){var stack1;return'            <li class="active">'+container.escapeExpression(container.lambda(null!=(stack1=null!=depth0?depth0.folder:depth0)?stack1.name:stack1,depth0))+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'<div class="box-header with-border">\n    <ol class="box-title breadcrumb">\n        <li>\n            '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.folder:depth0)?stack1.id:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'\n            <i class="wb-home"></i>&nbsp;&nbsp;'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(alias1,"folders.home",{name:"i18n",hash:{},data:data}))+"\n            "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.folder:depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:"")+"\n        </li>\n"+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.folder:depth0)?stack1.id:stack1,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.noop,data:data}))?stack1:"")+"    </ol>\n</div>"},useData:!0}),this.Handlebars.templates["documents/folders-list"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1;return'    <ul class="folders-list nav nav-pills nav-stacked">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.data:depth0,{name:"each",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data}))?stack1:"")+"    </ul>\n"},2:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.add:depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))?stack1:""},3:function(container,depth0,helpers,partials,data){return'                <li>\n                    <a class="folder-holder">\n                        <i class="dmio-icon fas fa-folder"></i>\n                        Add a New Folder\n                    </a>\n                </li>\n'},5:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return"                <li "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.active:depth0,{name:"if",hash:{},fn:container.program(6,data,0),inverse:container.noop,data:data}))?stack1:"")+">\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.id:depth0,{name:"if",hash:{},fn:container.program(8,data,0),inverse:container.program(11,data,0),data:data}))?stack1:"")+"                </li>\n"},6:function(container,depth0,helpers,partials,data){return'class="active"'},8:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                        <a href="'+alias4("function"==typeof(helper=null!=(helper=helpers.href||(null!=depth0?depth0.href:depth0))?helper:alias2)?helper.call(alias1,{name:"href",hash:{},data:data}):helper)+'" class="folder-holder d-flex">\n                            <i class="dmio-icon fas fa-folder'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.active:depth0,{name:"if",hash:{},fn:container.program(9,data,0),inverse:container.noop,data:data}))?stack1:"")+'"></i>\n                            <div class="folder-name ellipsis">'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'</div>\n                        </a>\n                        <div class="folder-actions pull-right">\n                            <i class="dmio-icon fas fa-pencil-alt" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'" data-onclick="editFolder"></i>\n                            <i class="dmio-icon fas fa-trash" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'" data-onclick="deleteFolder"></i>\n                        </div>\n'},9:function(container,depth0,helpers,partials,data){return"-open"},11:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                        <a href="'+alias4("function"==typeof(helper=null!=(helper=helpers.href||(null!=depth0?depth0.href:depth0))?helper:alias2)?helper.call(alias1,{name:"href",hash:{},data:data}):helper)+'" class="folder-holder '+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'-folder reserved-folder">\n                            <i class="dmio-icon fas fa-'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'"></i>\n                            '+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"\n                        </a>\n"},13:function(container,depth0,helpers,partials,data){return'    <div class="no-data">\n        Click on <b data-onclick="newFolder"> New Folder </b> button to create a folder\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.data:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(13,data,0),data:data}))?stack1:""},useData:!0}),this.Handlebars.templates["documents/inline-search-results"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'        <img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"doc_types/",null!=depth0?depth0.outputType:depth0,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'.png" alt="'+alias3("function"==typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+'" class="h100">\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<div class="document-search-result" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.outputType:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'    <div class="title-content">'+alias4("function"==typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+"</div>\n</div>\n"},useData:!0}),this.Handlebars.templates["documents/new-document"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<form class="new-doc-form dmio-form">\n    <div class="form-group new-style-radio">\n        <div class="row mt-2">\n            <div class="col-xs-6 col-md-2 col-md-offset-1">\n                <div class="card">\n                    <input type="radio" id="type-html" name="type" value="html" checked/>\n                    <label for="type-html">\n                        <img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"doc_types/html.png",{name:"static_img",hash:{},data:data}))+'" />\n                    </label>\n                </div>\n                <div class="doc-type-description">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.create.wysiwyg",{name:"i18n",hash:{},data:data}))+'</div>\n            </div>\n            <div class="col-xs-6 col-md-2">\n                <div class="card">\n                    <input type="radio" id="type-docx" name="type" value="docx"/>\n                    <label for="type-docx">\n                        <img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"doc_types/docx.png",{name:"static_img",hash:{},data:data}))+'" />\n                    </label>\n                </div>\n                <div class="doc-type-description">Upload a .docx file</div>\n            </div>\n            <div class="col-xs-6 col-md-2">\n                <div class="card">\n                    <input type="radio" id="type-pptx" name="type" value="pptx"/>\n                    <label for="type-pptx">\n                        <img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"doc_types/pptx.png",{name:"static_img",hash:{},data:data}))+'" />\n                    </label>\n                </div>\n                <div class="doc-type-description">Upload a .pptx file</div>\n            </div>\n            <div class="col-xs-6 col-md-2">\n                <div class="card">\n                    <input type="radio" id="type-pdf" name="type" value="fillable_pdf"/>\n                    <label for="type-pdf">\n                        <img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"doc_types/pdf.png",{name:"static_img",hash:{},data:data}))+'" />\n                    </label>\n                </div>\n                <div class="doc-type-description">Upload a fillable pdf file</div>\n            </div>\n            <div class="col-xs-6 col-md-2">\n                <div class="card">\n                    <input type="radio" id="type-xlsx" name="type" value="xlsx"/>\n                    <label for="type-xlsx">\n                        <img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"doc_types/xlsx.png",{name:"static_img",hash:{},data:data}))+'" />\n                    </label>\n                </div>\n                <div class="doc-type-description">Upload a .xlsx file</div>\n            </div>\n        </div>\n        \x3c!--<div class="row mt-2">\n            <div class="col-xs-6 col-md-2 col-md-offset-1">\n                <div class="card">\n                    <input type="radio" id="type-g_document" name="type" value="g_document"/>\n                    <label for="type-g_document">\n                        <img src="https://img.icons8.com/color/98/000000/google-docs.png" />\n                    </label>\n                </div>\n                <div class="doc-type-description">Link a Google Document</div>\n            </div>\n            <div class="col-xs-6 col-md-2">\n                <div class="card">\n                    <input type="radio" id="type-g_presentation" name="type" value="g_presentation"/>\n                    <label for="type-g_presentation">\n                        <img src="https://img.icons8.com/color/98/000000/google-slides.png" />\n                    </label>\n                </div>\n                <div class="doc-type-description">Link a Google Slide</div>\n            </div>\n            <div class="col-xs-6 col-md-2">\n                <div class="card">\n                    <input type="radio" id="type-g_spreadsheet" name="type" value="g_spreadsheet"/>\n                    <label for="type-g_spreadsheet">\n                        <img src="https://img.icons8.com/color/98/000000/google-sheets.png" />\n                    </label>\n                </div>\n                <div class="doc-type-description">Link a Google Sheet</div>\n            </div>\n        </div>--\x3e\n    </div>\n    <hr />\n    <div class="form-group">\n        <input type="text" name="title" class="form-control"\n               placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.title",{name:"i18n",hash:{},data:data}))+'" maxlength="50" required/>\n    </div>\n    <div class="form-group">\n        <textarea name="description" class="form-control" placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.form.description",{name:"i18n",hash:{},data:data}))+'" maxlength="255"></textarea>\n    </div>\n</form>'},useData:!0}),this.Handlebars.templates["documents/new-folder"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'<form class="dmio-form">\n    <input type="text" name="name" class="form-control"\n           placeholder="'+alias1((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"folders.form.name",{name:"i18n",hash:{},data:data}))+'" value="'+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.folder:depth0)?stack1.name:stack1,depth0))+'" maxlength="50" required/>\n</form>\n'},useData:!0}),this.Handlebars.templates["documents/template-delete-alert"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"<br />This template status will be set to Test"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return"Sure to delete template <b>"+container.escapeExpression(container.lambda(null!=depth0?depth0.entryName:depth0,depth0))+"</b>?\n"+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=(stack1=null!=depth0?depth0.document:depth0)?stack1.isActive:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+"\n"},useData:!0}),this.Handlebars.templates["documents/template-permanent-delete-alert"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return"Are you sure to permanently delete template <b>"+container.escapeExpression(container.lambda(null!=depth0?depth0.entryName:depth0,depth0))+"</b>?\nDeleted document cannot be retrieved!"},useData:!0}),this.Handlebars.templates["documents/templates-template-header"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<tr>\n    <td>\n        <div class="col-md-4">\n            Template Name\n        </div>\n        <div class="col-md-1">\n            Status\n        </div>\n        <div class="col-md-2 col-md-offset-1">\n            Conversion Type\n        </div>\n    </td>\n</tr>\n'},useData:!0}),this.Handlebars.templates["documents/templates-template-item"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"editor"},3:function(container,depth0,helpers,partials,data){return"content"},5:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing;return"            "+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"documents.output_types.",null!=depth0?depth0.outputType:depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"\n"},7:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return"            "+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"documents.input_types.",null!=depth0?depth0.inputType:depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+'\n            <i class="fas fa-arrow-right"></i>\n            '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"documents.output_types.",null!=depth0?depth0.outputType:depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+"\n"},9:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'            <i class="dmio-icon fas fa-edit"></i>\n            <i class="dmio-icon fas fa-copy" data-onclick="copyTemplate" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"></i>\n            <i class="dmio-icon fas fa-trash pull-right" data-onclick="deleteDocument" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"></i>\n'},11:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'            <i class="dmio-icon fas fa-undo-alt" data-onclick="restoreDocument" title="Restore Template" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"></i>\n            <i class="dmio-icon fas fa-trash pull-right" data-onclick="deleteDocument" title="Delete Permanently" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="row" href="/templates/'+alias4(typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+"/"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.type:depth0,"===","html",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+'" route>\n    <div class="col-md-4">\n        <div class="product-img">\n            <img src="'+alias4((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"doc_types/",null!=depth0?depth0.outputType:depth0,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'.png" alt="'+alias4(typeof(helper=null!=(helper=helpers.outputType||(null!=depth0?depth0.outputType:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"outputType",hash:{},data:data}):helper)+'" title="Output format"/>\n        </div>\n        '+alias4(typeof(helper=null!=(helper=helpers.title||(null!=depth0?depth0.title:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper)+'\n    </div>\n    <div class="col-md-1">\n        <div class="doc-status doc-status-'+alias4(typeof(helper=null!=(helper=helpers.status||(null!=depth0?depth0.status:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"status",hash:{},data:data}):helper)+'" href="/templates/'+alias4(typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'/preferences" route>\n            '+alias4(typeof(helper=null!=(helper=helpers.status||(null!=depth0?depth0.status:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"status",hash:{},data:data}):helper)+'\n        </div>\n    </div>\n    <div class="col-md-3 col-md-offset-1 doc-conversion" href="/templates/'+alias4(typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'/preferences" route>\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.inputType:depth0,"===",null!=depth0?depth0.outputType:depth0,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.program(7,data,0),data:data}))?stack1:"")+'    </div>\n    <div class="col-md-2 col-md-offset-1 doc-actions">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.mutable:depth0,{name:"if",hash:{},fn:container.program(9,data,0),inverse:container.program(11,data,0),data:data}))?stack1:"")+"    </div>\n</div>\n"},useData:!0}),this.Handlebars.templates["home-view"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="home-view row">\n    <div class="col-md-3">\n        \x3c!--<button type="button" class="btn btn-primary btn-block margin-bottom" data-onclick="newFolder">\n        </button>--\x3e\n        <div class="">\n            <div class="box-header with-border">\n                <h3 class="box-title">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"folders.label",{name:"i18n",hash:{},data:data}))+'</h3>\n                <div class="add-new-icon pull-right new-folder" data-onclick="newFolder" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"folders.create",{name:"i18n",hash:{},data:data}))+'"></div>\n            </div>\n            <div class="box-body no-padding" id="folders"></div>\n        </div>\n    </div>\n    <div class="col-md-9" id="documents"></div>\n</div>'},useData:!0}),this.Handlebars.templates["merge-form-container"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div id="dmio-wrapper" class="wrapper container-wrapper merge-form-wrapper" style="height:auto;">\n    <div class="content-wrapper container" id="content-wrapper" style="min-height: 420px;">\n        <section class="content">\n            <div id="main-content"></div>\n        </section>\n    </div>\n    <div id="alertHolder"></div>\n    <iframe src="" style="display:none" id="merge-download-frame"></iframe>\n</div>'},useData:!0}),this.Handlebars.templates["reports/history-data"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper;return'<pre style="font-family: monospace; border: none;">'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.data||(null!=depth0?depth0.data:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"data",hash:{},data:data}):helper)+"</pre>\n"},useData:!0}),this.Handlebars.templates["reports/report-history-list-header"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<th>\n    <div class="row">\n        <div class="col-sm-5 col-sm-offset-1">Document</div>\n        <div class="col-sm-2">Status</div>\n        <div class="col-sm-3">Message</div>\n        <div class="col-sm-1"></div>\n    </div>\n</th>\n'},useData:!0}),this.Handlebars.templates["reports/report-history-list-item"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var helper;return"by "+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.by||(null!=depth0?depth0.by:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"by",hash:{},data:data}):helper)},3:function(container,depth0,helpers,partials,data){return'            <div title="'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"reports.download.expired",{name:"i18n",hash:{},data:data}))+'">\n                <i class="dmio-icon fas fa-file-download text-muted" style="cursor: default"></i>\n            </div>\n'},5:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'            <div data-onclick="downloadMergedFile" data-id="'+alias3("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"reports.download",{name:"i18n",hash:{},data:data}))+'">\n                <i class="dmio-icon fas fa-file-download"></i>\n            </div>\n'},7:function(container,depth0,helpers,partials,data){return'            <div title="'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"reports.data.expired",{name:"i18n",hash:{},data:data}))+'">\n                <i class="dmio-icon fas fa-eye-slash text-muted" style="cursor: default"></i>\n            </div>\n'},9:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'            <div data-onclick="viewData" data-id="'+alias3("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"reports.view_data",{name:"i18n",hash:{},data:data}))+'">\n                <i class="dmio-icon fas fa-eye"></i>\n            </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{},alias3=helpers.helperMissing,alias4="function";return'<div class="row">\n    <div class="col-sm-1">\n        <div class="report-delivery-icon delivery-template-icon delivery-icon '+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.delivery:depth0)?stack1.cssClasses:stack1,depth0))+'"></div>\n        \x3c!--<img src="" height="60"/>--\x3e\n    </div>\n    <div class="col-sm-5">\n        <div class="doc-title">'+alias1(typeof(helper=null!=(helper=helpers.documentTitle||(null!=depth0?depth0.documentTitle:depth0))?helper:alias3)===alias4?helper.call(alias2,{name:"documentTitle",hash:{},data:data}):helper)+'</div>\n        <div class="doc-output-file">'+alias1(typeof(helper=null!=(helper=helpers.outputFileName||(null!=depth0?depth0.outputFileName:depth0))?helper:alias3)===alias4?helper.call(alias2,{name:"outputFileName",hash:{},data:data}):helper)+'</div>\n        <small class="text-muted doc-timestamp">'+(null!=(stack1=typeof(helper=null!=(helper=helpers.mergeTime||(null!=depth0?depth0.mergeTime:depth0))?helper:alias3)===alias4?helper.call(alias2,{name:"mergeTime",hash:{},data:data}):helper)?stack1:"")+"</small>\n        "+(null!=(stack1=helpers.if.call(alias2,null!=depth0?depth0.by:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'  \n    </div>\n    <div class="col-sm-2">\n        <div class="status-text '+alias1(typeof(helper=null!=(helper=helpers.statusClass||(null!=depth0?depth0.statusClass:depth0))?helper:alias3)===alias4?helper.call(alias2,{name:"statusClass",hash:{},data:data}):helper)+'">\n            '+alias1((helpers.i18n||depth0&&depth0.i18n||alias3).call(alias2,(helpers.append||depth0&&depth0.append||alias3).call(alias2,"common.",null!=depth0?depth0.status:depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+'<br/>\n        </div>\n    </div>\n    <div class="col-sm-3">\n        <div class="status-message">\n            '+alias1(typeof(helper=null!=(helper=helpers.statusMessage||(null!=depth0?depth0.statusMessage:depth0))?helper:alias3)===alias4?helper.call(alias2,{name:"statusMessage",hash:{},data:data}):helper)+'\n        </div>\n    </div>\n    <div class="col-sm-1">\n'+(null!=(stack1=helpers.if.call(alias2,null!=depth0?depth0.isDocumentExpired:depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))?stack1:"")+(null!=(stack1=helpers.if.call(alias2,null!=depth0?depth0.isDataExpired:depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.program(9,data,0),data:data}))?stack1:"")+"    </div>\n</div>\n"},useData:!0}),this.Handlebars.templates["reports/reports-history-filter-form"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"selected"},3:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'        <input type="text" class="date-range form-control m-0 d-inline-block" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.start_date",{name:"i18n",hash:{},data:data}))+'"\n               id="report-start-date" name="start_date" value="'+alias3("function"==typeof(helper=null!=(helper=helpers.start_date||(null!=depth0?depth0.start_date:depth0))?helper:alias2)?helper.call(alias1,{name:"start_date",hash:{},data:data}):helper)+'"/>\n        <div class="hyphen d-inline-block">to</div>\n        <input type="text" class="date-range form-control m-0 d-inline-block" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.end_date",{name:"i18n",hash:{},data:data}))+'"\n               id="report-end-date" name="end_date" value="'+alias3("function"==typeof(helper=null!=(helper=helpers.end_date||(null!=depth0?depth0.end_date:depth0))?helper:alias2)?helper.call(alias1,{name:"end_date",hash:{},data:data}):helper)+'"/>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<form class="dmio-form">\n    <select name="doc_id" class="form-control doc-search d-inline-block" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"document.label",{name:"i18n",hash:{},data:data}))+'">\n        <option value="'+alias3(alias4(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.doc_id:stack1,depth0))+'" selected>'+alias3(alias4(null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.doc_title:stack1,depth0))+'</option>\n    </select>\n    <select name="status" class="form-control d-inline-block" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"delivery.status",{name:"i18n",hash:{},data:data}))+'" data-onchange="filterChanged">\n        <option value="all">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.all",{name:"i18n",hash:{},data:data}))+'</option>\n        <option value="success" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.status:stack1,"===","success",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+">"+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.success",{name:"i18n",hash:{},data:data}))+'</option>\n        <option value="error" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.status:stack1,"===","error",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+">"+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.error",{name:"i18n",hash:{},data:data}))+'</option>\n        <option value="pending" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.status:stack1,"===","pending",{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+">"+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.pending",{name:"i18n",hash:{},data:data}))+"</option>\n    </select>\n"+(null!=(stack1=helpers.with.call(alias1,null!=depth0?depth0.dateRange:depth0,{name:"with",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:"")+'</form>\n<button class="btn btn-gray d-inline-block" data-onclick="filterChanged" title="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"common.refresh",{name:"i18n",hash:{},data:data}))+'"><i class="fas fa-sync"></i></button>\n<button class="btn btn-gray d-inline-block" data-onclick="clearFilters">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"reports.reset_filters",{name:"i18n",hash:{},data:data}))+"</button>"},useData:!0}),this.Handlebars.templates["reports/reports-history"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="reports-history-container">\n    <div class="col-md-12">\n        <h1>'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"reports.history",{name:"i18n",hash:{},data:data}))+'</h1>\n        <div id="reports-history-filter-form"></div>\n        <div class="mt-3 row">\n            <div id="reports-history-list"></div>\n        </div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["reports/reports-home"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="row reports-container">\n    <div class="col-md-9" id="reports-tabs-container">\n    </div>\n    <div class="col-md-3" id="reports-info-container">\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["reports/reports-overview"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                                    <input type="text" class="form-control" id="report-start-date" value="'+alias4("function"==typeof(helper=null!=(helper=helpers.threeMonthsBack||(null!=depth0?depth0.threeMonthsBack:depth0))?helper:alias2)?helper.call(alias1,{name:"threeMonthsBack",hash:{},data:data}):helper)+'" />\n                                    <div class="input-group-addon">to</div>\n                                    <input type="text" class="form-control" id="report-end-date" value="'+alias4("function"==typeof(helper=null!=(helper=helpers.now||(null!=depth0?depth0.now:depth0))?helper:alias2)?helper.call(alias1,{name:"now",hash:{},data:data}):helper)+'" />\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="row reports-overview-container">\n    <div class="col-md-12" id="settings">\n        <h1>'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"reports.overview",{name:"i18n",hash:{},data:data}))+'</h1>\n        <div class="form-horizontal">\n            <div class="">\n                <div class="form-group">\n                    <label class="col-sm-1 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"reports.pickdate",{name:"i18n",hash:{},data:data}))+'</label>\n                    <div class="col-md-3">\n                        <div class="date-container">\n                            <div class="input-group input-daterange">\n'+(null!=(stack1=helpers.with.call(alias1,null!=depth0?depth0.defaultDateRange:depth0,{name:"with",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-md-1 col-md-offset-3">\n                        <button class="btn btn-primary" data-onclick="showReport">Show Report</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="mt-3">\n            <div id="merge-report"></div>\n            <div id="delivery-report"></div>\n            <div id="output-format-report"></div>\n            <div id="merges-by-document-report"></div>\n        </div>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["settings/api-template-header"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<tr>\n    <td>\n        <div class="col-md-4">\n            Name\n        </div>\n        <div class="col-md-6">\n            API Key\n        </div>\n    </td>\n</tr>\n'},useData:!0}),this.Handlebars.templates["settings/api-template-item"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<div class="row auth-token-details">\n    <div class="col-md-4">\n        '+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'\n    </div>\n    <div class="col-md-6">\n        <b>'+alias4("function"==typeof(helper=null!=(helper=helpers.token||(null!=depth0?depth0.token:depth0))?helper:alias2)?helper.call(alias1,{name:"token",hash:{},data:data}):helper)+'</b>\n    </div>\n    <div class="col-md-2">\n        <i class="dmio-icon fas fa-copy" data-onclick="copyToken" data-token="'+alias4("function"==typeof(helper=null!=(helper=helpers.token||(null!=depth0?depth0.token:depth0))?helper:alias2)?helper.call(alias1,{name:"token",hash:{},data:data}):helper)+'"></i>\n        <i class="dmio-icon fas fa-trash pull-right" data-onclick="deleteToken" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'"></i>\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["settings/license-card-item"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return'        <div class="r100">\n            <div class="rotated current a100 bg-primary centre-all">CURRENT</div>\n        </div>\n'},3:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.offer:depth0,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.program(6,data,0),data:data}))?stack1:""},4:function(container,depth0,helpers,partials,data){var stack1;return'        <div class="r100">\n            <div class="a100 bg-distraction centre-all">Subscribe now @ '+container.escapeExpression(container.lambda(null!=(stack1=null!=depth0?depth0.offer:depth0)?stack1.discount:stack1,depth0))+"% off</div>\n        </div>\n"},6:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.isBest:depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))?stack1:""},7:function(container,depth0,helpers,partials,data){return'        <div class="r100">\n            <div class="rotated best-pick a100 bg-fire centre-all">BEST PICK</div>\n        </div>\n    '},9:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <div class="price-value slashed">'+alias3("function"==typeof(helper=null!=(helper=helpers.price||(null!=depth0?depth0.price:depth0))?helper:alias2)?helper.call(alias1,{name:"price",hash:{},data:data}):helper)+'</div>\n                <div class="price-value">'+alias3((helpers.math||depth0&&depth0.math||alias2).call(alias1,null!=(stack1=null!=depth0?depth0.offer:depth0)?stack1.effective_price:stack1,"/",100,{name:"math",hash:{},data:data}))+"</div>\n"},11:function(container,depth0,helpers,partials,data){var helper;return'                <div class="price-value">'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.price||(null!=depth0?depth0.price:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"price",hash:{},data:data}):helper)+"</div>\n"},13:function(container,depth0,helpers,partials,data){return'                    <tr><td align="center">'+container.escapeExpression(container.lambda(depth0,depth0))+"</td></tr>\n"},15:function(container,depth0,helpers,partials,data){return"disabled"},17:function(container,depth0,helpers,partials,data){return container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"license.subscribed",{name:"i18n",hash:{},data:data}))},19:function(container,depth0,helpers,partials,data){return container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"license.subscribe",{name:"i18n",hash:{},data:data}))},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="license-plan-card">\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isCurrent:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+'    <div class="license-plan">\n        <h3 class="text-center">'+alias4(typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'</h3>\n        <div class="price">\n            <div class="price-currency">$</div>\n'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.offer:depth0,{name:"if",hash:{},fn:container.program(9,data,0),inverse:container.program(11,data,0),data:data}))?stack1:"")+'            <div class="price-period">'+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"billing.per.",null!=depth0?depth0.billingPeriodUnit:depth0,{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+'</div>\n        </div>\n        <div class="features">\n            <table class="table mt-2">\n                <tr><td align="center"><strong>'+alias4(typeof(helper=null!=(helper=helpers.volume||(null!=depth0?depth0.volume:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"volume",hash:{},data:data}):helper)+"</strong>&nbsp;"+alias4(typeof(helper=null!=(helper=helpers.unit||(null!=depth0?depth0.unit:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"unit",hash:{},data:data}):helper)+"</td></tr>\n"+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.features:depth0,{name:"each",hash:{},fn:container.program(13,data,0),inverse:container.noop,data:data}))?stack1:"")+'            </table>\n        </div>\n        <div class="subscribe  mt-2">\n            <a data-onclick="subscribe" data-plan="'+alias4(typeof(helper=null!=(helper=helpers.planId||(null!=depth0?depth0.planId:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"planId",hash:{},data:data}):helper)+'" class="btn btn-primary hover"\n               '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isCurrent:depth0,{name:"if",hash:{},fn:container.program(15,data,0),inverse:container.noop,data:data}))?stack1:"")+'\n               title="'+alias4(typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'">'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isCurrent:depth0,{name:"if",hash:{},fn:container.program(17,data,0),inverse:container.program(19,data,0),data:data}))?stack1:"")+"</a>\n        </div>\n    </div>\n</div>"},useData:!0}),this.Handlebars.templates["settings/license"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return'            <div class="no-data fm3x">Updating Subscription...</div>\n'},3:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'            <h3 class="mb-4">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"license.subscription.current",{name:"i18n",hash:{},data:data}))+'</h3>\n            <div class="row">\n                <div class="col-md-1">\n                    <b>Plan</b><br />\n                    '+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.current_plan:stack1)?stack1.name:stack1,depth0))+'\n                </div>\n                <div class="col-md-4 col-xlg-3">\n                    <div class="d-inline-block">\n                        <div id="license-usage"></div>\n                    </div>\n                    <div class="d-inline-block v-top">\n                        <b>Documents Created</b><br />\n                        '+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.subscription:stack1)?stack1.consumed:stack1,depth0))+"/"+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.subscription:stack1)?stack1.limit:stack1,depth0))+"\n                    </div>\n                </div>\n"+(null!=(stack1=helpers.unless.call(alias1,null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.current_plan:stack1)?stack1.isFree:stack1,{name:"unless",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))?stack1:"")+'                <div class="col-md-2">\n                    <button class="btn btn-gray" data-onclick="manageBilling">Manage Billing</button>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-md-12 centre-all">\n                    <h3 class="mt-5 regrade flex-1">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"license.choose",{name:"i18n",hash:{},data:data}))+"</h3>\n                </div>\n            </div>\n"+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.period:depth0,"===","month",{name:"if",hash:{},fn:container.program(6,data,0),inverse:container.noop,data:data}))?stack1:"")+'            <div class="row">\n                <div class="col-md-12" id="license-plans">\n                </div>\n            </div>\n            <div class="row centre-all">\n                <span class="text-muted">\n                    Looking for custom plan? <a href="javascript:AppUtils.openChatSupport(\'Hi there! I\\\'m looking for Custom Plan\');"> contact support </a>\n                </span>\n            </div>\n'},4:function(container,depth0,helpers,partials,data){var stack1;return'                    <div class="col-md-2">\n                        <b>Usage Reset</b><br />\n                        '+container.escapeExpression(container.lambda(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.subscription:stack1)?stack1.nextBillingIn:stack1,depth0))+"\n                    </div>\n"},6:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'                <div class="row">\n                    <div class="col-md-12 centre-all">\n                        <div class="license-periods d-flex">\n                            <div class="monthly '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.period:depth0,"===","month",{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))?stack1:"")+'" data-period="month" data-onclick="updatePeriodType">Monthly</div>\n                            <div class="yearly '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.period:depth0,"===","year",{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))?stack1:"")+'" data-period="year" data-onclick="updatePeriodType">Yearly&nbsp;&nbsp;</div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-md-12 centre-all">\n                        <div class="text-center promote-annual">Subscribe for yearly plans and get 2 months free</div>\n                    </div>\n                </div>\n'},7:function(container,depth0,helpers,partials,data){return"selected"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{};return'<div class="license-container">\n    <div id="regrade-license">\n'+(null!=(stack1=helpers.if.call(alias1,(helpers.global||depth0&&depth0.global||helpers.helperMissing).call(alias1,"CURRENT_SUBSCRIPTION",{name:"global",hash:{},data:data}),{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+"    </div>\n</div>"},useData:!0}),this.Handlebars.templates["settings/linked-account-list-container"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                        <div class="account-type overflow-item" data-onclick="link" data-type="'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" data-accounttype="'+alias4("function"==typeof(helper=null!=(helper=helpers.account_type||(null!=depth0?depth0.account_type:depth0))?helper:alias2)?helper.call(alias1,{name:"account_type",hash:{},data:data}):helper)+'">\n                            <div class="account-img-container">\n                                <img class="dropdown-logo logo-'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" alt="'+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+' logo" src="'+alias4((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery_logos/",null!=depth0?depth0.logo:depth0,{name:"append",hash:{},data:data}),{name:"static_img",hash:{},data:data}))+'" />\n                            </div>\n                            '+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".label",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+" "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.account_type:depth0,{name:"if",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data}))?stack1:"")+"\n                        </div>\n"},2:function(container,depth0,helpers,partials,data){var helper;return"("+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.account_type||(null!=depth0?depth0.account_type:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"account_type",hash:{},data:data}):helper)+")"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="linked-accounts">\n    <div class="list-actions">\n        <div class="table-top-regular">\n            <div class="p-relative w-zero">\n                <button class="btn btn-primary" data-toggle="overflow-menu" data-onclick="toggleOverflow">New linked account</button>\n                <div class="overflow-menu add-accounts">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.linkableAccounts:depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'                </div>\n            </div>\n        </div>\n    </div>\n    <div id="linked-accounts-list">\n\n    </div>\n</div>'},useData:!0}),this.Handlebars.templates["settings/linked-account-template-item"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var helper;return'<div class="col">\n        <i class="fa-exclamation-triangle fa-warning fas pointer"\n           title="Account expired, please reconnect"\n           data-onclick="reconnect" data-id="'+container.escapeExpression("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:helpers.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"id",hash:{},data:data}):helper)+'"></i>\n    </div>'},3:function(container,depth0,helpers,partials,data){return"btn-primary"},5:function(container,depth0,helpers,partials,data){return"btn-link"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'<div class="row centre-vertical linked-account-row">\n    <div class="col-md-2 centre-all">\n        <div class="delivery-template-icon delivery-icon  '+alias4("function"==typeof(helper=null!=(helper=helpers.type||(null!=depth0?depth0.type:depth0))?helper:alias2)?helper.call(alias1,{name:"type",hash:{},data:data}):helper)+'" title="'+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,(helpers.append||depth0&&depth0.append||alias2).call(alias1,"delivery.",null!=depth0?depth0.type:depth0,".label",{name:"append",hash:{},data:data}),{name:"i18n",hash:{},data:data}))+'"></div>\n    </div>\n    <div class="col-md-6 centre-horizontal">\n        \n        <b>'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+"</b>\n    </div>\n    "+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isExpired:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'\n    <div class="col-md-4 centre-all-row">\n        <button class="btn '+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.isExpired:depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))?stack1:"")+'" data-onclick="reconnect" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n            '+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.linked_accounts.reconnect",{name:"i18n",hash:{},data:data}))+'\n        </button>\n        <button class="btn btn-link text-danger" data-onclick="revokeAccess" data-id="'+alias4("function"==typeof(helper=null!=(helper=helpers.id||(null!=depth0?depth0.id:depth0))?helper:alias2)?helper.call(alias1,{name:"id",hash:{},data:data}):helper)+'">\n            '+alias4((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.linked_accounts.revoke_access",{name:"i18n",hash:{},data:data}))+"\n        </button>\n    </div>\n</div>"},useData:!0}),this.Handlebars.templates["settings/new-api-token"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<form class="dmio-form">\n    <input type="text" name="name" class="form-control"\n           placeholder="'+container.escapeExpression((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"api_token.name",{name:"i18n",hash:{},data:data}))+'" maxlength="50" />\n</form>'},useData:!0}),this.Handlebars.templates["settings/new-hellosign-linked-account"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'<form class="dmio-form">\n  <input type="text" name="access_token" class="form-control"\n         placeholder="'+alias1((helpers.i18n||depth0&&depth0.i18n||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"linked_accounts.hello_sign.token",{name:"i18n",hash:{},data:data}))+'" value="'+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.folder:depth0)?stack1.name:stack1,depth0))+'"/>\n  <input type="hidden" name="type" value="hellosign"/>\n</form>\n'},useData:!0}),this.Handlebars.templates["settings/new-s3-linked-account"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<form class="dmio-form">\n    <div class="form-group">\n        <input type="text" name="aws_access_key_id" class="form-control" id="aws_access_key_id"\n               placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"linked_accounts.s3.aws_access_key_id",{name:"i18n",hash:{},data:data}))+'"/>\n    </div>\n\n    <div class="form-group">\n        <input type="text" name="aws_secret_access_key" class="form-control" id="aws_secret_access_key"\n               placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"linked_accounts.s3.aws_secret_access_key",{name:"i18n",hash:{},data:data}))+'"/>\n    </div>\n</form>\n'},useData:!0}),this.Handlebars.templates["settings/profile"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <div class="form-group">\n                    <label for="first_name" class="col-sm-3 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.profile.first_name",{name:"i18n",hash:{},data:data}))+'</label>\n                    <div class="col-sm-9">\n                        <input type="hidden" name="id" value="'+alias3("function"==typeof(helper=null!=(helper=helpers.user_id||(null!=depth0?depth0.user_id:depth0))?helper:alias2)?helper.call(alias1,{name:"user_id",hash:{},data:data}):helper)+'">\n                        <input type="text" class="form-control" name="first_name" id="first_name" maxlength="30"\n                               placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"form.enter","settings.profile.first_name",{name:"i18n",hash:{},data:data}))+'" value="'+alias3("function"==typeof(helper=null!=(helper=helpers.first_name||(null!=depth0?depth0.first_name:depth0))?helper:alias2)?helper.call(alias1,{name:"first_name",hash:{},data:data}):helper)+'" required>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="inputName" class="col-sm-3 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.profile.last_name",{name:"i18n",hash:{},data:data}))+'</label>\n                    <div class="col-sm-9">\n                        <input type="text" class="form-control" name="last_name" maxlength="150"\n                               placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"form.enter","settings.profile.last_name",{name:"i18n",hash:{},data:data}))+'" value="'+alias3("function"==typeof(helper=null!=(helper=helpers.last_name||(null!=depth0?depth0.last_name:depth0))?helper:alias2)?helper.call(alias1,{name:"last_name",hash:{},data:data}):helper)+'" required>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="organization" class="col-sm-3 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.profile.company_name",{name:"i18n",hash:{},data:data}))+'</label>\n                    <div class="col-sm-9">\n                        <input type="text" class="form-control" name="organization" id="organization"\n                               placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"form.enter","settings.profile.company_name",{name:"i18n",hash:{},data:data}))+'" value="'+alias3(container.lambda(null!=(stack1=null!=depth0?depth0.organization:depth0)?stack1.name:stack1,depth0))+'">\n                    </div>\n                </div>\n'},3:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'                            <option value="'+alias4("function"==typeof(helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data}):helper)+'" '+(null!=(stack1=helpers.if.call(alias1,null!=(stack1=null!=depths[1]?depths[1].user:depths[1])?stack1.timeZone:stack1,"===",null!=depth0?depth0.name:depth0,{name:"if",hash:{},fn:container.program(4,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+">"+alias4("function"==typeof(helper=null!=(helper=helpers.timeZone||(null!=depth0?depth0.timeZone:depth0))?helper:alias2)?helper.call(alias1,{name:"timeZone",hash:{},data:data}):helper)+"</option>\n"},4:function(container,depth0,helpers,partials,data){return"selected"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<h3>Profile Settings</h3>\n<div class="row">\n    <div class="col-md-7 mt-3">\n        <form class="form-horizontal dmio-form">\n'+(null!=(stack1=helpers.with.call(alias1,null!=depth0?depth0.user:depth0,{name:"with",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'            <div class="form-group">\n                <label for="timezone" class="col-sm-3 control-label">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.profile.timezone",{name:"i18n",hash:{},data:data}))+'</label>\n                <div class="col-sm-9">\n                    <select class="form-control" name="timezone" id="timezone">\n'+(null!=(stack1=helpers.each.call(alias1,null!=depth0?depth0.data:depth0,{name:"each",hash:{},fn:container.program(3,data,0,blockParams,depths),inverse:container.noop,data:data}))?stack1:"")+'                    </select>\n                </div>\n            </div>\n            <div class="box-footer">\n                <button type="submit" class="btn btn-primary pull-right">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.profile.save",{name:"i18n",hash:{},data:data}))+"</button>\n            </div>\n        </form>\n    </div>\n</div>"},useData:!0,useDepths:!0}),this.Handlebars.templates["settings/regrade-subscription"]=Handlebars.template({1:function(container,depth0,helpers,partials,data){return"            Please note that you will be charged only a pro-rated amount for the current billing cycle and you can use additional quota right away\n"},3:function(container,depth0,helpers,partials,data){return"            Please note that you will be issued with a pro-rated credit based on the usage for current billing cycle\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return"<div>\n    Change Subscription to "+alias2(alias1(null!=(stack1=null!=depth0?depth0.newSubscription:depth0)?stack1.name:stack1,depth0))+" plan?\n</div>\n<div>\n    You will be charged <strong>"+alias2(alias1(null!=(stack1=null!=depth0?depth0.newSubscription:depth0)?stack1.price:stack1,depth0))+"$ per month</strong>\n    and will be allowed to create <strong>"+alias2(alias1(null!=(stack1=null!=depth0?depth0.newSubscription:depth0)?stack1.volume:stack1,depth0))+' documents per month</strong>\n</div>\n<br />\n<div class="light-note">\n    <i>\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.isUpgrade:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+"    </i>\n</div>"},useData:!0}),this.Handlebars.templates["settings/security-tab"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="container">\n    <h3>Update Password</h3>\n    <div class="row mt-3">\n        <div class="col-md-5">\n            <form class="form-horizontal dmio-form">\n                <div class="form-group">\n                    <input type="password" class="form-control" name="current_password" id="current_password"\n                           placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"form.enter","settings.security.current_password",{name:"i18n",hash:{},data:data}))+'" required>\n                </div>\n                <div class="form-group">\n                    <input type="password" class="form-control" name="new_password" id="new_password"\n                           placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"form.enter","settings.security.new_password",{name:"i18n",hash:{},data:data}))+'" required>\n                </div>\n                <div class="form-group">\n                    <input type="password" class="form-control" name="confirm_new_password" id="confirm_new_password"\n                           placeholder="'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.security.confirm_password",{name:"i18n",hash:{},data:data}))+'" required>\n                </div>\n                <div class="form-group">\n                    <button type="submit" class="btn btn-primary pull-right">'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.security.save",{name:"i18n",hash:{},data:data}))+"</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>"},useData:!0}),this.Handlebars.templates["settings/settings_home"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="row settings-container">\n    <div class="col-md-9" id="settings-tabs-container"></div>\n    <div class="col-md-3" id="settings-rhs-view"></div>\n</div>'},useData:!0}),this.Handlebars.templates["structure/footer"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="hidden-xs">\n    <b>Version</b> '+container.escapeExpression((helpers.global||depth0&&depth0.global||helpers.helperMissing).call(null!=depth0?depth0:container.nullContext||{},"version",{name:"global",hash:{},data:data}))+"\n</div>\n<small>&copy; Flackon Inc. All Rights Reserved</small>"},useData:!0}),this.Handlebars.templates["structure/header"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<nav class="navbar navbar-/static-top">\n    <a href="javascript:void(0);" class="sidebar-toggle center-header" data-toggle="push-menu" role="button" data-onclick="onHamburgerClick">\n        <div class="hamburger"></div>\n        <span class="sr-only">\x3c!--Toggle navigation--\x3e</span>\n    </a>\n    <div class="navbar-custom-menu">\n        <ul class="nav navbar-nav" id="header-user">\n            <li class="header-action">\n                <div style="margin-right: 16px;" id="whats-new">\n                    <a title="What\'s new">What\'s new</a>\n                </div>\n            </li>\n            <li class="header-action">\n                <a href="javascript:void(0);" id="overview-action" data-onclick="showOverview"><img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"demo.svg",{name:"static_img",hash:{},data:data}))+'" title="Product Overview" /></a>\n            </li>\n            \x3c!--<li class="header-action">\n                <a href="javascript:AppUtils.openChatSupport();"><img src="'+alias3((helpers.static_img||depth0&&depth0.static_img||alias2).call(alias1,"demo.svg",{name:"static_img",hash:{},data:data}))+'" title="Request Demo" /></a>\n            </li>--\x3e\n            <li class="header-action">\n                <a href="javascript:AppUtils.openChatSupport();"><i class="text-muted fas fa-comments" title="Chat Support"></i></a>\n            </li>\n            <li class="header-action">\n                <a href="mailto:support@docupilot.app"><i class="text-muted fas fa-life-ring" title="Email Support"></i></a>\n            </li>\n            <li class="header-action">\n                <a href="https://help.docupilot.app" target="_blank"><i class="text-muted fas fa-question" title="Help Docs"></i></a>\n            </li>\n            <li class="usage">\n                <div id="subscription-usage">\n                    \x3c!-- INSERT USAGE --\x3e\n                </div>\n            </li>\n            <li class="dropdown user user-menu">\n                <a href="javascript:void(0);" class="center-header" data-toggle="overflow-menu" data-onclick="showUserContextMenu">\n                    <span>'+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.profile:stack1)?stack1.signature_alphabet:stack1,depth0))+'</span>\n                </a>\n                <div class="overflow-menu">\n                    <div class="overflow-item" href="/settings/profile" route>\n                        '+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.profile:stack1)?stack1.first_name:stack1,depth0))+" "+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.profile:stack1)?stack1.last_name:stack1,depth0))+"\n                        <small>"+alias3(alias4(null!=(stack1=null!=(stack1=null!=depth0?depth0.data:depth0)?stack1.profile:stack1)?stack1.email:stack1,depth0))+'</small>\n                    </div>\n                    <div class="overflow-item" href="/settings/security" route>\n                        '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.tabs.security",{name:"i18n",hash:{},data:data}))+'\n                    </div>\n                    <div class="overflow-item" href="/settings/subscription" route>\n                        '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"license.subscription",{name:"i18n",hash:{},data:data}))+'\n                    </div>\n                    <div class="overflow-item" data-onclick="logout">\n                        '+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"accounts.sign_out",{name:"i18n",hash:{},data:data}))+"\n                    </div>\n                </div>\n            </li>\n        </ul>\n    </div>\n</nav>"},useData:!0}),this.Handlebars.templates["structure/lhs-pane"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<section class="sidebar" style="height: auto;">\n    <ul class="sidebar-menu">\n        <li>&nbsp;</li>\n        <li id="lhs-home" class="lhs-item">\n            <a href="/">\n                <i class="dmio-icon fas fa-file template-icon"></i>\n                <span>'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"documents.label",{name:"i18n",hash:{},data:data}))+'</span>\n            </a>\n        </li>\n        <li id="lhs-settings" class="lhs-item">\n            <a href="/settings/profile">\n                <i class="dmio-icon fas fa-cog"></i>\n                <span>'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"settings.label",{name:"i18n",hash:{},data:data}))+'</span>\n            </a>\n        </li>\n        <li id="lhs-reports" class="lhs-item">\n            <a href="/reports/history">\n                <i class="dmio-icon fas fa-chart-bar"></i>\n                <span>'+alias3((helpers.i18n||depth0&&depth0.i18n||alias2).call(alias1,"reports.label",{name:"i18n",hash:{},data:data}))+'</span>\n            </a>\n        </li>\n        \x3c!--<li id="lhs-integrations" class="lhs-item">\n            <a href="/integrations">\n                <i class="dmio-icon wb-loop"></i>\n                <span></span>\n            </a>\n        </li>--\x3e\n    </ul>\n</section>'},useData:!0});